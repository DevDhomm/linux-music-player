(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2606:(e,r,a)=>{Promise.resolve().then(a.t.bind(a,4392,23)),Promise.resolve().then(a.bind(a,9236)),Promise.resolve().then(a.bind(a,3251))},4392:()=>{},4197:e=>{e.exports={container:"draggable_container__nKaNv",container1:"draggable_container1__EKurS",player:"draggable_player__Jxg_3",visualizer:"draggable_visualizer__c9azm",background:"draggable_background__RigPh",foreground:"draggable_foreground__76ZLm",controls:"draggable_controls__YsWtd",btn:"draggable_btn__XcQ1U",playlist:"draggable_playlist__g_ckV"}},9236:(e,r,a)=>{"use strict";a.d(r,{default:()=>g});var t=a(3064),l=a(9444),n=a(1762),i=a(5286),s=a(2976),c=a(8279),o=a(2400),d=a(6044),u=a(4197),m=a(9352).hp;let h=e=>{let{id:r,children:a}=e,{attributes:l,listeners:n,setNodeRef:i,transform:s,transition:d}=(0,c.gl)({id:r}),u={transform:o.Ks.Transform.toString(s),transition:d};return(0,t.jsx)("li",{ref:i,style:u,...l,...n,children:a})},g=()=>{var e;let[r,a]=(0,l.useState)([]),[o,g]=(0,l.useState)([]),[x,b]=(0,l.useState)(0),[p,f]=(0,l.useState)(null),v=(0,l.useRef)(null),[j,y]=(0,l.useState)(!1),[_,k]=(0,l.useState)(!1),w=(0,l.useRef)(null);(0,l.useEffect)(()=>{(async()=>{try{let e=(await (0,n.Ci)("Musique",{baseDir:n.DE.Home})).map((e,r)=>({id:r,name:e.name,path:"Musique/".concat(e.name)}));a(e),g(e)}catch(e){console.error("Error reading directory:",e)}})()},[]),(0,l.useEffect)(()=>{v.current&&r.length>0&&(async e=>{try{let r=await (0,n.TA)(e,{baseDir:n.DE.Home}),a=await (0,i.ix)(m.from(r));f(a);let t=new Blob([new Uint8Array(r)],{type:"audio/mp4"}),l=URL.createObjectURL(t);v.current.src=l}catch(e){console.error("Erreur de lecture du fichier:",e)}})(r[x].path)},[x,r]),(0,l.useEffect)(()=>{!w.current&&v.current&&(w.current=new d.A(document.getElementById("visualizer"),{source:v.current,alphaBars:!1,ansiBands:!1,barSpace:.1,bgAlpha:"0",channelLayout:"single",colorMode:"gradient",fadePeaks:!0,fftSize:256,fillAlpha:1,frequencyScale:"linear",gradient:"rainbow",gravity:3.8,ledBars:!0,linearAmplitude:!0,linearBoost:1.8,lineWidth:4,loRes:!1,lumiBars:!1,maxDecibels:-25,maxFPS:0,maxFreq:8e3,minDecibels:-85,minFreq:100,mirror:0,mode:0,noteLabels:!1,outlineBars:!1,overlay:!0,peakFadeTime:750,peakHoldTime:500,peakLine:!0,radial:!1,radialInvert:!1,radius:.3,reflexAlpha:"0.3",reflexBright:"0.9",reflexFit:!0,reflexRatio:.3,roundBars:!1,showBgColor:!0,showFPS:!1,showPeaks:!0,showScaleX:!1,showScaleY:!1,smoothing:.8,spinSpeed:0,splitGradient:!1,trueLeds:!1,useCanvas:!0,volume:1,weightingFilter:""}))},[v.current]);let E=()=>{let e=[...r];for(let r=e.length-1;r>0;r--){let a=Math.floor(Math.random()*(r+1));[e[r],e[a]]=[e[a],e[r]]}return e};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:u.container,children:[(0,t.jsxs)("div",{className:u.container1,children:[p&&(0,t.jsx)("div",{className:u.player,children:(0,t.jsxs)("div",{children:[(null===(e=p.common.picture)||void 0===e?void 0:e[0])&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:u.background,style:{background:"url(".concat(URL.createObjectURL(new Blob([p.common.picture[0].data],{type:p.common.picture[0].format})),") center/cover")}}),(0,t.jsx)("div",{className:u.foreground,children:(0,t.jsx)("img",{src:URL.createObjectURL(new Blob([p.common.picture[0].data],{type:p.common.picture[0].format})),alt:"Cover"})})]}),(0,t.jsx)("h2",{children:p.common.title||r[x].name})]})}),(0,t.jsxs)("div",{className:u.controls,children:[(0,t.jsx)("audio",{autoPlay:!0,ref:v,id:"audioPlayer",controls:!0,onEnded:()=>{b(e=>(e+1)%r.length)}}),(0,t.jsxs)("div",{className:u.btn,children:[(0,t.jsx)("button",{onClick:()=>{b(e=>(e-1+r.length)%r.length)},children:(0,t.jsx)("img",{src:"/back.svg",alt:"back"})}),(0,t.jsx)("button",{onClick:()=>{b(e=>(e+1)%r.length)},children:(0,t.jsx)("img",{src:"/next.svg",alt:"next"})}),(0,t.jsx)("button",{onClick:()=>{k(e=>{let r=!e;return r?a(E()):a(o),r})},style:{backgroundColor:_?"#080808de":"#1e1e1e85"},children:(0,t.jsx)("img",{src:"/shuffle.svg",alt:"shuffle"})}),(0,t.jsx)("button",{onClick:()=>y(!j),children:(0,t.jsx)("img",{src:"/playlist.svg",alt:"playlist"})})]})]})]}),(0,t.jsx)("div",{className:u.container2,children:(0,t.jsx)("div",{id:"visualizer",className:u.visualizer})})]}),j&&(0,t.jsx)("div",{className:u.playlist,children:(0,t.jsx)(s.Mp,{onDragEnd:e=>{let{active:t,over:l}=e;t.id!==l.id&&(a(e=>{let r=e.findIndex(e=>e.id===t.id),a=e.findIndex(e=>e.id===l.id);return(0,c.be)(e,r,a)}),g(r))},children:(0,t.jsx)(c.gB,{items:r,children:(0,t.jsx)("ul",{children:r.map((e,r)=>(0,t.jsx)(h,{id:e.id,children:(0,t.jsx)("p",{style:{color:r===x?"gold":"white"},children:e.name})},e.id))})})})})]})}},3251:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>c});var t=a(3064),l=a(9444),n=a(1762),i=a(5286),s=a(9352).hp;let c=()=>{var e;let[r,a]=(0,l.useState)([]),[c,o]=(0,l.useState)(0),[d,u]=(0,l.useState)(null),m=(0,l.useRef)(null);return(0,l.useEffect)(()=>{(async()=>{try{let e=(await (0,n.Ci)("Musique",{baseDir:n.DE.Home})).map(e=>({name:e.name,path:"Musique/".concat(e.name)}));a(e)}catch(e){console.error("Error reading directory:",e)}})()},[]),(0,l.useEffect)(()=>{m.current&&r.length>0&&(async e=>{try{let r=await (0,n.TA)(e,{baseDir:n.DE.Home}),a=await (0,i.ix)(s.from(r));u(a);let t=new Blob([new Uint8Array(r)],{type:"audio/mp4"}),l=URL.createObjectURL(t);m.current.src=l}catch(e){console.error("Erreur de lecture du fichier:",e)}})(r[c].path)},[c,r]),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{children:"Lecteur de Musique"}),(0,t.jsx)("audio",{autoPlay:!0,ref:m,id:"audioPlayer",controls:!0,onEnded:()=>{o(e=>(e+1)%r.length)}}),d&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{children:d.common.title||r[c].name}),(null===(e=d.common.picture)||void 0===e?void 0:e[0])&&(0,t.jsx)("img",{src:URL.createObjectURL(new Blob([d.common.picture[0].data],{type:d.common.picture[0].format})),alt:"Cover"})]}),(0,t.jsx)("button",{onClick:()=>{o(e=>(e-1+r.length)%r.length)},children:"Pr\xe9c\xe9dent"}),(0,t.jsx)("button",{onClick:()=>{o(e=>(e+1)%r.length)},children:"Suivant"}),(0,t.jsx)("ul",{children:[...r.slice(c+1),...r.slice(0,c)].map((e,a)=>(0,t.jsx)("li",{onClick:()=>o((c+a+1)%r.length),children:e.name},a))})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[760,31,279,311,358],()=>r(2606)),_N_E=e.O()}]);