"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_pnpm_music-metadata_10_7_0_node_modules_music-metadata_lib_mu-b79c23"],{

/***/ "(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractID3Parser: () => (/* binding */ AbstractID3Parser)\n/* harmony export */ });\n/* harmony import */ var strtok3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! strtok3 */ \"(app-pages-browser)/./node_modules/.pnpm/strtok3@10.0.1/node_modules/strtok3/lib/core.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! debug */ \"(app-pages-browser)/./node_modules/.pnpm/debug@4.4.0/node_modules/debug/src/browser.js\");\n/* harmony import */ var _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ID3v2Token.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v2/ID3v2Token.js\");\n/* harmony import */ var _ID3v2Parser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ID3v2Parser.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v2/ID3v2Parser.js\");\n/* harmony import */ var _id3v1_ID3v1Parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../id3v1/ID3v1Parser.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v1/ID3v1Parser.js\");\n/* harmony import */ var _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/BasicParser.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/common/BasicParser.js\");\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_1__('music-metadata:parser:ID3');\n/**\n * Abstract parser which tries take ID3v2 and ID3v1 headers.\n */\nclass AbstractID3Parser extends _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_5__.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.id3parser = new _ID3v2Parser_js__WEBPACK_IMPORTED_MODULE_3__.ID3v2Parser();\n    }\n    static async startsWithID3v2Header(tokenizer) {\n        return (await tokenizer.peekToken(_ID3v2Token_js__WEBPACK_IMPORTED_MODULE_2__.ID3v2Header)).fileIdentifier === 'ID3';\n    }\n    async parse() {\n        try {\n            await this.parseID3v2();\n        }\n        catch (err) {\n            if (err instanceof strtok3__WEBPACK_IMPORTED_MODULE_0__.EndOfStreamError) {\n                debug(\"End-of-stream\");\n            }\n            else {\n                throw err;\n            }\n        }\n    }\n    finalize() {\n        return;\n    }\n    async parseID3v2() {\n        await this.tryReadId3v2Headers();\n        debug('End of ID3v2 header, go to MPEG-parser: pos=%s', this.tokenizer.position);\n        await this.postId3v2Parse();\n        if (this.options.skipPostHeaders && this.metadata.hasAny()) {\n            this.finalize();\n        }\n        else {\n            const id3v1parser = new _id3v1_ID3v1Parser_js__WEBPACK_IMPORTED_MODULE_4__.ID3v1Parser(this.metadata, this.tokenizer, this.options);\n            await id3v1parser.parse();\n            this.finalize();\n        }\n    }\n    async tryReadId3v2Headers() {\n        const id3Header = await this.tokenizer.peekToken(_ID3v2Token_js__WEBPACK_IMPORTED_MODULE_2__.ID3v2Header);\n        if (id3Header.fileIdentifier === 'ID3') {\n            debug('Found ID3v2 header, pos=%s', this.tokenizer.position);\n            await this.id3parser.parse(this.metadata, this.tokenizer, this.options);\n            return this.tryReadId3v2Headers();\n        }\n    }\n}\n//# sourceMappingURL=AbstractID3Parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9tdXNpYy1tZXRhZGF0YUAxMC43LjAvbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9pZDN2Mi9BYnN0cmFjdElEM1BhcnNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTJDO0FBQ2I7QUFDZ0I7QUFDQztBQUNPO0FBQ0M7QUFDdkQsY0FBYyxrQ0FBUztBQUN2QjtBQUNBO0FBQ0E7QUFDTyxnQ0FBZ0MsK0RBQVc7QUFDbEQ7QUFDQTtBQUNBLDZCQUE2Qix3REFBVztBQUN4QztBQUNBO0FBQ0EsMENBQTBDLHVEQUFXO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxREFBZ0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLDhEQUFXO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsdURBQVc7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvbGlsYXMvQnVyZWF1L0Rldi9MTVAvbm9kZV9tb2R1bGVzLy5wbnBtL211c2ljLW1ldGFkYXRhQDEwLjcuMC9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0Fic3RyYWN0SUQzUGFyc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVuZE9mU3RyZWFtRXJyb3IgfSBmcm9tICdzdHJ0b2szJztcbmltcG9ydCBpbml0RGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IHsgSUQzdjJIZWFkZXIgfSBmcm9tICcuL0lEM3YyVG9rZW4uanMnO1xuaW1wb3J0IHsgSUQzdjJQYXJzZXIgfSBmcm9tICcuL0lEM3YyUGFyc2VyLmpzJztcbmltcG9ydCB7IElEM3YxUGFyc2VyIH0gZnJvbSAnLi4vaWQzdjEvSUQzdjFQYXJzZXIuanMnO1xuaW1wb3J0IHsgQmFzaWNQYXJzZXIgfSBmcm9tICcuLi9jb21tb24vQmFzaWNQYXJzZXIuanMnO1xuY29uc3QgZGVidWcgPSBpbml0RGVidWcoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjpJRDMnKTtcbi8qKlxuICogQWJzdHJhY3QgcGFyc2VyIHdoaWNoIHRyaWVzIHRha2UgSUQzdjIgYW5kIElEM3YxIGhlYWRlcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBBYnN0cmFjdElEM1BhcnNlciBleHRlbmRzIEJhc2ljUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5pZDNwYXJzZXIgPSBuZXcgSUQzdjJQYXJzZXIoKTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIHN0YXJ0c1dpdGhJRDN2MkhlYWRlcih0b2tlbml6ZXIpIHtcbiAgICAgICAgcmV0dXJuIChhd2FpdCB0b2tlbml6ZXIucGVla1Rva2VuKElEM3YySGVhZGVyKSkuZmlsZUlkZW50aWZpZXIgPT09ICdJRDMnO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGFyc2VJRDN2MigpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFbmRPZlN0cmVhbUVycm9yKSB7XG4gICAgICAgICAgICAgICAgZGVidWcoXCJFbmQtb2Ytc3RyZWFtXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZpbmFsaXplKCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlSUQzdjIoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMudHJ5UmVhZElkM3YySGVhZGVycygpO1xuICAgICAgICBkZWJ1ZygnRW5kIG9mIElEM3YyIGhlYWRlciwgZ28gdG8gTVBFRy1wYXJzZXI6IHBvcz0lcycsIHRoaXMudG9rZW5pemVyLnBvc2l0aW9uKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wb3N0SWQzdjJQYXJzZSgpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNraXBQb3N0SGVhZGVycyAmJiB0aGlzLm1ldGFkYXRhLmhhc0FueSgpKSB7XG4gICAgICAgICAgICB0aGlzLmZpbmFsaXplKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpZDN2MXBhcnNlciA9IG5ldyBJRDN2MVBhcnNlcih0aGlzLm1ldGFkYXRhLCB0aGlzLnRva2VuaXplciwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgIGF3YWl0IGlkM3YxcGFyc2VyLnBhcnNlKCk7XG4gICAgICAgICAgICB0aGlzLmZpbmFsaXplKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgdHJ5UmVhZElkM3YySGVhZGVycygpIHtcbiAgICAgICAgY29uc3QgaWQzSGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucGVla1Rva2VuKElEM3YySGVhZGVyKTtcbiAgICAgICAgaWYgKGlkM0hlYWRlci5maWxlSWRlbnRpZmllciA9PT0gJ0lEMycpIHtcbiAgICAgICAgICAgIGRlYnVnKCdGb3VuZCBJRDN2MiBoZWFkZXIsIHBvcz0lcycsIHRoaXMudG9rZW5pemVyLnBvc2l0aW9uKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaWQzcGFyc2VyLnBhcnNlKHRoaXMubWV0YWRhdGEsIHRoaXMudG9rZW5pemVyLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJ5UmVhZElkM3YySGVhZGVycygpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWJzdHJhY3RJRDNQYXJzZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v2/FrameParser.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v2/FrameParser.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FrameParser: () => (/* binding */ FrameParser),\n/* harmony export */   Id3v2ContentError: () => (/* binding */ Id3v2ContentError),\n/* harmony export */   parseGenre: () => (/* binding */ parseGenre)\n/* harmony export */ });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"(app-pages-browser)/./node_modules/.pnpm/debug@4.4.0/node_modules/debug/src/browser.js\");\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! token-types */ \"(app-pages-browser)/./node_modules/.pnpm/token-types@6.0.0/node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/Util.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/common/Util.js\");\n/* harmony import */ var _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ID3v2Token.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v2/ID3v2Token.js\");\n/* harmony import */ var _id3v1_ID3v1Parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../id3v1/ID3v1Parser.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v1/ID3v1Parser.js\");\n/* harmony import */ var _ParseError_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ParseError.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/ParseError.js\");\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_0__('music-metadata:id3v2:frame-parser');\nconst defaultEnc = 'latin1'; // latin1 == iso-8859-1;\nfunction parseGenre(origVal) {\n    // match everything inside parentheses\n    const genres = [];\n    let code;\n    let word = '';\n    for (const c of origVal) {\n        if (typeof code === 'string') {\n            if (c === '(' && code === '') {\n                word += '(';\n                code = undefined;\n            }\n            else if (c === ')') {\n                if (word !== '') {\n                    genres.push(word);\n                    word = '';\n                }\n                const genre = parseGenreCode(code);\n                if (genre) {\n                    genres.push(genre);\n                }\n                code = undefined;\n            }\n            else\n                code += c;\n        }\n        else if (c === '(') {\n            code = '';\n        }\n        else {\n            word += c;\n        }\n    }\n    if (word) {\n        if (genres.length === 0 && word.match(/^\\d*$/)) {\n            word = parseGenreCode(word);\n        }\n        if (word) {\n            genres.push(word);\n        }\n    }\n    return genres;\n}\nfunction parseGenreCode(code) {\n    if (code === 'RX')\n        return 'Remix';\n    if (code === 'CR')\n        return 'Cover';\n    if (code.match(/^\\d*$/)) {\n        return _id3v1_ID3v1Parser_js__WEBPACK_IMPORTED_MODULE_4__.Genres[Number.parseInt(code)];\n    }\n}\nclass FrameParser {\n    /**\n     * Create id3v2 frame parser\n     * @param major - Major version, e.g. (4) for  id3v2.4\n     * @param warningCollector - Used to collect decode issue\n     */\n    constructor(major, warningCollector) {\n        this.major = major;\n        this.warningCollector = warningCollector;\n    }\n    readData(uint8Array, type, includeCovers) {\n        if (uint8Array.length === 0) {\n            this.warningCollector.addWarning(`id3v2.${this.major} header has empty tag type=${type}`);\n            return;\n        }\n        const { encoding, bom } = _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.TextEncodingToken.get(uint8Array, 0);\n        const length = uint8Array.length;\n        let offset = 0;\n        let output = []; // ToDo\n        const nullTerminatorLength = FrameParser.getNullTerminatorLength(encoding);\n        let fzero;\n        debug(`Parsing tag type=${type}, encoding=${encoding}, bom=${bom}`);\n        switch (type !== 'TXXX' && type[0] === 'T' ? 'T*' : type) {\n            case 'T*': // 4.2.1. Text information frames - details\n            case 'GRP1': // iTunes-specific ID3v2 grouping field\n            case 'IPLS': // v2.3: Involved people list\n            case 'MVIN':\n            case 'MVNM':\n            case 'PCS':\n            case 'PCST': {\n                let text;\n                try {\n                    text = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(1), encoding).replace(/\\x00+$/, '');\n                }\n                catch (error) {\n                    if (error instanceof Error) {\n                        this.warningCollector.addWarning(`id3v2.${this.major} type=${type} header has invalid string value: ${error.message}`);\n                        break;\n                    }\n                    throw error;\n                }\n                switch (type) {\n                    case 'TMCL': // Musician credits list\n                    case 'TIPL': // Involved people list\n                    case 'IPLS': // Involved people list\n                        output = FrameParser.functionList(this.splitValue(type, text));\n                        break;\n                    case 'TRK':\n                    case 'TRCK':\n                    case 'TPOS':\n                        output = text;\n                        break;\n                    case 'TCOM':\n                    case 'TEXT':\n                    case 'TOLY':\n                    case 'TOPE':\n                    case 'TPE1':\n                    case 'TSRC':\n                        // id3v2.3 defines that TCOM, TEXT, TOLY, TOPE & TPE1 values are separated by /\n                        output = this.splitValue(type, text);\n                        break;\n                    case 'TCO':\n                    case 'TCON':\n                        output = this.splitValue(type, text).map(v => parseGenre(v)).reduce((acc, val) => acc.concat(val), []);\n                        break;\n                    case 'PCS':\n                    case 'PCST':\n                        // TODO: Why `default` not results `1` but `''`?\n                        output = this.major >= 4 ? this.splitValue(type, text) : [text];\n                        output = (Array.isArray(output) && output[0] === '') ? 1 : 0;\n                        break;\n                    default:\n                        output = this.major >= 4 ? this.splitValue(type, text) : [text];\n                }\n                break;\n            }\n            case 'TXXX': {\n                const idAndData = FrameParser.readIdentifierAndData(uint8Array, offset + 1, length, encoding);\n                const textTag = {\n                    description: idAndData.id,\n                    text: this.splitValue(type, _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(idAndData.data, encoding).replace(/\\x00+$/, ''))\n                };\n                output = textTag;\n                break;\n            }\n            case 'PIC':\n            case 'APIC':\n                if (includeCovers) {\n                    const pic = {};\n                    offset += 1;\n                    switch (this.major) {\n                        case 2:\n                            pic.format = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, offset + 3), 'latin1'); // 'latin1'; // latin1 == iso-8859-1;\n                            offset += 3;\n                            break;\n                        case 3:\n                        case 4:\n                            fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset, length, defaultEnc);\n                            pic.format = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, fzero), defaultEnc);\n                            offset = fzero + 1;\n                            break;\n                        default:\n                            throw makeUnexpectedMajorVersionError(this.major);\n                    }\n                    pic.format = FrameParser.fixPictureMimeType(pic.format);\n                    pic.type = _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.AttachedPictureType[uint8Array[offset]];\n                    offset += 1;\n                    fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset, length, encoding);\n                    pic.description = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, fzero), encoding);\n                    offset = fzero + nullTerminatorLength;\n                    pic.data = uint8Array.slice(offset, length);\n                    output = pic;\n                }\n                break;\n            case 'CNT':\n            case 'PCNT':\n                output = token_types__WEBPACK_IMPORTED_MODULE_1__.UINT32_BE.get(uint8Array, 0);\n                break;\n            case 'SYLT': {\n                const syltHeader = _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.SyncTextHeader.get(uint8Array, 0);\n                offset += _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.SyncTextHeader.len;\n                const result = {\n                    descriptor: '',\n                    language: syltHeader.language,\n                    contentType: syltHeader.contentType,\n                    timeStampFormat: syltHeader.timeStampFormat,\n                    syncText: []\n                };\n                let readSyllables = false;\n                while (offset < length) {\n                    const nullStr = FrameParser.readNullTerminatedString(uint8Array.subarray(offset), syltHeader.encoding);\n                    offset += nullStr.len;\n                    if (readSyllables) {\n                        const timestamp = token_types__WEBPACK_IMPORTED_MODULE_1__.UINT32_BE.get(uint8Array, offset);\n                        offset += token_types__WEBPACK_IMPORTED_MODULE_1__.UINT32_BE.len;\n                        result.syncText.push({\n                            text: nullStr.text,\n                            timestamp\n                        });\n                    }\n                    else {\n                        result.descriptor = nullStr.text;\n                        readSyllables = true;\n                    }\n                }\n                output = result;\n                break;\n            }\n            case 'ULT':\n            case 'USLT':\n            case 'COM':\n            case 'COMM': {\n                const textHeader = _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.TextHeader.get(uint8Array, offset);\n                offset += _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.TextHeader.len;\n                const descriptorStr = FrameParser.readNullTerminatedString(uint8Array.subarray(offset), textHeader.encoding);\n                offset += descriptorStr.len;\n                const textStr = FrameParser.readNullTerminatedString(uint8Array.subarray(offset), textHeader.encoding);\n                const comment = {\n                    language: textHeader.language,\n                    descriptor: descriptorStr.text,\n                    text: textStr.text\n                };\n                output = comment;\n                break;\n            }\n            case 'UFID': {\n                const ufid = FrameParser.readIdentifierAndData(uint8Array, offset, length, defaultEnc);\n                output = { owner_identifier: ufid.id, identifier: ufid.data };\n                break;\n            }\n            case 'PRIV': { // private frame\n                const priv = FrameParser.readIdentifierAndData(uint8Array, offset, length, defaultEnc);\n                output = { owner_identifier: priv.id, data: priv.data };\n                break;\n            }\n            case 'POPM': { // Popularimeter\n                fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset, length, defaultEnc);\n                const email = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, fzero), defaultEnc);\n                offset = fzero + 1;\n                const dataLen = length - offset;\n                output = {\n                    email,\n                    rating: token_types__WEBPACK_IMPORTED_MODULE_1__.UINT8.get(uint8Array, offset),\n                    counter: dataLen >= 5 ? token_types__WEBPACK_IMPORTED_MODULE_1__.UINT32_BE.get(uint8Array, offset + 1) : undefined\n                };\n                break;\n            }\n            case 'GEOB': { // General encapsulated object\n                fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset + 1, length, encoding);\n                const mimeType = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset + 1, fzero), defaultEnc);\n                offset = fzero + 1;\n                fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset, length, encoding);\n                const filename = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, fzero), defaultEnc);\n                offset = fzero + 1;\n                fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset, length, encoding);\n                const description = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, fzero), defaultEnc);\n                offset = fzero + 1;\n                const geob = {\n                    type: mimeType,\n                    filename,\n                    description,\n                    data: uint8Array.slice(offset, length)\n                };\n                output = geob;\n                break;\n            }\n            // W-Frames:\n            case 'WCOM':\n            case 'WCOP':\n            case 'WOAF':\n            case 'WOAR':\n            case 'WOAS':\n            case 'WORS':\n            case 'WPAY':\n            case 'WPUB':\n                // Decode URL\n                fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset + 1, length, encoding);\n                output = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, fzero), defaultEnc);\n                break;\n            case 'WXXX': {\n                // Decode URL\n                fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset + 1, length, encoding);\n                const description = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset + 1, fzero), encoding);\n                offset = fzero + (encoding === 'utf-16le' ? 2 : 1);\n                output = { description, url: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, length), defaultEnc) };\n                break;\n            }\n            case 'WFD':\n            case 'WFED':\n                output = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset + 1, _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset + 1, length, encoding)), encoding);\n                break;\n            case 'MCDI': {\n                // Music CD identifier\n                output = uint8Array.slice(0, length);\n                break;\n            }\n            default:\n                debug(`Warning: unsupported id3v2-tag-type: ${type}`);\n                break;\n        }\n        return output;\n    }\n    static readNullTerminatedString(uint8Array, encoding) {\n        let offset = encoding.bom ? 2 : 0;\n        const zeroIndex = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset, uint8Array.length, encoding.encoding);\n        const txt = uint8Array.slice(offset, zeroIndex);\n        if (encoding.encoding === 'utf-16le') {\n            offset = zeroIndex + 2;\n        }\n        else {\n            offset = zeroIndex + 1;\n        }\n        return {\n            text: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(txt, encoding.encoding),\n            len: offset\n        };\n    }\n    static fixPictureMimeType(pictureType) {\n        pictureType = pictureType.toLocaleLowerCase();\n        switch (pictureType) {\n            case 'jpg':\n                return 'image/jpeg';\n            case 'png':\n                return 'image/png';\n        }\n        return pictureType;\n    }\n    /**\n     * Converts TMCL (Musician credits list) or TIPL (Involved people list)\n     * @param entries\n     */\n    static functionList(entries) {\n        const res = {};\n        for (let i = 0; i + 1 < entries.length; i += 2) {\n            const names = entries[i + 1].split(',');\n            res[entries[i]] = res[entries[i]] ? res[entries[i]].concat(names) : names;\n        }\n        return res;\n    }\n    /**\n     * id3v2.4 defines that multiple T* values are separated by 0x00\n     * id3v2.3 defines that TCOM, TEXT, TOLY, TOPE & TPE1 values are separated by /\n     * @param tag - Tag name\n     * @param text - Concatenated tag value\n     * @returns Split tag value\n     */\n    splitValue(tag, text) {\n        let values;\n        if (this.major < 4) {\n            values = text.split(/\\x00/g);\n            if (values.length > 1) {\n                this.warningCollector.addWarning(`ID3v2.${this.major} ${tag} uses non standard null-separator.`);\n            }\n            else {\n                values = text.split(/\\//g);\n            }\n        }\n        else {\n            values = text.split(/\\x00/g);\n        }\n        return FrameParser.trimArray(values);\n    }\n    static trimArray(values) {\n        return values.map(value => value.replace(/\\x00+$/, '').trim());\n    }\n    static readIdentifierAndData(uint8Array, offset, length, encoding) {\n        const fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset, length, encoding);\n        const id = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, fzero), encoding);\n        offset = fzero + FrameParser.getNullTerminatorLength(encoding);\n        return { id, data: uint8Array.slice(offset, length) };\n    }\n    static getNullTerminatorLength(enc) {\n        return enc === 'utf-16le' ? 2 : 1;\n    }\n}\nclass Id3v2ContentError extends (0,_ParseError_js__WEBPACK_IMPORTED_MODULE_5__.makeUnexpectedFileContentError)('id3v2') {\n}\nfunction makeUnexpectedMajorVersionError(majorVer) {\n    throw new Id3v2ContentError(`Unexpected majorVer: ${majorVer}`);\n}\n//# sourceMappingURL=FrameParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9tdXNpYy1tZXRhZGF0YUAxMC43LjAvbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9pZDN2Mi9GcmFtZVBhcnNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBOEI7QUFDTztBQUNLO0FBQzJEO0FBQ3BEO0FBQ2lCO0FBQ2xFLGNBQWMsa0NBQVM7QUFDdkIsNkJBQTZCO0FBQ3RCO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQU07QUFDckI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxZQUFZLDRCQUE0QixLQUFLO0FBQ25HO0FBQ0E7QUFDQSxnQkFBZ0IsZ0JBQWdCLEVBQUUsNkRBQWlCO0FBQ25EO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLGtDQUFrQyxLQUFLLGFBQWEsU0FBUyxRQUFRLElBQUk7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIseURBQWlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxZQUFZLE9BQU8sTUFBTSxtQ0FBbUMsY0FBYztBQUM1STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCx5REFBaUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx5REFBaUIsa0RBQWtELGFBQWE7QUFDekg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MscURBQWE7QUFDakQseUNBQXlDLHlEQUFpQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsK0RBQW1CO0FBQ2xEO0FBQ0EsNEJBQTRCLHFEQUFhO0FBQ3pDLHNDQUFzQyx5REFBaUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsa0RBQWU7QUFDeEM7QUFDQTtBQUNBLG1DQUFtQywwREFBYztBQUNqRCwwQkFBMEIsMERBQWM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGtEQUFlO0FBQ3pELGtDQUFrQyxrREFBZTtBQUNqRDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsc0RBQVU7QUFDN0MsMEJBQTBCLHNEQUFVO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQix3QkFBd0IscURBQWE7QUFDckMsOEJBQThCLHlEQUFpQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw4Q0FBVztBQUN2Qyw0Q0FBNEMsa0RBQWU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCLHdCQUF3QixxREFBYTtBQUNyQyxpQ0FBaUMseURBQWlCO0FBQ2xEO0FBQ0Esd0JBQXdCLHFEQUFhO0FBQ3JDLGlDQUFpQyx5REFBaUI7QUFDbEQ7QUFDQSx3QkFBd0IscURBQWE7QUFDckMsb0NBQW9DLHlEQUFpQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFEQUFhO0FBQ3JDLHlCQUF5Qix5REFBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFEQUFhO0FBQ3JDLG9DQUFvQyx5REFBaUI7QUFDckQ7QUFDQSwyQkFBMkIsa0JBQWtCLHlEQUFpQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix5REFBaUIsOEJBQThCLHFEQUFhO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELEtBQUs7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHFEQUFhO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IseURBQWlCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHdCQUF3QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELFlBQVksRUFBRSxLQUFLO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IscURBQWE7QUFDbkMsbUJBQW1CLHlEQUFpQjtBQUNwQztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sZ0NBQWdDLDhFQUE4QjtBQUNyRTtBQUNBO0FBQ0Esd0RBQXdELFNBQVM7QUFDakU7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvbGlsYXMvQnVyZWF1L0Rldi9MTVAvbm9kZV9tb2R1bGVzLy5wbnBtL211c2ljLW1ldGFkYXRhQDEwLjcuMC9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0ZyYW1lUGFyc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpbml0RGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0ICogYXMgVG9rZW4gZnJvbSAndG9rZW4tdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi9jb21tb24vVXRpbC5qcyc7XG5pbXBvcnQgeyBBdHRhY2hlZFBpY3R1cmVUeXBlLCBTeW5jVGV4dEhlYWRlciwgVGV4dEVuY29kaW5nVG9rZW4sIFRleHRIZWFkZXIgfSBmcm9tICcuL0lEM3YyVG9rZW4uanMnO1xuaW1wb3J0IHsgR2VucmVzIH0gZnJvbSAnLi4vaWQzdjEvSUQzdjFQYXJzZXIuanMnO1xuaW1wb3J0IHsgbWFrZVVuZXhwZWN0ZWRGaWxlQ29udGVudEVycm9yIH0gZnJvbSAnLi4vUGFyc2VFcnJvci5qcyc7XG5jb25zdCBkZWJ1ZyA9IGluaXREZWJ1ZygnbXVzaWMtbWV0YWRhdGE6aWQzdjI6ZnJhbWUtcGFyc2VyJyk7XG5jb25zdCBkZWZhdWx0RW5jID0gJ2xhdGluMSc7IC8vIGxhdGluMSA9PSBpc28tODg1OS0xO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlR2VucmUob3JpZ1ZhbCkge1xuICAgIC8vIG1hdGNoIGV2ZXJ5dGhpbmcgaW5zaWRlIHBhcmVudGhlc2VzXG4gICAgY29uc3QgZ2VucmVzID0gW107XG4gICAgbGV0IGNvZGU7XG4gICAgbGV0IHdvcmQgPSAnJztcbiAgICBmb3IgKGNvbnN0IGMgb2Ygb3JpZ1ZhbCkge1xuICAgICAgICBpZiAodHlwZW9mIGNvZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoYyA9PT0gJygnICYmIGNvZGUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgd29yZCArPSAnKCc7XG4gICAgICAgICAgICAgICAgY29kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09ICcpJykge1xuICAgICAgICAgICAgICAgIGlmICh3b3JkICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICBnZW5yZXMucHVzaCh3b3JkKTtcbiAgICAgICAgICAgICAgICAgICAgd29yZCA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBnZW5yZSA9IHBhcnNlR2VucmVDb2RlKGNvZGUpO1xuICAgICAgICAgICAgICAgIGlmIChnZW5yZSkge1xuICAgICAgICAgICAgICAgICAgICBnZW5yZXMucHVzaChnZW5yZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY29kZSArPSBjO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPT09ICcoJykge1xuICAgICAgICAgICAgY29kZSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd29yZCArPSBjO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh3b3JkKSB7XG4gICAgICAgIGlmIChnZW5yZXMubGVuZ3RoID09PSAwICYmIHdvcmQubWF0Y2goL15cXGQqJC8pKSB7XG4gICAgICAgICAgICB3b3JkID0gcGFyc2VHZW5yZUNvZGUod29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdvcmQpIHtcbiAgICAgICAgICAgIGdlbnJlcy5wdXNoKHdvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBnZW5yZXM7XG59XG5mdW5jdGlvbiBwYXJzZUdlbnJlQ29kZShjb2RlKSB7XG4gICAgaWYgKGNvZGUgPT09ICdSWCcpXG4gICAgICAgIHJldHVybiAnUmVtaXgnO1xuICAgIGlmIChjb2RlID09PSAnQ1InKVxuICAgICAgICByZXR1cm4gJ0NvdmVyJztcbiAgICBpZiAoY29kZS5tYXRjaCgvXlxcZCokLykpIHtcbiAgICAgICAgcmV0dXJuIEdlbnJlc1tOdW1iZXIucGFyc2VJbnQoY29kZSldO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBGcmFtZVBhcnNlciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGlkM3YyIGZyYW1lIHBhcnNlclxuICAgICAqIEBwYXJhbSBtYWpvciAtIE1ham9yIHZlcnNpb24sIGUuZy4gKDQpIGZvciAgaWQzdjIuNFxuICAgICAqIEBwYXJhbSB3YXJuaW5nQ29sbGVjdG9yIC0gVXNlZCB0byBjb2xsZWN0IGRlY29kZSBpc3N1ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1ham9yLCB3YXJuaW5nQ29sbGVjdG9yKSB7XG4gICAgICAgIHRoaXMubWFqb3IgPSBtYWpvcjtcbiAgICAgICAgdGhpcy53YXJuaW5nQ29sbGVjdG9yID0gd2FybmluZ0NvbGxlY3RvcjtcbiAgICB9XG4gICAgcmVhZERhdGEodWludDhBcnJheSwgdHlwZSwgaW5jbHVkZUNvdmVycykge1xuICAgICAgICBpZiAodWludDhBcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMud2FybmluZ0NvbGxlY3Rvci5hZGRXYXJuaW5nKGBpZDN2Mi4ke3RoaXMubWFqb3J9IGhlYWRlciBoYXMgZW1wdHkgdGFnIHR5cGU9JHt0eXBlfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgZW5jb2RpbmcsIGJvbSB9ID0gVGV4dEVuY29kaW5nVG9rZW4uZ2V0KHVpbnQ4QXJyYXksIDApO1xuICAgICAgICBjb25zdCBsZW5ndGggPSB1aW50OEFycmF5Lmxlbmd0aDtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIGxldCBvdXRwdXQgPSBbXTsgLy8gVG9Eb1xuICAgICAgICBjb25zdCBudWxsVGVybWluYXRvckxlbmd0aCA9IEZyYW1lUGFyc2VyLmdldE51bGxUZXJtaW5hdG9yTGVuZ3RoKGVuY29kaW5nKTtcbiAgICAgICAgbGV0IGZ6ZXJvO1xuICAgICAgICBkZWJ1ZyhgUGFyc2luZyB0YWcgdHlwZT0ke3R5cGV9LCBlbmNvZGluZz0ke2VuY29kaW5nfSwgYm9tPSR7Ym9tfWApO1xuICAgICAgICBzd2l0Y2ggKHR5cGUgIT09ICdUWFhYJyAmJiB0eXBlWzBdID09PSAnVCcgPyAnVConIDogdHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnVConOiAvLyA0LjIuMS4gVGV4dCBpbmZvcm1hdGlvbiBmcmFtZXMgLSBkZXRhaWxzXG4gICAgICAgICAgICBjYXNlICdHUlAxJzogLy8gaVR1bmVzLXNwZWNpZmljIElEM3YyIGdyb3VwaW5nIGZpZWxkXG4gICAgICAgICAgICBjYXNlICdJUExTJzogLy8gdjIuMzogSW52b2x2ZWQgcGVvcGxlIGxpc3RcbiAgICAgICAgICAgIGNhc2UgJ01WSU4nOlxuICAgICAgICAgICAgY2FzZSAnTVZOTSc6XG4gICAgICAgICAgICBjYXNlICdQQ1MnOlxuICAgICAgICAgICAgY2FzZSAnUENTVCc6IHtcbiAgICAgICAgICAgICAgICBsZXQgdGV4dDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZSgxKSwgZW5jb2RpbmcpLnJlcGxhY2UoL1xceDAwKyQvLCAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53YXJuaW5nQ29sbGVjdG9yLmFkZFdhcm5pbmcoYGlkM3YyLiR7dGhpcy5tYWpvcn0gdHlwZT0ke3R5cGV9IGhlYWRlciBoYXMgaW52YWxpZCBzdHJpbmcgdmFsdWU6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVE1DTCc6IC8vIE11c2ljaWFuIGNyZWRpdHMgbGlzdFxuICAgICAgICAgICAgICAgICAgICBjYXNlICdUSVBMJzogLy8gSW52b2x2ZWQgcGVvcGxlIGxpc3RcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnSVBMUyc6IC8vIEludm9sdmVkIHBlb3BsZSBsaXN0XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBGcmFtZVBhcnNlci5mdW5jdGlvbkxpc3QodGhpcy5zcGxpdFZhbHVlKHR5cGUsIHRleHQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdUUksnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdUUkNLJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVFBPUyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB0ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1RDT00nOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdURVhUJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVE9MWSc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1RPUEUnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdUUEUxJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVFNSQyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZDN2Mi4zIGRlZmluZXMgdGhhdCBUQ09NLCBURVhULCBUT0xZLCBUT1BFICYgVFBFMSB2YWx1ZXMgYXJlIHNlcGFyYXRlZCBieSAvXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB0aGlzLnNwbGl0VmFsdWUodHlwZSwgdGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVENPJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVENPTic6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB0aGlzLnNwbGl0VmFsdWUodHlwZSwgdGV4dCkubWFwKHYgPT4gcGFyc2VHZW5yZSh2KSkucmVkdWNlKChhY2MsIHZhbCkgPT4gYWNjLmNvbmNhdCh2YWwpLCBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnUENTJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnUENTVCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBXaHkgYGRlZmF1bHRgIG5vdCByZXN1bHRzIGAxYCBidXQgYCcnYD9cbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IHRoaXMubWFqb3IgPj0gNCA/IHRoaXMuc3BsaXRWYWx1ZSh0eXBlLCB0ZXh0KSA6IFt0ZXh0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IChBcnJheS5pc0FycmF5KG91dHB1dCkgJiYgb3V0cHV0WzBdID09PSAnJykgPyAxIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gdGhpcy5tYWpvciA+PSA0ID8gdGhpcy5zcGxpdFZhbHVlKHR5cGUsIHRleHQpIDogW3RleHRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ1RYWFgnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWRBbmREYXRhID0gRnJhbWVQYXJzZXIucmVhZElkZW50aWZpZXJBbmREYXRhKHVpbnQ4QXJyYXksIG9mZnNldCArIDEsIGxlbmd0aCwgZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRUYWcgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBpZEFuZERhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuc3BsaXRWYWx1ZSh0eXBlLCB1dGlsLmRlY29kZVN0cmluZyhpZEFuZERhdGEuZGF0YSwgZW5jb2RpbmcpLnJlcGxhY2UoL1xceDAwKyQvLCAnJykpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSB0ZXh0VGFnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnUElDJzpcbiAgICAgICAgICAgIGNhc2UgJ0FQSUMnOlxuICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlQ292ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBpYyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLm1ham9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljLmZvcm1hdCA9IHV0aWwuZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyAzKSwgJ2xhdGluMScpOyAvLyAnbGF0aW4xJzsgLy8gbGF0aW4xID09IGlzby04ODU5LTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnplcm8gPSB1dGlsLmZpbmRaZXJvKHVpbnQ4QXJyYXksIG9mZnNldCwgbGVuZ3RoLCBkZWZhdWx0RW5jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWMuZm9ybWF0ID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZShvZmZzZXQsIGZ6ZXJvKSwgZGVmYXVsdEVuYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gZnplcm8gKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBtYWtlVW5leHBlY3RlZE1ham9yVmVyc2lvbkVycm9yKHRoaXMubWFqb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBpYy5mb3JtYXQgPSBGcmFtZVBhcnNlci5maXhQaWN0dXJlTWltZVR5cGUocGljLmZvcm1hdCk7XG4gICAgICAgICAgICAgICAgICAgIHBpYy50eXBlID0gQXR0YWNoZWRQaWN0dXJlVHlwZVt1aW50OEFycmF5W29mZnNldF1dO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgZnplcm8gPSB1dGlsLmZpbmRaZXJvKHVpbnQ4QXJyYXksIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZyk7XG4gICAgICAgICAgICAgICAgICAgIHBpYy5kZXNjcmlwdGlvbiA9IHV0aWwuZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0LCBmemVybyksIGVuY29kaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gZnplcm8gKyBudWxsVGVybWluYXRvckxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgcGljLmRhdGEgPSB1aW50OEFycmF5LnNsaWNlKG9mZnNldCwgbGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gcGljO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0NOVCc6XG4gICAgICAgICAgICBjYXNlICdQQ05UJzpcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBUb2tlbi5VSU5UMzJfQkUuZ2V0KHVpbnQ4QXJyYXksIDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnU1lMVCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzeWx0SGVhZGVyID0gU3luY1RleHRIZWFkZXIuZ2V0KHVpbnQ4QXJyYXksIDApO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSBTeW5jVGV4dEhlYWRlci5sZW47XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IHN5bHRIZWFkZXIubGFuZ3VhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBzeWx0SGVhZGVyLmNvbnRlbnRUeXBlLFxuICAgICAgICAgICAgICAgICAgICB0aW1lU3RhbXBGb3JtYXQ6IHN5bHRIZWFkZXIudGltZVN0YW1wRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICBzeW5jVGV4dDogW11cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGxldCByZWFkU3lsbGFibGVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG9mZnNldCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBudWxsU3RyID0gRnJhbWVQYXJzZXIucmVhZE51bGxUZXJtaW5hdGVkU3RyaW5nKHVpbnQ4QXJyYXkuc3ViYXJyYXkob2Zmc2V0KSwgc3lsdEhlYWRlci5lbmNvZGluZyk7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBudWxsU3RyLmxlbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlYWRTeWxsYWJsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IFRva2VuLlVJTlQzMl9CRS5nZXQodWludDhBcnJheSwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBUb2tlbi5VSU5UMzJfQkUubGVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN5bmNUZXh0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IG51bGxTdHIudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlc2NyaXB0b3IgPSBudWxsU3RyLnRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkU3lsbGFibGVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXRwdXQgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdVTFQnOlxuICAgICAgICAgICAgY2FzZSAnVVNMVCc6XG4gICAgICAgICAgICBjYXNlICdDT00nOlxuICAgICAgICAgICAgY2FzZSAnQ09NTSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0SGVhZGVyID0gVGV4dEhlYWRlci5nZXQodWludDhBcnJheSwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gVGV4dEhlYWRlci5sZW47XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRvclN0ciA9IEZyYW1lUGFyc2VyLnJlYWROdWxsVGVybWluYXRlZFN0cmluZyh1aW50OEFycmF5LnN1YmFycmF5KG9mZnNldCksIHRleHRIZWFkZXIuZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSBkZXNjcmlwdG9yU3RyLmxlbjtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0U3RyID0gRnJhbWVQYXJzZXIucmVhZE51bGxUZXJtaW5hdGVkU3RyaW5nKHVpbnQ4QXJyYXkuc3ViYXJyYXkob2Zmc2V0KSwgdGV4dEhlYWRlci5lbmNvZGluZyk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tbWVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IHRleHRIZWFkZXIubGFuZ3VhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0b3I6IGRlc2NyaXB0b3JTdHIudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dFN0ci50ZXh0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBjb21tZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnVUZJRCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1ZmlkID0gRnJhbWVQYXJzZXIucmVhZElkZW50aWZpZXJBbmREYXRhKHVpbnQ4QXJyYXksIG9mZnNldCwgbGVuZ3RoLCBkZWZhdWx0RW5jKTtcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSB7IG93bmVyX2lkZW50aWZpZXI6IHVmaWQuaWQsIGlkZW50aWZpZXI6IHVmaWQuZGF0YSB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnUFJJVic6IHsgLy8gcHJpdmF0ZSBmcmFtZVxuICAgICAgICAgICAgICAgIGNvbnN0IHByaXYgPSBGcmFtZVBhcnNlci5yZWFkSWRlbnRpZmllckFuZERhdGEodWludDhBcnJheSwgb2Zmc2V0LCBsZW5ndGgsIGRlZmF1bHRFbmMpO1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IHsgb3duZXJfaWRlbnRpZmllcjogcHJpdi5pZCwgZGF0YTogcHJpdi5kYXRhIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdQT1BNJzogeyAvLyBQb3B1bGFyaW1ldGVyXG4gICAgICAgICAgICAgICAgZnplcm8gPSB1dGlsLmZpbmRaZXJvKHVpbnQ4QXJyYXksIG9mZnNldCwgbGVuZ3RoLCBkZWZhdWx0RW5jKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbWFpbCA9IHV0aWwuZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0LCBmemVybyksIGRlZmF1bHRFbmMpO1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IGZ6ZXJvICsgMTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhTGVuID0gbGVuZ3RoIC0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IHtcbiAgICAgICAgICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIHJhdGluZzogVG9rZW4uVUlOVDguZ2V0KHVpbnQ4QXJyYXksIG9mZnNldCksXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXI6IGRhdGFMZW4gPj0gNSA/IFRva2VuLlVJTlQzMl9CRS5nZXQodWludDhBcnJheSwgb2Zmc2V0ICsgMSkgOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnR0VPQic6IHsgLy8gR2VuZXJhbCBlbmNhcHN1bGF0ZWQgb2JqZWN0XG4gICAgICAgICAgICAgICAgZnplcm8gPSB1dGlsLmZpbmRaZXJvKHVpbnQ4QXJyYXksIG9mZnNldCArIDEsIGxlbmd0aCwgZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbWVUeXBlID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZShvZmZzZXQgKyAxLCBmemVybyksIGRlZmF1bHRFbmMpO1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IGZ6ZXJvICsgMTtcbiAgICAgICAgICAgICAgICBmemVybyA9IHV0aWwuZmluZFplcm8odWludDhBcnJheSwgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlbmFtZSA9IHV0aWwuZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0LCBmemVybyksIGRlZmF1bHRFbmMpO1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IGZ6ZXJvICsgMTtcbiAgICAgICAgICAgICAgICBmemVybyA9IHV0aWwuZmluZFplcm8odWludDhBcnJheSwgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHV0aWwuZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0LCBmemVybyksIGRlZmF1bHRFbmMpO1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IGZ6ZXJvICsgMTtcbiAgICAgICAgICAgICAgICBjb25zdCBnZW9iID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtaW1lVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB1aW50OEFycmF5LnNsaWNlKG9mZnNldCwgbGVuZ3RoKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gZ2VvYjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFctRnJhbWVzOlxuICAgICAgICAgICAgY2FzZSAnV0NPTSc6XG4gICAgICAgICAgICBjYXNlICdXQ09QJzpcbiAgICAgICAgICAgIGNhc2UgJ1dPQUYnOlxuICAgICAgICAgICAgY2FzZSAnV09BUic6XG4gICAgICAgICAgICBjYXNlICdXT0FTJzpcbiAgICAgICAgICAgIGNhc2UgJ1dPUlMnOlxuICAgICAgICAgICAgY2FzZSAnV1BBWSc6XG4gICAgICAgICAgICBjYXNlICdXUFVCJzpcbiAgICAgICAgICAgICAgICAvLyBEZWNvZGUgVVJMXG4gICAgICAgICAgICAgICAgZnplcm8gPSB1dGlsLmZpbmRaZXJvKHVpbnQ4QXJyYXksIG9mZnNldCArIDEsIGxlbmd0aCwgZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IHV0aWwuZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0LCBmemVybyksIGRlZmF1bHRFbmMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnV1hYWCc6IHtcbiAgICAgICAgICAgICAgICAvLyBEZWNvZGUgVVJMXG4gICAgICAgICAgICAgICAgZnplcm8gPSB1dGlsLmZpbmRaZXJvKHVpbnQ4QXJyYXksIG9mZnNldCArIDEsIGxlbmd0aCwgZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZShvZmZzZXQgKyAxLCBmemVybyksIGVuY29kaW5nKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBmemVybyArIChlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJyA/IDIgOiAxKTtcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSB7IGRlc2NyaXB0aW9uLCB1cmw6IHV0aWwuZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0LCBsZW5ndGgpLCBkZWZhdWx0RW5jKSB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnV0ZEJzpcbiAgICAgICAgICAgIGNhc2UgJ1dGRUQnOlxuICAgICAgICAgICAgICAgIG91dHB1dCA9IHV0aWwuZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0ICsgMSwgdXRpbC5maW5kWmVybyh1aW50OEFycmF5LCBvZmZzZXQgKyAxLCBsZW5ndGgsIGVuY29kaW5nKSksIGVuY29kaW5nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ01DREknOiB7XG4gICAgICAgICAgICAgICAgLy8gTXVzaWMgQ0QgaWRlbnRpZmllclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IHVpbnQ4QXJyYXkuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZGVidWcoYFdhcm5pbmc6IHVuc3VwcG9ydGVkIGlkM3YyLXRhZy10eXBlOiAke3R5cGV9YCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgc3RhdGljIHJlYWROdWxsVGVybWluYXRlZFN0cmluZyh1aW50OEFycmF5LCBlbmNvZGluZykge1xuICAgICAgICBsZXQgb2Zmc2V0ID0gZW5jb2RpbmcuYm9tID8gMiA6IDA7XG4gICAgICAgIGNvbnN0IHplcm9JbmRleCA9IHV0aWwuZmluZFplcm8odWludDhBcnJheSwgb2Zmc2V0LCB1aW50OEFycmF5Lmxlbmd0aCwgZW5jb2RpbmcuZW5jb2RpbmcpO1xuICAgICAgICBjb25zdCB0eHQgPSB1aW50OEFycmF5LnNsaWNlKG9mZnNldCwgemVyb0luZGV4KTtcbiAgICAgICAgaWYgKGVuY29kaW5nLmVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSB6ZXJvSW5kZXggKyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2Zmc2V0ID0gemVyb0luZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGV4dDogdXRpbC5kZWNvZGVTdHJpbmcodHh0LCBlbmNvZGluZy5lbmNvZGluZyksXG4gICAgICAgICAgICBsZW46IG9mZnNldFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZml4UGljdHVyZU1pbWVUeXBlKHBpY3R1cmVUeXBlKSB7XG4gICAgICAgIHBpY3R1cmVUeXBlID0gcGljdHVyZVR5cGUudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgc3dpdGNoIChwaWN0dXJlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnanBnJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2ltYWdlL2pwZWcnO1xuICAgICAgICAgICAgY2FzZSAncG5nJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2ltYWdlL3BuZyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpY3R1cmVUeXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBUTUNMIChNdXNpY2lhbiBjcmVkaXRzIGxpc3QpIG9yIFRJUEwgKEludm9sdmVkIHBlb3BsZSBsaXN0KVxuICAgICAqIEBwYXJhbSBlbnRyaWVzXG4gICAgICovXG4gICAgc3RhdGljIGZ1bmN0aW9uTGlzdChlbnRyaWVzKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSArIDEgPCBlbnRyaWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lcyA9IGVudHJpZXNbaSArIDFdLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICByZXNbZW50cmllc1tpXV0gPSByZXNbZW50cmllc1tpXV0gPyByZXNbZW50cmllc1tpXV0uY29uY2F0KG5hbWVzKSA6IG5hbWVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGlkM3YyLjQgZGVmaW5lcyB0aGF0IG11bHRpcGxlIFQqIHZhbHVlcyBhcmUgc2VwYXJhdGVkIGJ5IDB4MDBcbiAgICAgKiBpZDN2Mi4zIGRlZmluZXMgdGhhdCBUQ09NLCBURVhULCBUT0xZLCBUT1BFICYgVFBFMSB2YWx1ZXMgYXJlIHNlcGFyYXRlZCBieSAvXG4gICAgICogQHBhcmFtIHRhZyAtIFRhZyBuYW1lXG4gICAgICogQHBhcmFtIHRleHQgLSBDb25jYXRlbmF0ZWQgdGFnIHZhbHVlXG4gICAgICogQHJldHVybnMgU3BsaXQgdGFnIHZhbHVlXG4gICAgICovXG4gICAgc3BsaXRWYWx1ZSh0YWcsIHRleHQpIHtcbiAgICAgICAgbGV0IHZhbHVlcztcbiAgICAgICAgaWYgKHRoaXMubWFqb3IgPCA0KSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSB0ZXh0LnNwbGl0KC9cXHgwMC9nKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMud2FybmluZ0NvbGxlY3Rvci5hZGRXYXJuaW5nKGBJRDN2Mi4ke3RoaXMubWFqb3J9ICR7dGFnfSB1c2VzIG5vbiBzdGFuZGFyZCBudWxsLXNlcGFyYXRvci5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlcyA9IHRleHQuc3BsaXQoL1xcLy9nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IHRleHQuc3BsaXQoL1xceDAwL2cpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGcmFtZVBhcnNlci50cmltQXJyYXkodmFsdWVzKTtcbiAgICB9XG4gICAgc3RhdGljIHRyaW1BcnJheSh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcy5tYXAodmFsdWUgPT4gdmFsdWUucmVwbGFjZSgvXFx4MDArJC8sICcnKS50cmltKCkpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVhZElkZW50aWZpZXJBbmREYXRhKHVpbnQ4QXJyYXksIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAgICAgICBjb25zdCBmemVybyA9IHV0aWwuZmluZFplcm8odWludDhBcnJheSwgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKTtcbiAgICAgICAgY29uc3QgaWQgPSB1dGlsLmRlY29kZVN0cmluZyh1aW50OEFycmF5LnNsaWNlKG9mZnNldCwgZnplcm8pLCBlbmNvZGluZyk7XG4gICAgICAgIG9mZnNldCA9IGZ6ZXJvICsgRnJhbWVQYXJzZXIuZ2V0TnVsbFRlcm1pbmF0b3JMZW5ndGgoZW5jb2RpbmcpO1xuICAgICAgICByZXR1cm4geyBpZCwgZGF0YTogdWludDhBcnJheS5zbGljZShvZmZzZXQsIGxlbmd0aCkgfTtcbiAgICB9XG4gICAgc3RhdGljIGdldE51bGxUZXJtaW5hdG9yTGVuZ3RoKGVuYykge1xuICAgICAgICByZXR1cm4gZW5jID09PSAndXRmLTE2bGUnID8gMiA6IDE7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIElkM3YyQ29udGVudEVycm9yIGV4dGVuZHMgbWFrZVVuZXhwZWN0ZWRGaWxlQ29udGVudEVycm9yKCdpZDN2MicpIHtcbn1cbmZ1bmN0aW9uIG1ha2VVbmV4cGVjdGVkTWFqb3JWZXJzaW9uRXJyb3IobWFqb3JWZXIpIHtcbiAgICB0aHJvdyBuZXcgSWQzdjJDb250ZW50RXJyb3IoYFVuZXhwZWN0ZWQgbWFqb3JWZXI6ICR7bWFqb3JWZXJ9YCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GcmFtZVBhcnNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v2/FrameParser.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v2/ID3v2Parser.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v2/ID3v2Parser.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ID3v2Parser: () => (/* binding */ ID3v2Parser)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(app-pages-browser)/./node_modules/.pnpm/token-types@6.0.0/node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Util.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/common/Util.js\");\n/* harmony import */ var _FrameParser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FrameParser.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v2/FrameParser.js\");\n/* harmony import */ var _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ID3v2Token.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v2/ID3v2Token.js\");\n\n\n\n\nconst asciiDecoder = new TextDecoder('ascii');\nclass ID3v2Parser {\n    constructor() {\n        this.tokenizer = undefined;\n        this.id3Header = undefined;\n        this.metadata = undefined;\n        this.headerType = undefined;\n        this.options = undefined;\n    }\n    static removeUnsyncBytes(buffer) {\n        let readI = 0;\n        let writeI = 0;\n        while (readI < buffer.length - 1) {\n            if (readI !== writeI) {\n                buffer[writeI] = buffer[readI];\n            }\n            readI += (buffer[readI] === 0xFF && buffer[readI + 1] === 0) ? 2 : 1;\n            writeI++;\n        }\n        if (readI < buffer.length) {\n            buffer[writeI++] = buffer[readI];\n        }\n        return buffer.slice(0, writeI);\n    }\n    static getFrameHeaderLength(majorVer) {\n        switch (majorVer) {\n            case 2:\n                return 6;\n            case 3:\n            case 4:\n                return 10;\n            default:\n                throw makeUnexpectedMajorVersionError(majorVer);\n        }\n    }\n    static readFrameFlags(b) {\n        return {\n            status: {\n                tag_alter_preservation: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(b, 0, 6),\n                file_alter_preservation: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(b, 0, 5),\n                read_only: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(b, 0, 4)\n            },\n            format: {\n                grouping_identity: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(b, 1, 7),\n                compression: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(b, 1, 3),\n                encryption: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(b, 1, 2),\n                unsynchronisation: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(b, 1, 1),\n                data_length_indicator: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(b, 1, 0)\n            }\n        };\n    }\n    static readFrameData(uint8Array, frameHeader, majorVer, includeCovers, warningCollector) {\n        const frameParser = new _FrameParser_js__WEBPACK_IMPORTED_MODULE_2__.FrameParser(majorVer, warningCollector);\n        switch (majorVer) {\n            case 2:\n                return frameParser.readData(uint8Array, frameHeader.id, includeCovers);\n            case 3:\n            case 4:\n                if (frameHeader.flags?.format.unsynchronisation) {\n                    uint8Array = ID3v2Parser.removeUnsyncBytes(uint8Array);\n                }\n                if (frameHeader.flags?.format.data_length_indicator) {\n                    uint8Array = uint8Array.slice(4, uint8Array.length);\n                }\n                return frameParser.readData(uint8Array, frameHeader.id, includeCovers);\n            default:\n                throw makeUnexpectedMajorVersionError(majorVer);\n        }\n    }\n    /**\n     * Create a combined tag key, of tag & description\n     * @param tag e.g.: COM\n     * @param description e.g. iTunPGAP\n     * @returns string e.g. COM:iTunPGAP\n     */\n    static makeDescriptionTagName(tag, description) {\n        return tag + (description ? `:${description}` : '');\n    }\n    async parse(metadata, tokenizer, options) {\n        this.tokenizer = tokenizer;\n        this.metadata = metadata;\n        this.options = options;\n        const id3Header = await this.tokenizer.readToken(_ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.ID3v2Header);\n        if (id3Header.fileIdentifier !== 'ID3') {\n            throw new _FrameParser_js__WEBPACK_IMPORTED_MODULE_2__.Id3v2ContentError('expected ID3-header file-identifier \\'ID3\\' was not found');\n        }\n        this.id3Header = id3Header;\n        this.headerType = (`ID3v2.${id3Header.version.major}`);\n        return id3Header.flags.isExtendedHeader ? this.parseExtendedHeader() : this.parseId3Data(id3Header.size);\n    }\n    async parseExtendedHeader() {\n        const extendedHeader = await this.tokenizer.readToken(_ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.ExtendedHeader);\n        const dataRemaining = extendedHeader.size - _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.ExtendedHeader.len;\n        return dataRemaining > 0 ? this.parseExtendedHeaderData(dataRemaining, extendedHeader.size) : this.parseId3Data(this.id3Header.size - extendedHeader.size);\n    }\n    async parseExtendedHeaderData(dataRemaining, extendedHeaderSize) {\n        await this.tokenizer.ignore(dataRemaining);\n        return this.parseId3Data(this.id3Header.size - extendedHeaderSize);\n    }\n    async parseId3Data(dataLen) {\n        const uint8Array = await this.tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_0__.Uint8ArrayType(dataLen));\n        for (const tag of this.parseMetadata(uint8Array)) {\n            switch (tag.id) {\n                case 'TXXX':\n                    if (tag.value) {\n                        await this.handleTag(tag, tag.value.text, () => tag.value.description);\n                    }\n                    break;\n                default:\n                    await (Array.isArray(tag.value) ? Promise.all(tag.value.map(value => this.addTag(tag.id, value))) : this.addTag(tag.id, tag.value));\n            }\n        }\n    }\n    async handleTag(tag, values, descriptor, resolveValue = value => value) {\n        await Promise.all(values.map(value => this.addTag(ID3v2Parser.makeDescriptionTagName(tag.id, descriptor(value)), resolveValue(value))));\n    }\n    async addTag(id, value) {\n        await this.metadata.addTag(this.headerType, id, value);\n    }\n    parseMetadata(data) {\n        let offset = 0;\n        const tags = [];\n        while (true) {\n            if (offset === data.length)\n                break;\n            const frameHeaderLength = ID3v2Parser.getFrameHeaderLength(this.id3Header.version.major);\n            if (offset + frameHeaderLength > data.length) {\n                this.metadata.addWarning('Illegal ID3v2 tag length');\n                break;\n            }\n            const frameHeaderBytes = data.slice(offset, offset + frameHeaderLength);\n            offset += frameHeaderLength;\n            const frameHeader = this.readFrameHeader(frameHeaderBytes, this.id3Header.version.major);\n            const frameDataBytes = data.slice(offset, offset + frameHeader.length);\n            offset += frameHeader.length;\n            const values = ID3v2Parser.readFrameData(frameDataBytes, frameHeader, this.id3Header.version.major, !this.options.skipCovers, this.metadata);\n            if (values) {\n                tags.push({ id: frameHeader.id, value: values });\n            }\n        }\n        return tags;\n    }\n    readFrameHeader(uint8Array, majorVer) {\n        let header;\n        switch (majorVer) {\n            case 2:\n                header = {\n                    id: asciiDecoder.decode(uint8Array.slice(0, 3)),\n                    length: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_BE.get(uint8Array, 3)\n                };\n                if (!header.id.match(/[A-Z0-9]{3}/g)) {\n                    this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${header.id}`);\n                }\n                break;\n            case 3:\n            case 4:\n                header = {\n                    id: asciiDecoder.decode(uint8Array.slice(0, 4)),\n                    length: (majorVer === 4 ? _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.UINT32SYNCSAFE : token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE).get(uint8Array, 4),\n                    flags: ID3v2Parser.readFrameFlags(uint8Array.slice(8, 10))\n                };\n                if (!header.id.match(/[A-Z0-9]{4}/g)) {\n                    this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${header.id}`);\n                }\n                break;\n            default:\n                throw makeUnexpectedMajorVersionError(majorVer);\n        }\n        return header;\n    }\n}\nfunction makeUnexpectedMajorVersionError(majorVer) {\n    throw new _FrameParser_js__WEBPACK_IMPORTED_MODULE_2__.Id3v2ContentError(`Unexpected majorVer: ${majorVer}`);\n}\n//# sourceMappingURL=ID3v2Parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9tdXNpYy1tZXRhZGF0YUAxMC43LjAvbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9pZDN2Mi9JRDN2MlBhcnNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxQztBQUNLO0FBQ3dCO0FBQ1k7QUFDOUU7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxtREFBVztBQUNuRCx5Q0FBeUMsbURBQVc7QUFDcEQsMkJBQTJCLG1EQUFXO0FBQ3RDLGFBQWE7QUFDYjtBQUNBLG1DQUFtQyxtREFBVztBQUM5Qyw2QkFBNkIsbURBQVc7QUFDeEMsNEJBQTRCLG1EQUFXO0FBQ3ZDLG1DQUFtQyxtREFBVztBQUM5Qyx1Q0FBdUMsbURBQVc7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msd0RBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxZQUFZO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsdURBQVc7QUFDcEU7QUFDQSxzQkFBc0IsOERBQWlCO0FBQ3ZDO0FBQ0E7QUFDQSxvQ0FBb0Msd0JBQXdCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCwwREFBYztBQUM1RSxvREFBb0QsMERBQWM7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsdURBQW9CO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixtQ0FBbUM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0RBQWU7QUFDM0M7QUFDQSwrQ0FBK0MsRUFBRTtBQUNqRCw4REFBOEQsOEJBQThCLG1CQUFtQixVQUFVO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QywwREFBYyxHQUFHLGtEQUFlO0FBQzlFO0FBQ0E7QUFDQSwrQ0FBK0MsRUFBRTtBQUNqRCw4REFBOEQsOEJBQThCLG1CQUFtQixVQUFVO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsOERBQWlCLHlCQUF5QixTQUFTO0FBQ2pFO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2xpbGFzL0J1cmVhdS9EZXYvTE1QL25vZGVfbW9kdWxlcy8ucG5wbS9tdXNpYy1tZXRhZGF0YUAxMC43LjAvbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9pZDN2Mi9JRDN2MlBhcnNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUb2tlbiBmcm9tICd0b2tlbi10eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL2NvbW1vbi9VdGlsLmpzJztcbmltcG9ydCB7IEZyYW1lUGFyc2VyLCBJZDN2MkNvbnRlbnRFcnJvciB9IGZyb20gJy4vRnJhbWVQYXJzZXIuanMnO1xuaW1wb3J0IHsgRXh0ZW5kZWRIZWFkZXIsIElEM3YySGVhZGVyLCBVSU5UMzJTWU5DU0FGRSB9IGZyb20gJy4vSUQzdjJUb2tlbi5qcyc7XG5jb25zdCBhc2NpaURlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ2FzY2lpJyk7XG5leHBvcnQgY2xhc3MgSUQzdjJQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRva2VuaXplciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pZDNIZWFkZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGVhZGVyVHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBzdGF0aWMgcmVtb3ZlVW5zeW5jQnl0ZXMoYnVmZmVyKSB7XG4gICAgICAgIGxldCByZWFkSSA9IDA7XG4gICAgICAgIGxldCB3cml0ZUkgPSAwO1xuICAgICAgICB3aGlsZSAocmVhZEkgPCBidWZmZXIubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgaWYgKHJlYWRJICE9PSB3cml0ZUkpIHtcbiAgICAgICAgICAgICAgICBidWZmZXJbd3JpdGVJXSA9IGJ1ZmZlcltyZWFkSV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkSSArPSAoYnVmZmVyW3JlYWRJXSA9PT0gMHhGRiAmJiBidWZmZXJbcmVhZEkgKyAxXSA9PT0gMCkgPyAyIDogMTtcbiAgICAgICAgICAgIHdyaXRlSSsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWFkSSA8IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGJ1ZmZlclt3cml0ZUkrK10gPSBidWZmZXJbcmVhZEldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoMCwgd3JpdGVJKTtcbiAgICB9XG4gICAgc3RhdGljIGdldEZyYW1lSGVhZGVyTGVuZ3RoKG1ham9yVmVyKSB7XG4gICAgICAgIHN3aXRjaCAobWFqb3JWZXIpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gNjtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXR1cm4gMTA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG1ha2VVbmV4cGVjdGVkTWFqb3JWZXJzaW9uRXJyb3IobWFqb3JWZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyByZWFkRnJhbWVGbGFncyhiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICB0YWdfYWx0ZXJfcHJlc2VydmF0aW9uOiB1dGlsLmdldEJpdChiLCAwLCA2KSxcbiAgICAgICAgICAgICAgICBmaWxlX2FsdGVyX3ByZXNlcnZhdGlvbjogdXRpbC5nZXRCaXQoYiwgMCwgNSksXG4gICAgICAgICAgICAgICAgcmVhZF9vbmx5OiB1dGlsLmdldEJpdChiLCAwLCA0KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvcm1hdDoge1xuICAgICAgICAgICAgICAgIGdyb3VwaW5nX2lkZW50aXR5OiB1dGlsLmdldEJpdChiLCAxLCA3KSxcbiAgICAgICAgICAgICAgICBjb21wcmVzc2lvbjogdXRpbC5nZXRCaXQoYiwgMSwgMyksXG4gICAgICAgICAgICAgICAgZW5jcnlwdGlvbjogdXRpbC5nZXRCaXQoYiwgMSwgMiksXG4gICAgICAgICAgICAgICAgdW5zeW5jaHJvbmlzYXRpb246IHV0aWwuZ2V0Qml0KGIsIDEsIDEpLFxuICAgICAgICAgICAgICAgIGRhdGFfbGVuZ3RoX2luZGljYXRvcjogdXRpbC5nZXRCaXQoYiwgMSwgMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHJlYWRGcmFtZURhdGEodWludDhBcnJheSwgZnJhbWVIZWFkZXIsIG1ham9yVmVyLCBpbmNsdWRlQ292ZXJzLCB3YXJuaW5nQ29sbGVjdG9yKSB7XG4gICAgICAgIGNvbnN0IGZyYW1lUGFyc2VyID0gbmV3IEZyYW1lUGFyc2VyKG1ham9yVmVyLCB3YXJuaW5nQ29sbGVjdG9yKTtcbiAgICAgICAgc3dpdGNoIChtYWpvclZlcikge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBmcmFtZVBhcnNlci5yZWFkRGF0YSh1aW50OEFycmF5LCBmcmFtZUhlYWRlci5pZCwgaW5jbHVkZUNvdmVycyk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lSGVhZGVyLmZsYWdzPy5mb3JtYXQudW5zeW5jaHJvbmlzYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdWludDhBcnJheSA9IElEM3YyUGFyc2VyLnJlbW92ZVVuc3luY0J5dGVzKHVpbnQ4QXJyYXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZnJhbWVIZWFkZXIuZmxhZ3M/LmZvcm1hdC5kYXRhX2xlbmd0aF9pbmRpY2F0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdWludDhBcnJheSA9IHVpbnQ4QXJyYXkuc2xpY2UoNCwgdWludDhBcnJheS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZnJhbWVQYXJzZXIucmVhZERhdGEodWludDhBcnJheSwgZnJhbWVIZWFkZXIuaWQsIGluY2x1ZGVDb3ZlcnMpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBtYWtlVW5leHBlY3RlZE1ham9yVmVyc2lvbkVycm9yKG1ham9yVmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBjb21iaW5lZCB0YWcga2V5LCBvZiB0YWcgJiBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB0YWcgZS5nLjogQ09NXG4gICAgICogQHBhcmFtIGRlc2NyaXB0aW9uIGUuZy4gaVR1blBHQVBcbiAgICAgKiBAcmV0dXJucyBzdHJpbmcgZS5nLiBDT006aVR1blBHQVBcbiAgICAgKi9cbiAgICBzdGF0aWMgbWFrZURlc2NyaXB0aW9uVGFnTmFtZSh0YWcsIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHJldHVybiB0YWcgKyAoZGVzY3JpcHRpb24gPyBgOiR7ZGVzY3JpcHRpb259YCA6ICcnKTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2UobWV0YWRhdGEsIHRva2VuaXplciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLnRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBpZDNIZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oSUQzdjJIZWFkZXIpO1xuICAgICAgICBpZiAoaWQzSGVhZGVyLmZpbGVJZGVudGlmaWVyICE9PSAnSUQzJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElkM3YyQ29udGVudEVycm9yKCdleHBlY3RlZCBJRDMtaGVhZGVyIGZpbGUtaWRlbnRpZmllciBcXCdJRDNcXCcgd2FzIG5vdCBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaWQzSGVhZGVyID0gaWQzSGVhZGVyO1xuICAgICAgICB0aGlzLmhlYWRlclR5cGUgPSAoYElEM3YyLiR7aWQzSGVhZGVyLnZlcnNpb24ubWFqb3J9YCk7XG4gICAgICAgIHJldHVybiBpZDNIZWFkZXIuZmxhZ3MuaXNFeHRlbmRlZEhlYWRlciA/IHRoaXMucGFyc2VFeHRlbmRlZEhlYWRlcigpIDogdGhpcy5wYXJzZUlkM0RhdGEoaWQzSGVhZGVyLnNpemUpO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUV4dGVuZGVkSGVhZGVyKCkge1xuICAgICAgICBjb25zdCBleHRlbmRlZEhlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihFeHRlbmRlZEhlYWRlcik7XG4gICAgICAgIGNvbnN0IGRhdGFSZW1haW5pbmcgPSBleHRlbmRlZEhlYWRlci5zaXplIC0gRXh0ZW5kZWRIZWFkZXIubGVuO1xuICAgICAgICByZXR1cm4gZGF0YVJlbWFpbmluZyA+IDAgPyB0aGlzLnBhcnNlRXh0ZW5kZWRIZWFkZXJEYXRhKGRhdGFSZW1haW5pbmcsIGV4dGVuZGVkSGVhZGVyLnNpemUpIDogdGhpcy5wYXJzZUlkM0RhdGEodGhpcy5pZDNIZWFkZXIuc2l6ZSAtIGV4dGVuZGVkSGVhZGVyLnNpemUpO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUV4dGVuZGVkSGVhZGVyRGF0YShkYXRhUmVtYWluaW5nLCBleHRlbmRlZEhlYWRlclNpemUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKGRhdGFSZW1haW5pbmcpO1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUlkM0RhdGEodGhpcy5pZDNIZWFkZXIuc2l6ZSAtIGV4dGVuZGVkSGVhZGVyU2l6ZSk7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlSWQzRGF0YShkYXRhTGVuKSB7XG4gICAgICAgIGNvbnN0IHVpbnQ4QXJyYXkgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IFRva2VuLlVpbnQ4QXJyYXlUeXBlKGRhdGFMZW4pKTtcbiAgICAgICAgZm9yIChjb25zdCB0YWcgb2YgdGhpcy5wYXJzZU1ldGFkYXRhKHVpbnQ4QXJyYXkpKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZy5pZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ1RYWFgnOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZVRhZyh0YWcsIHRhZy52YWx1ZS50ZXh0LCAoKSA9PiB0YWcudmFsdWUuZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IChBcnJheS5pc0FycmF5KHRhZy52YWx1ZSkgPyBQcm9taXNlLmFsbCh0YWcudmFsdWUubWFwKHZhbHVlID0+IHRoaXMuYWRkVGFnKHRhZy5pZCwgdmFsdWUpKSkgOiB0aGlzLmFkZFRhZyh0YWcuaWQsIHRhZy52YWx1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVRhZyh0YWcsIHZhbHVlcywgZGVzY3JpcHRvciwgcmVzb2x2ZVZhbHVlID0gdmFsdWUgPT4gdmFsdWUpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodmFsdWVzLm1hcCh2YWx1ZSA9PiB0aGlzLmFkZFRhZyhJRDN2MlBhcnNlci5tYWtlRGVzY3JpcHRpb25UYWdOYW1lKHRhZy5pZCwgZGVzY3JpcHRvcih2YWx1ZSkpLCByZXNvbHZlVmFsdWUodmFsdWUpKSkpO1xuICAgIH1cbiAgICBhc3luYyBhZGRUYWcoaWQsIHZhbHVlKSB7XG4gICAgICAgIGF3YWl0IHRoaXMubWV0YWRhdGEuYWRkVGFnKHRoaXMuaGVhZGVyVHlwZSwgaWQsIHZhbHVlKTtcbiAgICB9XG4gICAgcGFyc2VNZXRhZGF0YShkYXRhKSB7XG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICBjb25zdCB0YWdzID0gW107XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID09PSBkYXRhLmxlbmd0aClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lSGVhZGVyTGVuZ3RoID0gSUQzdjJQYXJzZXIuZ2V0RnJhbWVIZWFkZXJMZW5ndGgodGhpcy5pZDNIZWFkZXIudmVyc2lvbi5tYWpvcik7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ICsgZnJhbWVIZWFkZXJMZW5ndGggPiBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuYWRkV2FybmluZygnSWxsZWdhbCBJRDN2MiB0YWcgbGVuZ3RoJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmcmFtZUhlYWRlckJ5dGVzID0gZGF0YS5zbGljZShvZmZzZXQsIG9mZnNldCArIGZyYW1lSGVhZGVyTGVuZ3RoKTtcbiAgICAgICAgICAgIG9mZnNldCArPSBmcmFtZUhlYWRlckxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lSGVhZGVyID0gdGhpcy5yZWFkRnJhbWVIZWFkZXIoZnJhbWVIZWFkZXJCeXRlcywgdGhpcy5pZDNIZWFkZXIudmVyc2lvbi5tYWpvcik7XG4gICAgICAgICAgICBjb25zdCBmcmFtZURhdGFCeXRlcyA9IGRhdGEuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBmcmFtZUhlYWRlci5sZW5ndGgpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IGZyYW1lSGVhZGVyLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IElEM3YyUGFyc2VyLnJlYWRGcmFtZURhdGEoZnJhbWVEYXRhQnl0ZXMsIGZyYW1lSGVhZGVyLCB0aGlzLmlkM0hlYWRlci52ZXJzaW9uLm1ham9yLCAhdGhpcy5vcHRpb25zLnNraXBDb3ZlcnMsIHRoaXMubWV0YWRhdGEpO1xuICAgICAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgICAgICAgIHRhZ3MucHVzaCh7IGlkOiBmcmFtZUhlYWRlci5pZCwgdmFsdWU6IHZhbHVlcyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFncztcbiAgICB9XG4gICAgcmVhZEZyYW1lSGVhZGVyKHVpbnQ4QXJyYXksIG1ham9yVmVyKSB7XG4gICAgICAgIGxldCBoZWFkZXI7XG4gICAgICAgIHN3aXRjaCAobWFqb3JWZXIpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBoZWFkZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBhc2NpaURlY29kZXIuZGVjb2RlKHVpbnQ4QXJyYXkuc2xpY2UoMCwgMykpLFxuICAgICAgICAgICAgICAgICAgICBsZW5ndGg6IFRva2VuLlVJTlQyNF9CRS5nZXQodWludDhBcnJheSwgMylcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICghaGVhZGVyLmlkLm1hdGNoKC9bQS1aMC05XXszfS9nKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoYEludmFsaWQgSUQzdjIuJHt0aGlzLmlkM0hlYWRlci52ZXJzaW9uLm1ham9yfSBmcmFtZS1oZWFkZXItSUQ6ICR7aGVhZGVyLmlkfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBoZWFkZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBhc2NpaURlY29kZXIuZGVjb2RlKHVpbnQ4QXJyYXkuc2xpY2UoMCwgNCkpLFxuICAgICAgICAgICAgICAgICAgICBsZW5ndGg6IChtYWpvclZlciA9PT0gNCA/IFVJTlQzMlNZTkNTQUZFIDogVG9rZW4uVUlOVDMyX0JFKS5nZXQodWludDhBcnJheSwgNCksXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzOiBJRDN2MlBhcnNlci5yZWFkRnJhbWVGbGFncyh1aW50OEFycmF5LnNsaWNlKDgsIDEwKSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICghaGVhZGVyLmlkLm1hdGNoKC9bQS1aMC05XXs0fS9nKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoYEludmFsaWQgSUQzdjIuJHt0aGlzLmlkM0hlYWRlci52ZXJzaW9uLm1ham9yfSBmcmFtZS1oZWFkZXItSUQ6ICR7aGVhZGVyLmlkfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbWFrZVVuZXhwZWN0ZWRNYWpvclZlcnNpb25FcnJvcihtYWpvclZlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlYWRlcjtcbiAgICB9XG59XG5mdW5jdGlvbiBtYWtlVW5leHBlY3RlZE1ham9yVmVyc2lvbkVycm9yKG1ham9yVmVyKSB7XG4gICAgdGhyb3cgbmV3IElkM3YyQ29udGVudEVycm9yKGBVbmV4cGVjdGVkIG1ham9yVmVyOiAke21ham9yVmVyfWApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SUQzdjJQYXJzZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v2/ID3v2Parser.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/MusepackConentError.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/MusepackConentError.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MusepackContentError: () => (/* binding */ MusepackContentError)\n/* harmony export */ });\n/* harmony import */ var _ParseError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ParseError.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/ParseError.js\");\n\nclass MusepackContentError extends (0,_ParseError_js__WEBPACK_IMPORTED_MODULE_0__.makeUnexpectedFileContentError)('Musepack') {\n}\n//# sourceMappingURL=MusepackConentError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9tdXNpYy1tZXRhZGF0YUAxMC43LjAvbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tdXNlcGFjay9NdXNlcGFja0NvbmVudEVycm9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWtFO0FBQzNELG1DQUFtQyw4RUFBOEI7QUFDeEU7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvbGlsYXMvQnVyZWF1L0Rldi9MTVAvbm9kZV9tb2R1bGVzLy5wbnBtL211c2ljLW1ldGFkYXRhQDEwLjcuMC9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL011c2VwYWNrQ29uZW50RXJyb3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWFrZVVuZXhwZWN0ZWRGaWxlQ29udGVudEVycm9yIH0gZnJvbSAnLi4vUGFyc2VFcnJvci5qcyc7XG5leHBvcnQgY2xhc3MgTXVzZXBhY2tDb250ZW50RXJyb3IgZXh0ZW5kcyBtYWtlVW5leHBlY3RlZEZpbGVDb250ZW50RXJyb3IoJ011c2VwYWNrJykge1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TXVzZXBhY2tDb25lbnRFcnJvci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/MusepackConentError.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/MusepackParser.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/MusepackParser.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MusepackParser: () => (/* binding */ MusepackParser)\n/* harmony export */ });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"(app-pages-browser)/./node_modules/.pnpm/debug@4.4.0/node_modules/debug/src/browser.js\");\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! token-types */ \"(app-pages-browser)/./node_modules/.pnpm/token-types@6.0.0/node_modules/token-types/lib/index.js\");\n/* harmony import */ var _id3v2_AbstractID3Parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../id3v2/AbstractID3Parser.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js\");\n/* harmony import */ var _sv8_MpcSv8Parser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sv8/MpcSv8Parser.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv8/MpcSv8Parser.js\");\n/* harmony import */ var _sv7_MpcSv7Parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sv7/MpcSv7Parser.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv7/MpcSv7Parser.js\");\n/* harmony import */ var _MusepackConentError_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MusepackConentError.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/MusepackConentError.js\");\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_0__('music-metadata:parser:musepack');\nclass MusepackParser extends _id3v2_AbstractID3Parser_js__WEBPACK_IMPORTED_MODULE_2__.AbstractID3Parser {\n    async postId3v2Parse() {\n        const signature = await this.tokenizer.peekToken(new token_types__WEBPACK_IMPORTED_MODULE_1__.StringType(3, 'latin1'));\n        let mpcParser;\n        switch (signature) {\n            case 'MP+': {\n                debug('Stream-version 7');\n                mpcParser = new _sv7_MpcSv7Parser_js__WEBPACK_IMPORTED_MODULE_4__.MpcSv7Parser(this.metadata, this.tokenizer, this.options);\n                break;\n            }\n            case 'MPC': {\n                debug('Stream-version 8');\n                mpcParser = new _sv8_MpcSv8Parser_js__WEBPACK_IMPORTED_MODULE_3__.MpcSv8Parser(this.metadata, this.tokenizer, this.options);\n                break;\n            }\n            default: {\n                throw new _MusepackConentError_js__WEBPACK_IMPORTED_MODULE_5__.MusepackContentError('Invalid signature prefix');\n            }\n        }\n        return mpcParser.parse();\n    }\n}\n//# sourceMappingURL=MusepackParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9tdXNpYy1tZXRhZGF0YUAxMC43LjAvbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tdXNlcGFjay9NdXNlcGFja1BhcnNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQThCO0FBQ087QUFDNkI7QUFDYjtBQUNBO0FBQ1c7QUFDaEUsY0FBYyxrQ0FBUztBQUNoQiw2QkFBNkIsMEVBQWlCO0FBQ3JEO0FBQ0EsNkRBQTZELG1EQUFnQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw4REFBWTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw4REFBWTtBQUM1QztBQUNBO0FBQ0E7QUFDQSwwQkFBMEIseUVBQW9CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvbGlsYXMvQnVyZWF1L0Rldi9MTVAvbm9kZV9tb2R1bGVzLy5wbnBtL211c2ljLW1ldGFkYXRhQDEwLjcuMC9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL011c2VwYWNrUGFyc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpbml0RGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0ICogYXMgVG9rZW4gZnJvbSAndG9rZW4tdHlwZXMnO1xuaW1wb3J0IHsgQWJzdHJhY3RJRDNQYXJzZXIgfSBmcm9tICcuLi9pZDN2Mi9BYnN0cmFjdElEM1BhcnNlci5qcyc7XG5pbXBvcnQgeyBNcGNTdjhQYXJzZXIgfSBmcm9tICcuL3N2OC9NcGNTdjhQYXJzZXIuanMnO1xuaW1wb3J0IHsgTXBjU3Y3UGFyc2VyIH0gZnJvbSAnLi9zdjcvTXBjU3Y3UGFyc2VyLmpzJztcbmltcG9ydCB7IE11c2VwYWNrQ29udGVudEVycm9yIH0gZnJvbSAnLi9NdXNlcGFja0NvbmVudEVycm9yLmpzJztcbmNvbnN0IGRlYnVnID0gaW5pdERlYnVnKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6bXVzZXBhY2snKTtcbmV4cG9ydCBjbGFzcyBNdXNlcGFja1BhcnNlciBleHRlbmRzIEFic3RyYWN0SUQzUGFyc2VyIHtcbiAgICBhc3luYyBwb3N0SWQzdjJQYXJzZSgpIHtcbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucGVla1Rva2VuKG5ldyBUb2tlbi5TdHJpbmdUeXBlKDMsICdsYXRpbjEnKSk7XG4gICAgICAgIGxldCBtcGNQYXJzZXI7XG4gICAgICAgIHN3aXRjaCAoc2lnbmF0dXJlKSB7XG4gICAgICAgICAgICBjYXNlICdNUCsnOiB7XG4gICAgICAgICAgICAgICAgZGVidWcoJ1N0cmVhbS12ZXJzaW9uIDcnKTtcbiAgICAgICAgICAgICAgICBtcGNQYXJzZXIgPSBuZXcgTXBjU3Y3UGFyc2VyKHRoaXMubWV0YWRhdGEsIHRoaXMudG9rZW5pemVyLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnTVBDJzoge1xuICAgICAgICAgICAgICAgIGRlYnVnKCdTdHJlYW0tdmVyc2lvbiA4Jyk7XG4gICAgICAgICAgICAgICAgbXBjUGFyc2VyID0gbmV3IE1wY1N2OFBhcnNlcih0aGlzLm1ldGFkYXRhLCB0aGlzLnRva2VuaXplciwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTXVzZXBhY2tDb250ZW50RXJyb3IoJ0ludmFsaWQgc2lnbmF0dXJlIHByZWZpeCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtcGNQYXJzZXIucGFyc2UoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NdXNlcGFja1BhcnNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/MusepackParser.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv7/BitReader.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv7/BitReader.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BitReader: () => (/* binding */ BitReader)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(app-pages-browser)/./node_modules/.pnpm/token-types@6.0.0/node_modules/token-types/lib/index.js\");\n\nclass BitReader {\n    constructor(tokenizer) {\n        this.tokenizer = tokenizer;\n        this.pos = 0;\n        this.dword = null;\n    }\n    /**\n     *\n     * @param bits 1..30 bits\n     */\n    async read(bits) {\n        while (this.dword === null) {\n            this.dword = await this.tokenizer.readToken(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE);\n        }\n        let out = this.dword;\n        this.pos += bits;\n        if (this.pos < 32) {\n            out >>>= (32 - this.pos);\n            return out & ((1 << bits) - 1);\n        }\n        this.pos -= 32;\n        if (this.pos === 0) {\n            this.dword = null;\n            return out & ((1 << bits) - 1);\n        }\n        this.dword = await this.tokenizer.readToken(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE);\n        if (this.pos) {\n            out <<= this.pos;\n            out |= this.dword >>> (32 - this.pos);\n        }\n        return out & ((1 << bits) - 1);\n    }\n    async ignore(bits) {\n        if (this.pos > 0) {\n            const remaining = 32 - this.pos;\n            this.dword = null;\n            bits -= remaining;\n            this.pos = 0;\n        }\n        const remainder = bits % 32;\n        const numOfWords = (bits - remainder) / 32;\n        await this.tokenizer.ignore(numOfWords * 4);\n        return this.read(remainder);\n    }\n}\n//# sourceMappingURL=BitReader.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9tdXNpYy1tZXRhZGF0YUAxMC43LjAvbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tdXNlcGFjay9zdjcvQml0UmVhZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFDO0FBQzlCO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxrREFBZTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Qsa0RBQWU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvbGlsYXMvQnVyZWF1L0Rldi9MTVAvbm9kZV9tb2R1bGVzLy5wbnBtL211c2ljLW1ldGFkYXRhQDEwLjcuMC9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL3N2Ny9CaXRSZWFkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVG9rZW4gZnJvbSAndG9rZW4tdHlwZXMnO1xuZXhwb3J0IGNsYXNzIEJpdFJlYWRlciB7XG4gICAgY29uc3RydWN0b3IodG9rZW5pemVyKSB7XG4gICAgICAgIHRoaXMudG9rZW5pemVyID0gdG9rZW5pemVyO1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIHRoaXMuZHdvcmQgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBiaXRzIDEuLjMwIGJpdHNcbiAgICAgKi9cbiAgICBhc3luYyByZWFkKGJpdHMpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuZHdvcmQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZHdvcmQgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oVG9rZW4uVUlOVDMyX0xFKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb3V0ID0gdGhpcy5kd29yZDtcbiAgICAgICAgdGhpcy5wb3MgKz0gYml0cztcbiAgICAgICAgaWYgKHRoaXMucG9zIDwgMzIpIHtcbiAgICAgICAgICAgIG91dCA+Pj49ICgzMiAtIHRoaXMucG9zKTtcbiAgICAgICAgICAgIHJldHVybiBvdXQgJiAoKDEgPDwgYml0cykgLSAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvcyAtPSAzMjtcbiAgICAgICAgaWYgKHRoaXMucG9zID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmR3b3JkID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBvdXQgJiAoKDEgPDwgYml0cykgLSAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmR3b3JkID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKFRva2VuLlVJTlQzMl9MRSk7XG4gICAgICAgIGlmICh0aGlzLnBvcykge1xuICAgICAgICAgICAgb3V0IDw8PSB0aGlzLnBvcztcbiAgICAgICAgICAgIG91dCB8PSB0aGlzLmR3b3JkID4+PiAoMzIgLSB0aGlzLnBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dCAmICgoMSA8PCBiaXRzKSAtIDEpO1xuICAgIH1cbiAgICBhc3luYyBpZ25vcmUoYml0cykge1xuICAgICAgICBpZiAodGhpcy5wb3MgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmcgPSAzMiAtIHRoaXMucG9zO1xuICAgICAgICAgICAgdGhpcy5kd29yZCA9IG51bGw7XG4gICAgICAgICAgICBiaXRzIC09IHJlbWFpbmluZztcbiAgICAgICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZW1haW5kZXIgPSBiaXRzICUgMzI7XG4gICAgICAgIGNvbnN0IG51bU9mV29yZHMgPSAoYml0cyAtIHJlbWFpbmRlcikgLyAzMjtcbiAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKG51bU9mV29yZHMgKiA0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZChyZW1haW5kZXIpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJpdFJlYWRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv7/BitReader.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv7/MpcSv7Parser.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv7/MpcSv7Parser.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MpcSv7Parser: () => (/* binding */ MpcSv7Parser)\n/* harmony export */ });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"(app-pages-browser)/./node_modules/.pnpm/debug@4.4.0/node_modules/debug/src/browser.js\");\n/* harmony import */ var _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/BasicParser.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/common/BasicParser.js\");\n/* harmony import */ var _apev2_APEv2Parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../apev2/APEv2Parser.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/apev2/APEv2Parser.js\");\n/* harmony import */ var _BitReader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BitReader.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv7/BitReader.js\");\n/* harmony import */ var _StreamVersion7_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StreamVersion7.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv7/StreamVersion7.js\");\n/* harmony import */ var _MusepackConentError_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../MusepackConentError.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/MusepackConentError.js\");\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_0__('music-metadata:parser:musepack');\nclass MpcSv7Parser extends _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_1__.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.bitreader = null;\n        this.audioLength = 0;\n        this.duration = null;\n    }\n    async parse() {\n        const header = await this.tokenizer.readToken(_StreamVersion7_js__WEBPACK_IMPORTED_MODULE_4__.Header);\n        if (header.signature !== 'MP+')\n            throw new _MusepackConentError_js__WEBPACK_IMPORTED_MODULE_5__.MusepackContentError('Unexpected magic number');\n        debug(`stream-version=${header.streamMajorVersion}.${header.streamMinorVersion}`);\n        this.metadata.setFormat('container', 'Musepack, SV7');\n        this.metadata.setFormat('sampleRate', header.sampleFrequency);\n        const numberOfSamples = 1152 * (header.frameCount - 1) + header.lastFrameLength;\n        this.metadata.setFormat('numberOfSamples', numberOfSamples);\n        this.duration = numberOfSamples / header.sampleFrequency;\n        this.metadata.setFormat('duration', this.duration);\n        this.bitreader = new _BitReader_js__WEBPACK_IMPORTED_MODULE_3__.BitReader(this.tokenizer);\n        this.metadata.setFormat('numberOfChannels', header.midSideStereo || header.intensityStereo ? 2 : 1);\n        const version = await this.bitreader.read(8);\n        this.metadata.setFormat('codec', (version / 100).toFixed(2));\n        await this.skipAudioData(header.frameCount);\n        debug(`End of audio stream, switching to APEv2, offset=${this.tokenizer.position}`);\n        return _apev2_APEv2Parser_js__WEBPACK_IMPORTED_MODULE_2__.APEv2Parser.tryParseApeHeader(this.metadata, this.tokenizer, this.options);\n    }\n    async skipAudioData(frameCount) {\n        while (frameCount-- > 0) {\n            const frameLength = await this.bitreader.read(20);\n            this.audioLength += 20 + frameLength;\n            await this.bitreader.ignore(frameLength);\n        }\n        // last frame\n        const lastFrameLength = await this.bitreader.read(11);\n        this.audioLength += lastFrameLength;\n        if (this.duration !== null) {\n            this.metadata.setFormat('bitrate', this.audioLength / this.duration);\n        }\n    }\n}\n//# sourceMappingURL=MpcSv7Parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9tdXNpYy1tZXRhZGF0YUAxMC43LjAvbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tdXNlcGFjay9zdjcvTXBjU3Y3UGFyc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEI7QUFDNEI7QUFDRDtBQUNkO0FBQ0E7QUFDc0I7QUFDakUsY0FBYyxrQ0FBUztBQUNoQiwyQkFBMkIsK0RBQVc7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Qsc0RBQVU7QUFDaEU7QUFDQSxzQkFBc0IseUVBQW9CO0FBQzFDLGdDQUFnQywwQkFBMEIsR0FBRywwQkFBMEI7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG9EQUFTO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLHdCQUF3QjtBQUN6RixlQUFlLDhEQUFXO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9saWxhcy9CdXJlYXUvRGV2L0xNUC9ub2RlX21vZHVsZXMvLnBucG0vbXVzaWMtbWV0YWRhdGFAMTAuNy4wL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvbXVzZXBhY2svc3Y3L01wY1N2N1BhcnNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaW5pdERlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCB7IEJhc2ljUGFyc2VyIH0gZnJvbSAnLi4vLi4vY29tbW9uL0Jhc2ljUGFyc2VyLmpzJztcbmltcG9ydCB7IEFQRXYyUGFyc2VyIH0gZnJvbSAnLi4vLi4vYXBldjIvQVBFdjJQYXJzZXIuanMnO1xuaW1wb3J0IHsgQml0UmVhZGVyIH0gZnJvbSAnLi9CaXRSZWFkZXIuanMnO1xuaW1wb3J0ICogYXMgU1Y3IGZyb20gJy4vU3RyZWFtVmVyc2lvbjcuanMnO1xuaW1wb3J0IHsgTXVzZXBhY2tDb250ZW50RXJyb3IgfSBmcm9tICcuLi9NdXNlcGFja0NvbmVudEVycm9yLmpzJztcbmNvbnN0IGRlYnVnID0gaW5pdERlYnVnKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6bXVzZXBhY2snKTtcbmV4cG9ydCBjbGFzcyBNcGNTdjdQYXJzZXIgZXh0ZW5kcyBCYXNpY1BhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuYml0cmVhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdWRpb0xlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBudWxsO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZSgpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKFNWNy5IZWFkZXIpO1xuICAgICAgICBpZiAoaGVhZGVyLnNpZ25hdHVyZSAhPT0gJ01QKycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgTXVzZXBhY2tDb250ZW50RXJyb3IoJ1VuZXhwZWN0ZWQgbWFnaWMgbnVtYmVyJyk7XG4gICAgICAgIGRlYnVnKGBzdHJlYW0tdmVyc2lvbj0ke2hlYWRlci5zdHJlYW1NYWpvclZlcnNpb259LiR7aGVhZGVyLnN0cmVhbU1pbm9yVmVyc2lvbn1gKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvbnRhaW5lcicsICdNdXNlcGFjaywgU1Y3Jyk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdzYW1wbGVSYXRlJywgaGVhZGVyLnNhbXBsZUZyZXF1ZW5jeSk7XG4gICAgICAgIGNvbnN0IG51bWJlck9mU2FtcGxlcyA9IDExNTIgKiAoaGVhZGVyLmZyYW1lQ291bnQgLSAxKSArIGhlYWRlci5sYXN0RnJhbWVMZW5ndGg7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZlNhbXBsZXMnLCBudW1iZXJPZlNhbXBsZXMpO1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gbnVtYmVyT2ZTYW1wbGVzIC8gaGVhZGVyLnNhbXBsZUZyZXF1ZW5jeTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2R1cmF0aW9uJywgdGhpcy5kdXJhdGlvbik7XG4gICAgICAgIHRoaXMuYml0cmVhZGVyID0gbmV3IEJpdFJlYWRlcih0aGlzLnRva2VuaXplcik7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgaGVhZGVyLm1pZFNpZGVTdGVyZW8gfHwgaGVhZGVyLmludGVuc2l0eVN0ZXJlbyA/IDIgOiAxKTtcbiAgICAgICAgY29uc3QgdmVyc2lvbiA9IGF3YWl0IHRoaXMuYml0cmVhZGVyLnJlYWQoOCk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb2RlYycsICh2ZXJzaW9uIC8gMTAwKS50b0ZpeGVkKDIpKTtcbiAgICAgICAgYXdhaXQgdGhpcy5za2lwQXVkaW9EYXRhKGhlYWRlci5mcmFtZUNvdW50KTtcbiAgICAgICAgZGVidWcoYEVuZCBvZiBhdWRpbyBzdHJlYW0sIHN3aXRjaGluZyB0byBBUEV2Miwgb2Zmc2V0PSR7dGhpcy50b2tlbml6ZXIucG9zaXRpb259YCk7XG4gICAgICAgIHJldHVybiBBUEV2MlBhcnNlci50cnlQYXJzZUFwZUhlYWRlcih0aGlzLm1ldGFkYXRhLCB0aGlzLnRva2VuaXplciwgdGhpcy5vcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgc2tpcEF1ZGlvRGF0YShmcmFtZUNvdW50KSB7XG4gICAgICAgIHdoaWxlIChmcmFtZUNvdW50LS0gPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBmcmFtZUxlbmd0aCA9IGF3YWl0IHRoaXMuYml0cmVhZGVyLnJlYWQoMjApO1xuICAgICAgICAgICAgdGhpcy5hdWRpb0xlbmd0aCArPSAyMCArIGZyYW1lTGVuZ3RoO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5iaXRyZWFkZXIuaWdub3JlKGZyYW1lTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsYXN0IGZyYW1lXG4gICAgICAgIGNvbnN0IGxhc3RGcmFtZUxlbmd0aCA9IGF3YWl0IHRoaXMuYml0cmVhZGVyLnJlYWQoMTEpO1xuICAgICAgICB0aGlzLmF1ZGlvTGVuZ3RoICs9IGxhc3RGcmFtZUxlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMuZHVyYXRpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRyYXRlJywgdGhpcy5hdWRpb0xlbmd0aCAvIHRoaXMuZHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TXBjU3Y3UGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv7/MpcSv7Parser.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv7/StreamVersion7.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv7/StreamVersion7.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Header: () => (/* binding */ Header)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(app-pages-browser)/./node_modules/.pnpm/token-types@6.0.0/node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/Util.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/common/Util.js\");\n\n\n/**\n * BASIC STRUCTURE\n */\nconst Header = {\n    len: 6 * 4,\n    get: (buf, off) => {\n        const header = {\n            // word 0\n            signature: new TextDecoder('latin1').decode(buf.subarray(off, off + 3)),\n            // versionIndex number * 1000 (3.81 = 3810) (remember that 4-byte alignment causes this to take 4-bytes)\n            streamMinorVersion: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBitAllignedNumber(buf, off + 3, 0, 4),\n            streamMajorVersion: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBitAllignedNumber(buf, off + 3, 4, 4),\n            // word 1\n            frameCount: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 4),\n            // word 2\n            maxLevel: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 8),\n            sampleFrequency: [44100, 48000, 37800, 32000][_common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBitAllignedNumber(buf, off + 10, 0, 2)],\n            link: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBitAllignedNumber(buf, off + 10, 2, 2),\n            profile: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBitAllignedNumber(buf, off + 10, 4, 4),\n            maxBand: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBitAllignedNumber(buf, off + 11, 0, 6),\n            intensityStereo: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.isBitSet(buf, off + 11, 6),\n            midSideStereo: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.isBitSet(buf, off + 11, 7),\n            // word 3\n            titlePeak: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 12),\n            titleGain: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 14),\n            // word 4\n            albumPeak: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 16),\n            albumGain: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 18),\n            // word\n            lastFrameLength: (token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 20) >>> 20) & 0x7FF,\n            trueGapless: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.isBitSet(buf, off + 23, 0)\n        };\n        header.lastFrameLength = header.trueGapless ? (token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, 20) >>> 20) & 0x7FF : 0;\n        return header;\n    }\n};\n//# sourceMappingURL=StreamVersion7.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9tdXNpYy1tZXRhZGF0YUAxMC43LjAvbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tdXNlcGFjay9zdjcvU3RyZWFtVmVyc2lvbjcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFDO0FBQ1E7QUFDN0M7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsaUVBQXlCO0FBQ3pELGdDQUFnQyxpRUFBeUI7QUFDekQ7QUFDQSx3QkFBd0Isa0RBQWU7QUFDdkM7QUFDQSxzQkFBc0Isa0RBQWU7QUFDckMsMERBQTBELGlFQUF5QjtBQUNuRixrQkFBa0IsaUVBQXlCO0FBQzNDLHFCQUFxQixpRUFBeUI7QUFDOUMscUJBQXFCLGlFQUF5QjtBQUM5Qyw2QkFBNkIscURBQWE7QUFDMUMsMkJBQTJCLHFEQUFhO0FBQ3hDO0FBQ0EsdUJBQXVCLGtEQUFlO0FBQ3RDLHVCQUF1QixrREFBZTtBQUN0QztBQUNBLHVCQUF1QixrREFBZTtBQUN0Qyx1QkFBdUIsa0RBQWU7QUFDdEM7QUFDQSw4QkFBOEIsa0RBQWU7QUFDN0MseUJBQXlCLHFEQUFhO0FBQ3RDO0FBQ0EsdURBQXVELGtEQUFlO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9saWxhcy9CdXJlYXUvRGV2L0xNUC9ub2RlX21vZHVsZXMvLnBucG0vbXVzaWMtbWV0YWRhdGFAMTAuNy4wL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvbXVzZXBhY2svc3Y3L1N0cmVhbVZlcnNpb243LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRva2VuIGZyb20gJ3Rva2VuLXR5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vLi4vY29tbW9uL1V0aWwuanMnO1xuLyoqXG4gKiBCQVNJQyBTVFJVQ1RVUkVcbiAqL1xuZXhwb3J0IGNvbnN0IEhlYWRlciA9IHtcbiAgICBsZW46IDYgKiA0LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IHtcbiAgICAgICAgICAgIC8vIHdvcmQgMFxuICAgICAgICAgICAgc2lnbmF0dXJlOiBuZXcgVGV4dERlY29kZXIoJ2xhdGluMScpLmRlY29kZShidWYuc3ViYXJyYXkob2ZmLCBvZmYgKyAzKSksXG4gICAgICAgICAgICAvLyB2ZXJzaW9uSW5kZXggbnVtYmVyICogMTAwMCAoMy44MSA9IDM4MTApIChyZW1lbWJlciB0aGF0IDQtYnl0ZSBhbGlnbm1lbnQgY2F1c2VzIHRoaXMgdG8gdGFrZSA0LWJ5dGVzKVxuICAgICAgICAgICAgc3RyZWFtTWlub3JWZXJzaW9uOiB1dGlsLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMywgMCwgNCksXG4gICAgICAgICAgICBzdHJlYW1NYWpvclZlcnNpb246IHV0aWwuZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAzLCA0LCA0KSxcbiAgICAgICAgICAgIC8vIHdvcmQgMVxuICAgICAgICAgICAgZnJhbWVDb3VudDogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDQpLFxuICAgICAgICAgICAgLy8gd29yZCAyXG4gICAgICAgICAgICBtYXhMZXZlbDogVG9rZW4uVUlOVDE2X0xFLmdldChidWYsIG9mZiArIDgpLFxuICAgICAgICAgICAgc2FtcGxlRnJlcXVlbmN5OiBbNDQxMDAsIDQ4MDAwLCAzNzgwMCwgMzIwMDBdW3V0aWwuZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAxMCwgMCwgMildLFxuICAgICAgICAgICAgbGluazogdXRpbC5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiArIDEwLCAyLCAyKSxcbiAgICAgICAgICAgIHByb2ZpbGU6IHV0aWwuZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAxMCwgNCwgNCksXG4gICAgICAgICAgICBtYXhCYW5kOiB1dGlsLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMTEsIDAsIDYpLFxuICAgICAgICAgICAgaW50ZW5zaXR5U3RlcmVvOiB1dGlsLmlzQml0U2V0KGJ1Ziwgb2ZmICsgMTEsIDYpLFxuICAgICAgICAgICAgbWlkU2lkZVN0ZXJlbzogdXRpbC5pc0JpdFNldChidWYsIG9mZiArIDExLCA3KSxcbiAgICAgICAgICAgIC8vIHdvcmQgM1xuICAgICAgICAgICAgdGl0bGVQZWFrOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTIpLFxuICAgICAgICAgICAgdGl0bGVHYWluOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTQpLFxuICAgICAgICAgICAgLy8gd29yZCA0XG4gICAgICAgICAgICBhbGJ1bVBlYWs6IFRva2VuLlVJTlQxNl9MRS5nZXQoYnVmLCBvZmYgKyAxNiksXG4gICAgICAgICAgICBhbGJ1bUdhaW46IFRva2VuLlVJTlQxNl9MRS5nZXQoYnVmLCBvZmYgKyAxOCksXG4gICAgICAgICAgICAvLyB3b3JkXG4gICAgICAgICAgICBsYXN0RnJhbWVMZW5ndGg6IChUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMjApID4+PiAyMCkgJiAweDdGRixcbiAgICAgICAgICAgIHRydWVHYXBsZXNzOiB1dGlsLmlzQml0U2V0KGJ1Ziwgb2ZmICsgMjMsIDApXG4gICAgICAgIH07XG4gICAgICAgIGhlYWRlci5sYXN0RnJhbWVMZW5ndGggPSBoZWFkZXIudHJ1ZUdhcGxlc3MgPyAoVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIDIwKSA+Pj4gMjApICYgMHg3RkYgOiAwO1xuICAgICAgICByZXR1cm4gaGVhZGVyO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdHJlYW1WZXJzaW9uNy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv7/StreamVersion7.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv8/MpcSv8Parser.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv8/MpcSv8Parser.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MpcSv8Parser: () => (/* binding */ MpcSv8Parser)\n/* harmony export */ });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"(app-pages-browser)/./node_modules/.pnpm/debug@4.4.0/node_modules/debug/src/browser.js\");\n/* harmony import */ var _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/BasicParser.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/common/BasicParser.js\");\n/* harmony import */ var _apev2_APEv2Parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../apev2/APEv2Parser.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/apev2/APEv2Parser.js\");\n/* harmony import */ var _common_FourCC_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/FourCC.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/common/FourCC.js\");\n/* harmony import */ var _StreamVersion8_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StreamVersion8.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv8/StreamVersion8.js\");\n/* harmony import */ var _MusepackConentError_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../MusepackConentError.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/MusepackConentError.js\");\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_0__('music-metadata:parser:musepack');\nclass MpcSv8Parser extends _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_1__.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.audioLength = 0;\n    }\n    async parse() {\n        const signature = await this.tokenizer.readToken(_common_FourCC_js__WEBPACK_IMPORTED_MODULE_3__.FourCcToken);\n        if (signature !== 'MPCK')\n            throw new _MusepackConentError_js__WEBPACK_IMPORTED_MODULE_5__.MusepackContentError('Invalid Magic number');\n        this.metadata.setFormat('container', 'Musepack, SV8');\n        return this.parsePacket();\n    }\n    async parsePacket() {\n        const sv8reader = new _StreamVersion8_js__WEBPACK_IMPORTED_MODULE_4__.StreamReader(this.tokenizer);\n        do {\n            const header = await sv8reader.readPacketHeader();\n            debug(`packet-header key=${header.key}, payloadLength=${header.payloadLength}`);\n            switch (header.key) {\n                case 'SH': { // Stream Header\n                    const sh = await sv8reader.readStreamHeader(header.payloadLength);\n                    this.metadata.setFormat('numberOfSamples', sh.sampleCount);\n                    this.metadata.setFormat('sampleRate', sh.sampleFrequency);\n                    this.metadata.setFormat('duration', sh.sampleCount / sh.sampleFrequency);\n                    this.metadata.setFormat('numberOfChannels', sh.channelCount);\n                    break;\n                }\n                case 'AP': // Audio Packet\n                    this.audioLength += header.payloadLength;\n                    await this.tokenizer.ignore(header.payloadLength);\n                    break;\n                case 'RG': // Replaygain\n                case 'EI': // Encoder Info\n                case 'SO': // Seek Table Offset\n                case 'ST': // Seek Table\n                case 'CT': // Chapter-Tag\n                    await this.tokenizer.ignore(header.payloadLength);\n                    break;\n                case 'SE': // Stream End\n                    if (this.metadata.format.duration) {\n                        this.metadata.setFormat('bitrate', this.audioLength * 8 / this.metadata.format.duration);\n                    }\n                    return _apev2_APEv2Parser_js__WEBPACK_IMPORTED_MODULE_2__.APEv2Parser.tryParseApeHeader(this.metadata, this.tokenizer, this.options);\n                default:\n                    throw new _MusepackConentError_js__WEBPACK_IMPORTED_MODULE_5__.MusepackContentError(`Unexpected header: ${header.key}`);\n            }\n        } while (true);\n    }\n}\n//# sourceMappingURL=MpcSv8Parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9tdXNpYy1tZXRhZGF0YUAxMC43LjAvbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tdXNlcGFjay9zdjgvTXBjU3Y4UGFyc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEI7QUFDNEI7QUFDRDtBQUNKO0FBQ1Y7QUFDc0I7QUFDakUsY0FBYyxrQ0FBUztBQUNoQiwyQkFBMkIsK0RBQVc7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCwwREFBVztBQUNwRTtBQUNBLHNCQUFzQix5RUFBb0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsNERBQWdCO0FBQzlDO0FBQ0E7QUFDQSx1Q0FBdUMsV0FBVyxrQkFBa0IscUJBQXFCO0FBQ3pGO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDhEQUFXO0FBQ3RDO0FBQ0EsOEJBQThCLHlFQUFvQix1QkFBdUIsV0FBVztBQUNwRjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2xpbGFzL0J1cmVhdS9EZXYvTE1QL25vZGVfbW9kdWxlcy8ucG5wbS9tdXNpYy1tZXRhZGF0YUAxMC43LjAvbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tdXNlcGFjay9zdjgvTXBjU3Y4UGFyc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpbml0RGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IHsgQmFzaWNQYXJzZXIgfSBmcm9tICcuLi8uLi9jb21tb24vQmFzaWNQYXJzZXIuanMnO1xuaW1wb3J0IHsgQVBFdjJQYXJzZXIgfSBmcm9tICcuLi8uLi9hcGV2Mi9BUEV2MlBhcnNlci5qcyc7XG5pbXBvcnQgeyBGb3VyQ2NUb2tlbiB9IGZyb20gJy4uLy4uL2NvbW1vbi9Gb3VyQ0MuanMnO1xuaW1wb3J0ICogYXMgU1Y4IGZyb20gJy4vU3RyZWFtVmVyc2lvbjguanMnO1xuaW1wb3J0IHsgTXVzZXBhY2tDb250ZW50RXJyb3IgfSBmcm9tICcuLi9NdXNlcGFja0NvbmVudEVycm9yLmpzJztcbmNvbnN0IGRlYnVnID0gaW5pdERlYnVnKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6bXVzZXBhY2snKTtcbmV4cG9ydCBjbGFzcyBNcGNTdjhQYXJzZXIgZXh0ZW5kcyBCYXNpY1BhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuYXVkaW9MZW5ndGggPSAwO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZSgpIHtcbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKEZvdXJDY1Rva2VuKTtcbiAgICAgICAgaWYgKHNpZ25hdHVyZSAhPT0gJ01QQ0snKVxuICAgICAgICAgICAgdGhyb3cgbmV3IE11c2VwYWNrQ29udGVudEVycm9yKCdJbnZhbGlkIE1hZ2ljIG51bWJlcicpO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29udGFpbmVyJywgJ011c2VwYWNrLCBTVjgnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VQYWNrZXQoKTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VQYWNrZXQoKSB7XG4gICAgICAgIGNvbnN0IHN2OHJlYWRlciA9IG5ldyBTVjguU3RyZWFtUmVhZGVyKHRoaXMudG9rZW5pemVyKTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gYXdhaXQgc3Y4cmVhZGVyLnJlYWRQYWNrZXRIZWFkZXIoKTtcbiAgICAgICAgICAgIGRlYnVnKGBwYWNrZXQtaGVhZGVyIGtleT0ke2hlYWRlci5rZXl9LCBwYXlsb2FkTGVuZ3RoPSR7aGVhZGVyLnBheWxvYWRMZW5ndGh9YCk7XG4gICAgICAgICAgICBzd2l0Y2ggKGhlYWRlci5rZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdTSCc6IHsgLy8gU3RyZWFtIEhlYWRlclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaCA9IGF3YWl0IHN2OHJlYWRlci5yZWFkU3RyZWFtSGVhZGVyKGhlYWRlci5wYXlsb2FkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mU2FtcGxlcycsIHNoLnNhbXBsZUNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCBzaC5zYW1wbGVGcmVxdWVuY3kpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCBzaC5zYW1wbGVDb3VudCAvIHNoLnNhbXBsZUZyZXF1ZW5jeSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgc2guY2hhbm5lbENvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ0FQJzogLy8gQXVkaW8gUGFja2V0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9MZW5ndGggKz0gaGVhZGVyLnBheWxvYWRMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShoZWFkZXIucGF5bG9hZExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1JHJzogLy8gUmVwbGF5Z2FpblxuICAgICAgICAgICAgICAgIGNhc2UgJ0VJJzogLy8gRW5jb2RlciBJbmZvXG4gICAgICAgICAgICAgICAgY2FzZSAnU08nOiAvLyBTZWVrIFRhYmxlIE9mZnNldFxuICAgICAgICAgICAgICAgIGNhc2UgJ1NUJzogLy8gU2VlayBUYWJsZVxuICAgICAgICAgICAgICAgIGNhc2UgJ0NUJzogLy8gQ2hhcHRlci1UYWdcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKGhlYWRlci5wYXlsb2FkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnU0UnOiAvLyBTdHJlYW0gRW5kXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmZvcm1hdC5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHJhdGUnLCB0aGlzLmF1ZGlvTGVuZ3RoICogOCAvIHRoaXMubWV0YWRhdGEuZm9ybWF0LmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQVBFdjJQYXJzZXIudHJ5UGFyc2VBcGVIZWFkZXIodGhpcy5tZXRhZGF0YSwgdGhpcy50b2tlbml6ZXIsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE11c2VwYWNrQ29udGVudEVycm9yKGBVbmV4cGVjdGVkIGhlYWRlcjogJHtoZWFkZXIua2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NcGNTdjhQYXJzZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv8/MpcSv8Parser.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv8/StreamVersion8.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv8/StreamVersion8.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StreamReader: () => (/* binding */ StreamReader)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(app-pages-browser)/./node_modules/.pnpm/token-types@6.0.0/node_modules/token-types/lib/index.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! debug */ \"(app-pages-browser)/./node_modules/.pnpm/debug@4.4.0/node_modules/debug/src/browser.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/Util.js */ \"(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/common/Util.js\");\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_1__('music-metadata:parser:musepack:sv8');\nconst PacketKey = new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(2, 'latin1');\n/**\n * Stream Header Packet part 1\n * Ref: http://trac.musepack.net/musepack/wiki/SV8Specification#StreamHeaderPacket\n */\nconst SH_part1 = {\n    len: 5,\n    get: (buf, off) => {\n        return {\n            crc: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off),\n            streamVersion: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off + 4)\n        };\n    }\n};\n/**\n * Stream Header Packet part 3\n * Ref: http://trac.musepack.net/musepack/wiki/SV8Specification#StreamHeaderPacket\n */\nconst SH_part3 = {\n    len: 2,\n    get: (buf, off) => {\n        return {\n            sampleFrequency: [44100, 48000, 37800, 32000][_common_Util_js__WEBPACK_IMPORTED_MODULE_2__.getBitAllignedNumber(buf, off, 0, 3)],\n            maxUsedBands: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.getBitAllignedNumber(buf, off, 3, 5),\n            channelCount: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.getBitAllignedNumber(buf, off + 1, 0, 4) + 1,\n            msUsed: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.isBitSet(buf, off + 1, 4),\n            audioBlockFrames: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.getBitAllignedNumber(buf, off + 1, 5, 3)\n        };\n    }\n};\nclass StreamReader {\n    constructor(tokenizer) {\n        this.tokenizer = tokenizer;\n    }\n    async readPacketHeader() {\n        const key = await this.tokenizer.readToken(PacketKey);\n        const size = await this.readVariableSizeField();\n        return {\n            key,\n            payloadLength: size.value - 2 - size.len\n        };\n    }\n    async readStreamHeader(size) {\n        const streamHeader = {};\n        debug(`Reading SH at offset=${this.tokenizer.position}`);\n        const part1 = await this.tokenizer.readToken(SH_part1);\n        size -= SH_part1.len;\n        Object.assign(streamHeader, part1);\n        debug(`SH.streamVersion = ${part1.streamVersion}`);\n        const sampleCount = await this.readVariableSizeField();\n        size -= sampleCount.len;\n        streamHeader.sampleCount = sampleCount.value;\n        const bs = await this.readVariableSizeField();\n        size -= bs.len;\n        streamHeader.beginningOfSilence = bs.value;\n        const part3 = await this.tokenizer.readToken(SH_part3);\n        size -= SH_part3.len;\n        Object.assign(streamHeader, part3);\n        // assert.equal(size, 0);\n        await this.tokenizer.ignore(size);\n        return streamHeader;\n    }\n    async readVariableSizeField(len = 1, hb = 0) {\n        let n = await this.tokenizer.readNumber(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8);\n        if ((n & 0x80) === 0) {\n            return { len, value: hb + n };\n        }\n        n &= 0x7F;\n        n += hb;\n        return this.readVariableSizeField(len + 1, n << 7);\n    }\n}\n//# sourceMappingURL=StreamVersion8.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9tdXNpYy1tZXRhZGF0YUAxMC43LjAvbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tdXNlcGFjay9zdjgvU3RyZWFtVmVyc2lvbjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFxQztBQUNQO0FBQ2U7QUFDN0MsY0FBYyxrQ0FBUztBQUN2QixzQkFBc0IsbURBQWdCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsa0RBQWU7QUFDaEMsMkJBQTJCLDhDQUFXO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsaUVBQXlCO0FBQ25GLDBCQUEwQixpRUFBeUI7QUFDbkQsMEJBQTBCLGlFQUF5QjtBQUNuRCxvQkFBb0IscURBQWE7QUFDakMsOEJBQThCLGlFQUF5QjtBQUN2RDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHdCQUF3QjtBQUM5RDtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msb0JBQW9CO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsOENBQVc7QUFDM0Q7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2xpbGFzL0J1cmVhdS9EZXYvTE1QL25vZGVfbW9kdWxlcy8ucG5wbS9tdXNpYy1tZXRhZGF0YUAxMC43LjAvbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tdXNlcGFjay9zdjgvU3RyZWFtVmVyc2lvbjguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVG9rZW4gZnJvbSAndG9rZW4tdHlwZXMnO1xuaW1wb3J0IGluaXREZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uLy4uL2NvbW1vbi9VdGlsLmpzJztcbmNvbnN0IGRlYnVnID0gaW5pdERlYnVnKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6bXVzZXBhY2s6c3Y4Jyk7XG5jb25zdCBQYWNrZXRLZXkgPSBuZXcgVG9rZW4uU3RyaW5nVHlwZSgyLCAnbGF0aW4xJyk7XG4vKipcbiAqIFN0cmVhbSBIZWFkZXIgUGFja2V0IHBhcnQgMVxuICogUmVmOiBodHRwOi8vdHJhYy5tdXNlcGFjay5uZXQvbXVzZXBhY2svd2lraS9TVjhTcGVjaWZpY2F0aW9uI1N0cmVhbUhlYWRlclBhY2tldFxuICovXG5jb25zdCBTSF9wYXJ0MSA9IHtcbiAgICBsZW46IDUsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNyYzogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICBzdHJlYW1WZXJzaW9uOiBUb2tlbi5VSU5UOC5nZXQoYnVmLCBvZmYgKyA0KVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vKipcbiAqIFN0cmVhbSBIZWFkZXIgUGFja2V0IHBhcnQgM1xuICogUmVmOiBodHRwOi8vdHJhYy5tdXNlcGFjay5uZXQvbXVzZXBhY2svd2lraS9TVjhTcGVjaWZpY2F0aW9uI1N0cmVhbUhlYWRlclBhY2tldFxuICovXG5jb25zdCBTSF9wYXJ0MyA9IHtcbiAgICBsZW46IDIsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNhbXBsZUZyZXF1ZW5jeTogWzQ0MTAwLCA0ODAwMCwgMzc4MDAsIDMyMDAwXVt1dGlsLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmLCAwLCAzKV0sXG4gICAgICAgICAgICBtYXhVc2VkQmFuZHM6IHV0aWwuZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYsIDMsIDUpLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50OiB1dGlsLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMSwgMCwgNCkgKyAxLFxuICAgICAgICAgICAgbXNVc2VkOiB1dGlsLmlzQml0U2V0KGJ1Ziwgb2ZmICsgMSwgNCksXG4gICAgICAgICAgICBhdWRpb0Jsb2NrRnJhbWVzOiB1dGlsLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMSwgNSwgMylcbiAgICAgICAgfTtcbiAgICB9XG59O1xuZXhwb3J0IGNsYXNzIFN0cmVhbVJlYWRlciB7XG4gICAgY29uc3RydWN0b3IodG9rZW5pemVyKSB7XG4gICAgICAgIHRoaXMudG9rZW5pemVyID0gdG9rZW5pemVyO1xuICAgIH1cbiAgICBhc3luYyByZWFkUGFja2V0SGVhZGVyKCkge1xuICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oUGFja2V0S2V5KTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGF3YWl0IHRoaXMucmVhZFZhcmlhYmxlU2l6ZUZpZWxkKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBwYXlsb2FkTGVuZ3RoOiBzaXplLnZhbHVlIC0gMiAtIHNpemUubGVuXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIHJlYWRTdHJlYW1IZWFkZXIoc2l6ZSkge1xuICAgICAgICBjb25zdCBzdHJlYW1IZWFkZXIgPSB7fTtcbiAgICAgICAgZGVidWcoYFJlYWRpbmcgU0ggYXQgb2Zmc2V0PSR7dGhpcy50b2tlbml6ZXIucG9zaXRpb259YCk7XG4gICAgICAgIGNvbnN0IHBhcnQxID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKFNIX3BhcnQxKTtcbiAgICAgICAgc2l6ZSAtPSBTSF9wYXJ0MS5sZW47XG4gICAgICAgIE9iamVjdC5hc3NpZ24oc3RyZWFtSGVhZGVyLCBwYXJ0MSk7XG4gICAgICAgIGRlYnVnKGBTSC5zdHJlYW1WZXJzaW9uID0gJHtwYXJ0MS5zdHJlYW1WZXJzaW9ufWApO1xuICAgICAgICBjb25zdCBzYW1wbGVDb3VudCA9IGF3YWl0IHRoaXMucmVhZFZhcmlhYmxlU2l6ZUZpZWxkKCk7XG4gICAgICAgIHNpemUgLT0gc2FtcGxlQ291bnQubGVuO1xuICAgICAgICBzdHJlYW1IZWFkZXIuc2FtcGxlQ291bnQgPSBzYW1wbGVDb3VudC52YWx1ZTtcbiAgICAgICAgY29uc3QgYnMgPSBhd2FpdCB0aGlzLnJlYWRWYXJpYWJsZVNpemVGaWVsZCgpO1xuICAgICAgICBzaXplIC09IGJzLmxlbjtcbiAgICAgICAgc3RyZWFtSGVhZGVyLmJlZ2lubmluZ09mU2lsZW5jZSA9IGJzLnZhbHVlO1xuICAgICAgICBjb25zdCBwYXJ0MyA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihTSF9wYXJ0Myk7XG4gICAgICAgIHNpemUgLT0gU0hfcGFydDMubGVuO1xuICAgICAgICBPYmplY3QuYXNzaWduKHN0cmVhbUhlYWRlciwgcGFydDMpO1xuICAgICAgICAvLyBhc3NlcnQuZXF1YWwoc2l6ZSwgMCk7XG4gICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShzaXplKTtcbiAgICAgICAgcmV0dXJuIHN0cmVhbUhlYWRlcjtcbiAgICB9XG4gICAgYXN5bmMgcmVhZFZhcmlhYmxlU2l6ZUZpZWxkKGxlbiA9IDEsIGhiID0gMCkge1xuICAgICAgICBsZXQgbiA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWROdW1iZXIoVG9rZW4uVUlOVDgpO1xuICAgICAgICBpZiAoKG4gJiAweDgwKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgbGVuLCB2YWx1ZTogaGIgKyBuIH07XG4gICAgICAgIH1cbiAgICAgICAgbiAmPSAweDdGO1xuICAgICAgICBuICs9IGhiO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkVmFyaWFibGVTaXplRmllbGQobGVuICsgMSwgbiA8PCA3KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdHJlYW1WZXJzaW9uOC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/music-metadata@10.7.0/node_modules/music-metadata/lib/musepack/sv8/StreamVersion8.js\n"));

/***/ })

}]);