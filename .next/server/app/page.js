(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},3997:e=>{"use strict";e.exports=require("tty")},8354:e=>{"use strict";e.exports=require("util")},8005:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>s.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>h,tree:()=>c});var r=i(9927),n=i(2072),a=i(6058),s=i.n(a),o=i(7997),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);i.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,3748)),"/home/lilas/Bureau/Dev/LMP/src/app/page.js"]}]},{layout:[()=>Promise.resolve().then(i.bind(i,7148)),"/home/lilas/Bureau/Dev/LMP/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,9254,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(i.t.bind(i,5007,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(i.t.bind(i,1940,23)),"next/dist/client/components/unauthorized-error"]}],u=["/home/lilas/Bureau/Dev/LMP/src/app/page.js"],d={require:i,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4064:(e,t,i)=>{Promise.resolve().then(i.t.bind(i,5708,23)),Promise.resolve().then(i.t.bind(i,8714,23)),Promise.resolve().then(i.t.bind(i,6058,23)),Promise.resolve().then(i.t.bind(i,8181,23)),Promise.resolve().then(i.t.bind(i,4305,23)),Promise.resolve().then(i.t.bind(i,1387,23)),Promise.resolve().then(i.t.bind(i,3696,23))},2208:(e,t,i)=>{Promise.resolve().then(i.t.bind(i,9724,23)),Promise.resolve().then(i.t.bind(i,7730,23)),Promise.resolve().then(i.t.bind(i,9314,23)),Promise.resolve().then(i.t.bind(i,1477,23)),Promise.resolve().then(i.t.bind(i,2113,23)),Promise.resolve().then(i.t.bind(i,1523,23)),Promise.resolve().then(i.t.bind(i,6752,23))},1418:(e,t,i)=>{Promise.resolve().then(i.bind(i,3938)),Promise.resolve().then(i.bind(i,8251))},9874:(e,t,i)=>{Promise.resolve().then(i.bind(i,7453)),Promise.resolve().then(i.bind(i,7311))},1320:()=>{},8168:()=>{},5507:(e,t)=>{"use strict";var i=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,r=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,n=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,a=/\\([\u000b\u0020-\u00ff])/g,s=/([\\"])/g,o=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function l(e){this.parameters=Object.create(null),this.type=e}t.format=function(e){if(!e||"object"!=typeof e)throw TypeError("argument obj is required");var t=e.parameters,i=e.type;if(!i||!o.test(i))throw TypeError("invalid type");var a=i;if(t&&"object"==typeof t)for(var l,c=Object.keys(t).sort(),u=0;u<c.length;u++){if(l=c[u],!n.test(l))throw TypeError("invalid parameter name");a+="; "+l+"="+function(e){var t=String(e);if(n.test(t))return t;if(t.length>0&&!r.test(t))throw TypeError("invalid parameter value");return'"'+t.replace(s,"\\$1")+'"'}(t[l])}return a},t.parse=function(e){if(!e)throw TypeError("argument string is required");var t,r,n,s="object"==typeof e?function(e){var t;if("function"==typeof e.getHeader?t=e.getHeader("content-type"):"object"==typeof e.headers&&(t=e.headers&&e.headers["content-type"]),"string"!=typeof t)throw TypeError("content-type header is missing from object");return t}(e):e;if("string"!=typeof s)throw TypeError("argument string is required to be a string");var c=s.indexOf(";"),u=-1!==c?s.slice(0,c).trim():s.trim();if(!o.test(u))throw TypeError("invalid media type");var d=new l(u.toLowerCase());if(-1!==c){for(i.lastIndex=c;r=i.exec(s);){if(r.index!==c)throw TypeError("invalid parameter format");c+=r[0].length,t=r[1].toLowerCase(),34===(n=r[2]).charCodeAt(0)&&-1!==(n=n.slice(1,-1)).indexOf("\\")&&(n=n.replace(a,"$1")),d.parameters[t]=n}if(c!==s.length)throw TypeError("invalid parameter format")}return d}},6984:(e,t,i)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let i="color: "+this.color;t.splice(1,0,i,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(n=r))}),t.splice(n,0,i)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){let e;return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=i(6339)(t);let{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},6339:(e,t,i)=>{e.exports=function(e){function t(e){let i,n,a;let s=null;function o(...e){if(!o.enabled)return;let r=Number(new Date),n=r-(i||r);o.diff=n,o.prev=i,o.curr=r,i=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(i,r)=>{if("%%"===i)return"%";a++;let n=t.formatters[r];if("function"==typeof n){let t=e[a];i=n.call(o,t),e.splice(a,1),a--}return i}),t.formatArgs.call(o,e),(o.log||t.log).apply(o,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(n!==t.namespaces&&(n=t.namespaces,a=t.enabled(e)),a),set:e=>{s=e}}),"function"==typeof t.init&&t.init(o),o}function r(e,i){let r=t(this.namespace+(void 0===i?":":i)+e);return r.log=this.log,r}function n(e,t){let i=0,r=0,n=-1,a=0;for(;i<e.length;)if(r<t.length&&(t[r]===e[i]||"*"===t[r]))"*"===t[r]?(n=r,a=i):i++,r++;else{if(-1===n)return!1;r=n+1,i=++a}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){for(let i of(t.save(e),t.namespaces=e,t.names=[],t.skips=[],("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean)))"-"===i[0]?t.skips.push(i.slice(1)):t.names.push(i)},t.enabled=function(e){for(let i of t.skips)if(n(e,i))return!1;for(let i of t.names)if(n(e,i))return!0;return!1},t.humanize=i(3195),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(i=>{t[i]=e[i]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let i=0;for(let t=0;t<e.length;t++)i=(i<<5)-i+e.charCodeAt(t)|0;return t.colors[Math.abs(i)%t.colors.length]},t.enable(t.load()),t}},836:(e,t,i)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?e.exports=i(6984):e.exports=i(8614)},8614:(e,t,i)=>{let r=i(3997),n=i(8354);t.init=function(e){e.inspectOpts={};let i=Object.keys(t.inspectOpts);for(let r=0;r<i.length;r++)e.inspectOpts[i[r]]=t.inspectOpts[i[r]]},t.log=function(...e){return process.stderr.write(n.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(i){let{namespace:r,useColors:n}=this;if(n){let t=this.color,n="\x1b[3"+(t<8?t:"8;5;"+t),a=`  ${n};1m${r} \u001B[0m`;i[0]=a+i[0].split("\n").join("\n"+a),i.push(n+"m+"+e.exports.humanize(this.diff)+"\x1b[0m")}else i[0]=(t.inspectOpts.hideDate?"":new Date().toISOString()+" ")+r+" "+i[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:r.isatty(process.stderr.fd)},t.destroy=n.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let e=i(4868);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let i=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[i]=r,e},{}),e.exports=i(6339)(t);let{formatters:a}=e.exports;a.o=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},a.O=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts)}},6071:e=>{"use strict";e.exports=(e,t=process.argv)=>{let i=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(i+e),n=t.indexOf("--");return -1!==r&&(-1===n||r<n)}},6133:(e,t)=>{t.L=function(e,t,i,r,n){var a,s,o=8*n-r-1,l=(1<<o)-1,c=l>>1,u=-7,d=i?n-1:0,h=i?-1:1,p=e[t+d];for(d+=h,a=p&(1<<-u)-1,p>>=-u,u+=o;u>0;a=256*a+e[t+d],d+=h,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=h,u-=8);if(0===a)a=1-c;else{if(a===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),a-=c}return(p?-1:1)*s*Math.pow(2,a-r)},t.M=function(e,t,i,r,n,a){var s,o,l,c=8*a-n-1,u=(1<<c)-1,d=u>>1,h=23===n?5960464477539062e-23:0,p=r?0:a-1,m=r?1:-1,f=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(o=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(s++,l/=2),s+d>=u?(o=0,s=u):s+d>=1?(o=(t*l-1)*Math.pow(2,n),s+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,n),s=0));n>=8;e[i+p]=255&o,p+=m,o/=256,n-=8);for(s=s<<n|o,c+=n;c>0;e[i+p]=255&s,p+=m,s/=256,c-=8);e[i+p-m]|=128*f}},4117:(e,t)=>{"use strict";var i=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;function r(e,t,i){this.type=e,this.subtype=t,this.suffix=i}t.qg=function(e){if(!e)throw TypeError("argument string is required");if("string"!=typeof e)throw TypeError("argument string is required to be a string");var t,n=i.exec(e.toLowerCase());if(!n)throw TypeError("invalid media type");var a=n[1],s=n[2],o=s.lastIndexOf("+");return -1!==o&&(t=s.substr(o+1),s=s.substr(0,o)),new r(a,s,t)}},3195:e=>{function t(e,t,i,r){return Math.round(e/i)+" "+r+(t>=1.5*i?"s":"")}e.exports=function(e,i){i=i||{};var r,n,a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return 864e5*i;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*i;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===a&&isFinite(e))return i.long?(r=Math.abs(e))>=864e5?t(e,r,864e5,"day"):r>=36e5?t(e,r,36e5,"hour"):r>=6e4?t(e,r,6e4,"minute"):r>=1e3?t(e,r,1e3,"second"):e+" ms":(n=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":n>=36e5?Math.round(e/36e5)+"h":n>=6e4?Math.round(e/6e4)+"m":n>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},4868:(e,t,i)=>{"use strict";let r;let n=i(1820),a=i(3997),s=i(6071),{env:o}=process;function l(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function c(e,t){if(0===r)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(e&&!t&&void 0===r)return 0;let i=r||0;if("dumb"===o.TERM)return i;if("win32"===process.platform){let e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in o)||"codeship"===o.CI_NAME?1:i;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){let e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:i}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?r=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(r=1),"FORCE_COLOR"in o&&(r="true"===o.FORCE_COLOR?1:"false"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(parseInt(o.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return l(c(e,e&&e.isTTY))},stdout:l(c(!0,a.isatty(1))),stderr:l(c(!0,a.isatty(2)))}},7445:e=>{e.exports={container:"draggable_container__nKaNv",container1:"draggable_container1__EKurS",player:"draggable_player__Jxg_3",visualizer:"draggable_visualizer__c9azm",background:"draggable_background__RigPh",foreground:"draggable_foreground__76ZLm",controls:"draggable_controls__YsWtd",btn:"draggable_btn__XcQ1U",playlist:"draggable_playlist__g_ckV"}},2507:()=>{},9717:(e,t,i)=>{"use strict";var r,n,a,s,o;i.d(t,{DE:()=>s,Ci:()=>c,TA:()=>u}),"function"==typeof SuppressedError&&SuppressedError;async function l(e,t={},i){return window.__TAURI_INTERNALS__.invoke(e,t,i)}new WeakMap,new WeakMap,new WeakMap,new WeakMap,function(e){e[e.Audio=1]="Audio",e[e.Cache=2]="Cache",e[e.Config=3]="Config",e[e.Data=4]="Data",e[e.LocalData=5]="LocalData",e[e.Document=6]="Document",e[e.Download=7]="Download",e[e.Picture=8]="Picture",e[e.Public=9]="Public",e[e.Video=10]="Video",e[e.Resource=11]="Resource",e[e.Temp=12]="Temp",e[e.AppConfig=13]="AppConfig",e[e.AppData=14]="AppData",e[e.AppLocalData=15]="AppLocalData",e[e.AppCache=16]="AppCache",e[e.AppLog=17]="AppLog",e[e.Desktop=18]="Desktop",e[e.Executable=19]="Executable",e[e.Font=20]="Font",e[e.Home=21]="Home",e[e.Runtime=22]="Runtime",e[e.Template=23]="Template"}(s||(s={})),!function(e){e[e.Start=0]="Start",e[e.Current=1]="Current",e[e.End=2]="End"}(o||(o={}));async function c(e,t){if(e instanceof URL&&"file:"!==e.protocol)throw TypeError("Must be a file URL.");return await l("plugin:fs|read_dir",{path:e instanceof URL?e.toString():e,options:t})}async function u(e,t){if(e instanceof URL&&"file:"!==e.protocol)throw TypeError("Must be a file URL.");let i=await l("plugin:fs|read_file",{path:e instanceof URL?e.toString():e,options:t});return i instanceof ArrayBuffer?new Uint8Array(i):Uint8Array.from(i)}},3822:(e,t,i)=>{"use strict";i.d(t,{e6:()=>n,fO:()=>c,gP:()=>o,nK:()=>l,qq:()=>a});let r=e=>class extends Error{constructor(t){super(t),this.name=e}};class n extends r("CouldNotDetermineFileTypeError"){}class a extends r("UnsupportedFileTypeError"){}class s extends r("UnexpectedFileContentError"){constructor(e,t){super(t),this.fileType=e}toString(){return`${this.name} (FileType: ${this.fileType}): ${this.message}`}}class o extends r("FieldDecodingError"){}class l extends r("InternalParserError"){}let c=e=>class extends s{constructor(t){super(e,t)}}},4436:(e,t,i)=>{"use strict";i.r(t),i.d(t,{APEv2Parser:()=>_,ApeContentError:()=>w});var r,n=i(836),a=i(1972),s=i(7233),o=i(5130),l=i(2683),c=i(8890),u=i(7089);!function(e){e[e.text_utf8=0]="text_utf8",e[e.binary=1]="binary",e[e.external_info=2]="external_info",e[e.reserved=3]="reserved"}(r||(r={}));let d={len:52,get:(e,t)=>({ID:u.e.get(e,t),version:s.UINT32_LE.get(e,t+4)/1e3,descriptorBytes:s.UINT32_LE.get(e,t+8),headerBytes:s.UINT32_LE.get(e,t+12),seekTableBytes:s.UINT32_LE.get(e,t+16),headerDataBytes:s.UINT32_LE.get(e,t+20),apeFrameDataBytes:s.UINT32_LE.get(e,t+24),apeFrameDataBytesHigh:s.UINT32_LE.get(e,t+28),terminatingDataBytes:s.UINT32_LE.get(e,t+32),fileMD5:new s.Uint8ArrayType(16).get(e,t+36)})},h={len:24,get:(e,t)=>({compressionLevel:s.UINT16_LE.get(e,t),formatFlags:s.UINT16_LE.get(e,t+2),blocksPerFrame:s.UINT32_LE.get(e,t+4),finalFrameBlocks:s.UINT32_LE.get(e,t+8),totalFrames:s.UINT32_LE.get(e,t+12),bitsPerSample:s.UINT16_LE.get(e,t+16),channel:s.UINT16_LE.get(e,t+18),sampleRate:s.UINT32_LE.get(e,t+20)})},p={len:32,get:(e,t)=>({ID:new s.StringType(8,"ascii").get(e,t),version:s.UINT32_LE.get(e,t+8),size:s.UINT32_LE.get(e,t+12),fields:s.UINT32_LE.get(e,t+16),flags:f(s.UINT32_LE.get(e,t+20))})},m={len:8,get:(e,t)=>({size:s.UINT32_LE.get(e,t),flags:f(s.UINT32_LE.get(e,t+4))})};function f(e){return{containsHeader:(-0x80000000&e)!=0,containsFooter:(0x40000000&e)!=0,isHeader:(0x20000000&e)!=0,readOnly:(1&e)!=0,dataType:(6&e)>>1}}var g=i(3822);let b=n("music-metadata:parser:APEv2"),y="APEv2",v="APETAGEX";class w extends(0,g.fO)("APEv2"){}class _ extends c.s{constructor(){super(...arguments),this.ape={}}static tryParseApeHeader(e,t,i){return new _(e,t,i).tryParseApeHeader()}static calculateDuration(e){let t=e.totalFrames>1?e.blocksPerFrame*(e.totalFrames-1):0;return(t+=e.finalFrameBlocks)/e.sampleRate}static async findApeFooterOffset(e,t){let i=new Uint8Array(p.len),r=e.position;await e.readBuffer(i,{position:t-p.len}),e.setPosition(r);let n=p.get(i,0);if("APETAGEX"===n.ID)return n.flags.isHeader?b(`APE Header found at offset=${t-p.len}`):(b(`APE Footer found at offset=${t-p.len}`),t-=n.size),{footer:n,offset:t}}static parseTagFooter(e,t,i){let r=p.get(t,t.length-p.len);if(r.ID!==v)throw new w("Unexpected APEv2 Footer ID preamble value");return a.vY(t),new _(e,a.vY(t),i).parseTags(r)}async tryParseApeHeader(){if(this.tokenizer.fileInfo.size&&this.tokenizer.fileInfo.size-this.tokenizer.position<p.len){b("No APEv2 header found, end-of-file reached");return}let e=await this.tokenizer.peekToken(p);if(e.ID===v)return await this.tokenizer.ignore(p.len),this.parseTags(e);if(b(`APEv2 header not found at offset=${this.tokenizer.position}`),this.tokenizer.fileInfo.size){let e=new Uint8Array(this.tokenizer.fileInfo.size-this.tokenizer.position);return await this.tokenizer.readBuffer(e),_.parseTagFooter(this.metadata,e,this.options)}}async parse(){let e=await this.tokenizer.readToken(d);if("MAC "!==e.ID)throw new w("Unexpected descriptor ID");this.ape.descriptor=e;let t=e.descriptorBytes-d.len,i=await (t>0?this.parseDescriptorExpansion(t):this.parseHeader());return await this.tokenizer.ignore(i.forwardBytes),this.tryParseApeHeader()}async parseTags(e){let t=new Uint8Array(256),i=e.size-p.len;b(`Parse APE tags at offset=${this.tokenizer.position}, size=${i}`);for(let n=0;n<e.fields;n++){if(i<m.len){this.metadata.addWarning(`APEv2 Tag-header: ${e.fields-n} items remaining, but no more tag data to read.`);break}let a=await this.tokenizer.readToken(m);i-=m.len+a.size,await this.tokenizer.peekBuffer(t,{length:Math.min(t.length,i)});let c=l.sX(t,0,t.length),u=await this.tokenizer.readToken(new s.StringType(c,"ascii"));switch(await this.tokenizer.ignore(1),i-=u.length+1,a.flags.dataType){case r.text_utf8:{let e=(await this.tokenizer.readToken(new s.StringType(a.size,"utf8"))).split(/\x00/g);await Promise.all(e.map(e=>this.metadata.addTag(y,u,e)));break}case r.binary:if(this.options.skipCovers)await this.tokenizer.ignore(a.size);else{let e=new Uint8Array(a.size);await this.tokenizer.readBuffer(e),c=l.sX(e,0,e.length);let t=(0,o.SW)(e.slice(0,c)),i=e.slice(c+1);await this.metadata.addTag(y,u,{description:t,data:i})}break;case r.external_info:b(`Ignore external info ${u}`),await this.tokenizer.ignore(a.size);break;case r.reserved:b(`Ignore external info ${u}`),this.metadata.addWarning(`APEv2 header declares a reserved datatype for "${u}"`),await this.tokenizer.ignore(a.size)}}}async parseDescriptorExpansion(e){return await this.tokenizer.ignore(e),this.parseHeader()}async parseHeader(){let e=await this.tokenizer.readToken(h);if(this.metadata.setFormat("lossless",!0),this.metadata.setFormat("container","Monkey's Audio"),this.metadata.setFormat("bitsPerSample",e.bitsPerSample),this.metadata.setFormat("sampleRate",e.sampleRate),this.metadata.setFormat("numberOfChannels",e.channel),this.metadata.setFormat("duration",_.calculateDuration(e)),!this.ape.descriptor)throw new w("Missing APE descriptor");return{forwardBytes:this.ape.descriptor.seekTableBytes+this.ape.descriptor.headerDataBytes+this.ape.descriptor.apeFrameDataBytes+this.ape.descriptor.terminatingDataBytes}}}},8890:(e,t,i)=>{"use strict";i.d(t,{s:()=>r});class r{constructor(e,t,i){this.metadata=e,this.tokenizer=t,this.options=i}}},7089:(e,t,i)=>{"use strict";i.d(t,{e:()=>o});var r=i(5130),n=i(2683),a=i(3822);let s=/^[\x21-\x7e©][\x20-\x7e\x00()]{3}/,o={len:4,get:(e,t)=>{let i=(0,r.SW)(e.slice(t,t+o.len),"latin1");if(!i.match(s))throw new a.gP(`FourCC contains invalid characters: ${n.DY(i)} "${i}"`);return i},put:(e,t,i)=>{let n=(0,r.Al)(i);if(4!==n.length)throw new a.nK("Invalid length");return e.set(n,t),t+4}}},2683:(e,t,i)=>{"use strict";i.d(t,{DY:()=>d,F6:()=>l,cD:()=>u,f5:()=>c,mh:()=>a,qW:()=>o,sX:()=>s,sc:()=>function e(t,i){if(255===t[0]&&254===t[1])return e(t.subarray(2),i);if("utf-16le"===i&&254===t[0]&&255===t[1]){if((1&t.length)!=0)throw new n.gP("Expected even number of octets for 16-bit unicode string");return e(function(e){let t=e.length;if((1&t)!=0)throw new n.gP("Buffer length must be even");for(let i=0;i<t;i+=2){let t=e[i];e[i]=e[i+1],e[i+1]=t}return e}(t),i)}return new r.StringType(t.length,i).get(t,0)},th:()=>h});var r=i(7233),n=i(3822);function a(e,t,i){return(e[t]&1<<i)!=0}function s(e,t,i,r){let n=t;if("utf-16le"===r){for(;0!==e[n]||0!==e[n+1];){if(n>=i)return i;n+=2}return n}for(;0!==e[n];){if(n>=i)return i;n++}return n}function o(e){let t=e.indexOf("\0");return -1===t?e:e.substr(0,t)}function l(e){return e=(e=e.replace(/^\x00+/g,"")).replace(/\x00+$/g,"")}function c(e,t,i,r){let n=t+~~(i/8),a=i%8,s=e[n];s&=255>>a;let o=8-a,l=r-o;return l<0?s>>=8-a-r:l>0&&(s<<=l,s|=c(e,t,i+o,l)),s}function u(e,t,i){return 1===c(e,t,i,1)}function d(e){let t=[];for(let i=0,r=e.length;i<r;i++){let r=Number(e.charCodeAt(i)).toString(16);t.push(1===r.length?`0${r}`:r)}return t.join(" ")}function h(e){let t=e.split(" ").map(e=>e.trim().toLowerCase());if(t.length>=1){let e=Number.parseFloat(t[0]);return 2===t.length&&"db"===t[1]?{dB:e,ratio:10**(e/10)}:{dB:10*Math.log10(e),ratio:e}}}},1777:(e,t,i)=>{"use strict";i.d(t,{Bn:()=>h,jR:()=>c,zc:()=>p});var r=i(836),n=i(7233),a=i(2683),s=i(8890),o=i(4436);let l=r("music-metadata:parser:ID3v1"),c=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","Alt. Rock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk/Rock","National Folk","Swing","Fast-Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Abstract","Art Rock","Baroque","Bhangra","Big Beat","Breakbeat","Chillout","Downtempo","Dub","EBM","Eclectic","Electro","Electroclash","Emo","Experimental","Garage","Global","IDM","Illbient","Industro-Goth","Jam Band","Krautrock","Leftfield","Lounge","Math Rock","New Romantic","Nu-Breakz","Post-Punk","Post-Rock","Psytrance","Shoegaze","Space Rock","Trop Rock","World Music","Neoclassical","Audiobook","Audio Theatre","Neue Deutsche Welle","Podcast","Indie Rock","G-Funk","Dubstep","Garage Rock","Psybient"],u={len:128,get:(e,t)=>{let i=new d(3).get(e,t);return"TAG"===i?{header:i,title:new d(30).get(e,t+3),artist:new d(30).get(e,t+33),album:new d(30).get(e,t+63),year:new d(4).get(e,t+93),comment:new d(28).get(e,t+97),zeroByte:n.UINT8.get(e,t+127),track:n.UINT8.get(e,t+126),genre:n.UINT8.get(e,t+127)}:null}};class d{constructor(e){this.len=e,this.stringType=new n.StringType(e,"latin1")}get(e,t){let i=this.stringType.get(e,t);return(i=(i=a.qW(i)).trim()).length>0?i:void 0}}class h extends s.s{constructor(e,t,i){super(e,t,i),this.apeHeader=i.apeHeader}static getGenre(e){if(e<c.length)return c[e]}async parse(){if(!this.tokenizer.fileInfo.size){l("Skip checking for ID3v1 because the file-size is unknown");return}if(this.apeHeader){this.tokenizer.ignore(this.apeHeader.offset-this.tokenizer.position);let e=new o.APEv2Parser(this.metadata,this.tokenizer,this.options);await e.parseTags(this.apeHeader.footer)}let e=this.tokenizer.fileInfo.size-u.len;if(this.tokenizer.position>e){l("Already consumed the last 128 bytes");return}let t=await this.tokenizer.readToken(u,e);if(t){for(let e of(l("ID3v1 header found at: pos=%s",this.tokenizer.fileInfo.size-u.len),["title","artist","album","comment","track","year"]))t[e]&&""!==t[e]&&await this.addTag(e,t[e]);let e=h.getGenre(t.genre);e&&await this.addTag("genre",e)}else l("ID3v1 header not found at: pos=%s",this.tokenizer.fileInfo.size-u.len)}async addTag(e,t){await this.metadata.addTag("ID3v1",e,t)}}async function p(e){if(e.fileInfo.size>=128){let t=new Uint8Array(3),i=e.position;return await e.readBuffer(t,{position:e.fileInfo.size-128}),e.setPosition(i),"TAG"===new TextDecoder("latin1").decode(t)}return!1}},8969:(e,t,i)=>{"use strict";i.d(t,{Jp:()=>h,MW:()=>n,St:()=>l,YF:()=>d,aY:()=>p,n5:()=>r,nl:()=>u,sd:()=>a,yW:()=>c});var r,n,a,s=i(7233),o=i(2683);(function(e){e[e.Other=0]="Other",e[e["32x32 pixels 'file icon' (PNG only)"]=1]="32x32 pixels 'file icon' (PNG only)",e[e["Other file icon"]=2]="Other file icon",e[e["Cover (front)"]=3]="Cover (front)",e[e["Cover (back)"]=4]="Cover (back)",e[e["Leaflet page"]=5]="Leaflet page",e[e["Media (e.g. label side of CD)"]=6]="Media (e.g. label side of CD)",e[e["Lead artist/lead performer/soloist"]=7]="Lead artist/lead performer/soloist",e[e["Artist/performer"]=8]="Artist/performer",e[e.Conductor=9]="Conductor",e[e["Band/Orchestra"]=10]="Band/Orchestra",e[e.Composer=11]="Composer",e[e["Lyricist/text writer"]=12]="Lyricist/text writer",e[e["Recording Location"]=13]="Recording Location",e[e["During recording"]=14]="During recording",e[e["During performance"]=15]="During performance",e[e["Movie/video screen capture"]=16]="Movie/video screen capture",e[e["A bright coloured fish"]=17]="A bright coloured fish",e[e.Illustration=18]="Illustration",e[e["Band/artist logotype"]=19]="Band/artist logotype",e[e["Publisher/Studio logotype"]=20]="Publisher/Studio logotype"})(r||(r={})),function(e){e[e.other=0]="other",e[e.lyrics=1]="lyrics",e[e.text=2]="text",e[e.movement_part=3]="movement_part",e[e.events=4]="events",e[e.chord=5]="chord",e[e.trivia_pop=6]="trivia_pop"}(n||(n={})),function(e){e[e.notSynchronized0=0]="notSynchronized0",e[e.mpegFrameNumber=1]="mpegFrameNumber",e[e.milliseconds=2]="milliseconds"}(a||(a={}));let l={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4},c={len:10,get:(e,t)=>({fileIdentifier:new s.StringType(3,"ascii").get(e,t),version:{major:s.INT8.get(e,t+3),revision:s.INT8.get(e,t+4)},flags:{unsynchronisation:o.mh(e,t+5,7),isExtendedHeader:o.mh(e,t+5,6),expIndicator:o.mh(e,t+5,5),footer:o.mh(e,t+5,4)},size:l.get(e,t+6)})},u={len:10,get:(e,t)=>({size:s.UINT32_BE.get(e,t),extendedFlags:s.UINT16_BE.get(e,t+4),sizeOfPadding:s.UINT32_BE.get(e,t+6),crcDataPresent:o.mh(e,t+4,31)})},d={len:1,get:(e,t)=>{switch(e[t]){case 0:return{encoding:"latin1"};case 1:return{encoding:"utf-16le",bom:!0};case 2:return{encoding:"utf-16le",bom:!1};default:return{encoding:"utf8",bom:!1}}}},h={len:4,get:(e,t)=>({encoding:d.get(e,t),language:new s.StringType(3,"latin1").get(e,t+1)})},p={len:6,get:(e,t)=>{let i=h.get(e,t);return{encoding:i.encoding,language:i.language,timeStampFormat:s.UINT8.get(e,t+4),contentType:s.UINT8.get(e,t+5)}}}},2336:(e,t,i)=>{"use strict";i.d(t,{ix:()=>eh});var r=i(1972),n=i(836),a=i(7233),s=i(9589);class o{constructor(e){this.numBuffer=new Uint8Array(8),this.position=0,this.onClose=e?.onClose,e?.abortSignal&&e.abortSignal.addEventListener("abort",()=>{this.abort()})}async readToken(e,t=this.position){let i=new Uint8Array(e.len);if(await this.readBuffer(i,{position:t})<e.len)throw new s.d1;return e.get(i,0)}async peekToken(e,t=this.position){let i=new Uint8Array(e.len);if(await this.peekBuffer(i,{position:t})<e.len)throw new s.d1;return e.get(i,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new s.d1;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new s.d1;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){let t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){await this.abort(),await this.onClose?.()}normalizeOptions(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}abort(){return Promise.resolve()}}class l extends o{constructor(e,t){super(t),this.streamReader=e,this.fileInfo=t?.fileInfo??{}}async readBuffer(e,t){let i=this.normalizeOptions(e,t),r=i.position-this.position;if(r>0)return await this.ignore(r),this.readBuffer(e,t);if(r<0)throw Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===i.length)return 0;let n=await this.streamReader.read(e,i.offset,i.length);if(this.position+=n,(!t||!t.mayBeLess)&&n<i.length)throw new s.d1;return n}async peekBuffer(e,t){let i=this.normalizeOptions(e,t),r=0;if(i.position){let t=i.position-this.position;if(t>0){let n=new Uint8Array(i.length+t);return r=await this.peekBuffer(n,{mayBeLess:i.mayBeLess}),e.set(n.subarray(t),i.offset),r-t}if(t<0)throw Error("Cannot peek from a negative offset in a stream")}if(i.length>0){try{r=await this.streamReader.peek(e,i.offset,i.length)}catch(e){if(t?.mayBeLess&&e instanceof s.d1)return 0;throw e}if(!i.mayBeLess&&r<i.length)throw new s.d1}return r}async ignore(e){let t=Math.min(256e3,e),i=new Uint8Array(t),r=0;for(;r<e;){let n=e-r,a=await this.readBuffer(i,{length:Math.min(t,n)});if(a<0)return a;r+=a}return r}abort(){return this.streamReader.abort()}supportsRandomAccess(){return!1}}class c extends o{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo={...t?.fileInfo??{},size:e.length}}async readBuffer(e,t){if(t?.position){if(t.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}let i=await this.peekBuffer(e,t);return this.position+=i,i}async peekBuffer(e,t){let i=this.normalizeOptions(e,t),r=Math.min(this.uint8Array.length-i.position,i.length);if(!i.mayBeLess&&r<i.length)throw new s.d1;return e.set(this.uint8Array.subarray(i.position,i.position+r),i.offset),r}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(e){this.position=e}}var u=i(5130);let d={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4};async function h(e){return new m().fromBuffer(e)}function p(e,t,i){for(let[r,n]of(i={offset:0,...i},t.entries()))if(i.mask){if(n!==(i.mask[r]&e[r+i.offset]))return!1}else if(n!==e[r+i.offset])return!1;return!0}class m{constructor(e){this.detectors=e?.customDetectors,this.tokenizerOptions={abortSignal:e?.signal},this.fromTokenizer=this.fromTokenizer.bind(this),this.fromBuffer=this.fromBuffer.bind(this),this.parse=this.parse.bind(this)}async fromTokenizer(e){let t=e.position;for(let i of this.detectors||[]){let r=await i(e);if(r)return r;if(t!==e.position)return}return this.parse(e)}async fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer))throw TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof e}\``);let t=e instanceof Uint8Array?e:new Uint8Array(e);if(t?.length>1)return this.fromTokenizer(new c(t,this.tokenizerOptions))}async fromBlob(e){return this.fromStream(e.stream())}async fromStream(e){var t;let i=await (t=this.tokenizerOptions,new l(new s.yT(e),t));try{return await this.fromTokenizer(i)}finally{await i.close()}}async toDetectionStream(e,t){let i,r;let{sampleSize:n=4100}=t,a=e.getReader({mode:"byob"});try{let{value:e,done:t}=await a.read(new Uint8Array(n));if(r=e,!t&&e)try{i=await this.fromBuffer(e.slice(0,n))}catch(e){if(!(e instanceof s.d1))throw e;i=void 0}r=e}finally{a.releaseLock()}let o=new TransformStream({async start(e){e.enqueue(r)},transform(e,t){t.enqueue(e)}}),l=e.pipeThrough(o);return l.fileType=i,l}check(e,t){return p(this.buffer,e,t)}checkString(e,t){return this.check([...e].map(e=>e.charCodeAt(0)),t)}async parse(e){if(this.buffer=new Uint8Array(4100),void 0===e.fileInfo.size&&(e.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=e,await e.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return(await e.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14}))?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.parse(e);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await e.ignore(6);let t=await e.readToken(d);return e.position+t>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(t),this.fromTokenizer(e))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===this.buffer[0]||70===this.buffer[0])&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(this.buffer,{length:30});let t=new DataView(this.buffer.buffer),i={compressedSize:t.getUint32(18,!0),uncompressedSize:t.getUint32(22,!0),filenameLength:t.getUint16(26,!0),extraFieldLength:t.getUint16(28,!0)};if(i.filename=await e.readToken(new a.StringType(i.filenameLength,"utf-8")),await e.ignore(i.extraFieldLength),/classes\d*\.dex/.test(i.filename))return{ext:"apk",mime:"application/vnd.android.package-archive"};if("META-INF/mozilla.rsa"===i.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(i.filename.endsWith(".rels")||i.filename.endsWith(".xml"))switch(i.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};case"visio":return{ext:"vsdx",mime:"application/vnd.visio"}}if(i.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(i.filename.startsWith("3D/")&&i.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===i.filename&&i.compressedSize===i.uncompressedSize){let t=await e.readToken(new a.StringType(i.compressedSize,"utf-8"));switch(t=t.trim()){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}}if(0===i.compressedSize){let t=-1;for(;t<0&&e.position<e.fileInfo.size;)await e.peekBuffer(this.buffer,{mayBeLess:!0}),t=(0,u.qh)(this.buffer,new Uint8Array([80,75,3,4])),await e.ignore(t>=0?t:this.buffer.length)}else await e.ignore(i.compressedSize)}}catch(e){if(!(e instanceof s.d1))throw e}return{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await e.ignore(28);let t=new Uint8Array(8);return(await e.readBuffer(t),p(t,[79,112,117,115,72,101,97,100]))?{ext:"opus",mime:"audio/ogg; codecs=opus"}:p(t,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:p(t,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:p(t,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:p(t,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:p(t,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(3===this.buffer[2]||5===this.buffer[2]||7===this.buffer[2])&&(4===this.buffer[3]||6===this.buffer[3]||8===this.buffer[3]))return{ext:"zip",mime:"application/zip"};if(this.checkString("ftyp",{offset:4})&&(96&this.buffer[8])!=0){let e=new a.StringType(4,"latin1").get(this.buffer,8).replace("\0"," ").trim();switch(e){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:if(e.startsWith("3g")){if(e.startsWith("3g2"))return{ext:"3g2",mime:"video/3gpp2"};return{ext:"3gp",mime:"video/3gpp"}}return{ext:"mp4",mime:"video/mp4"}}}if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF")){try{await e.ignore(1350);let t=new Uint8Array(Math.min(0xa00000,e.fileInfo.size));if(await e.readBuffer(t,{mayBeLess:!0}),(0,u.mK)(t,new TextEncoder().encode("AIPrivateData")))return{ext:"ai",mime:"application/postscript"}}catch(e){if(!(e instanceof s.d1))throw e}return{ext:"pdf",mime:"application/pdf"}}if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){let e=await this.readTiffHeader(!1);if(e)return e}if(this.check([77,77])){let e=await this.readTiffHeader(!0);if(e)return e}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function t(){let t=await e.peekNumber(a.UINT8),i=128,r=0;for(;(t&i)==0&&0!==i;)++r,i>>=1;let n=new Uint8Array(r+1);return await e.readBuffer(n),n}async function i(){let e=await t(),i=await t();i[0]^=128>>i.length-1;let r=Math.min(6,i.length),n=new DataView(e.buffer),a=new DataView(i.buffer,i.length-r,r);return{id:(0,u.AW)(n),len:(0,u.AW)(a)}}async function r(t){for(;t>0;){let r=await i();if(17026===r.id)return(await e.readToken(new a.StringType(r.len))).replaceAll(/\00.*$/g,"");await e.ignore(r.len),--t}}let n=await i();switch(await r(n.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(this.check([82,73,70,70])){if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1"))return{ext:"parquet",mime:"application/x-parquet"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(0===this.buffer[6]||1===this.buffer[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){let e=new a.StringType(4,"latin1").get(this.buffer,2);if(e.match("^d*")&&e>=1e3&&e<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return(await e.ignore(8),"debian-binary"===await e.readToken(new a.StringType(13,"ascii")))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.checkString("WEBVTT")&&["\n","\r","	"," ","\0"].some(e=>this.checkString(e,{offset:6})))return{ext:"vtt",mime:"text/vtt"};if(this.check([137,80,78,71,13,10,26,10])){async function n(){return{length:await e.readToken(a.INT32_BE),type:await e.readToken(new a.StringType(4,"latin1"))}}await e.ignore(8);do{let t=await n();if(t.length<0)return;switch(t.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(t.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function o(){let t=new Uint8Array(16);return await e.readBuffer(t),{id:t,size:Number(await e.readToken(a.UINT64_LE))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){let t=await o(),i=t.size-24;if(p(t.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let t=new Uint8Array(16);if(i-=await e.readBuffer(t),p(t,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(p(t,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(i)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await e.ignore(20),await e.readToken(new a.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(this.buffer,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("**ACE",{offset:7})&&this.checkString("**",{offset:12}))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){let e=new DataView(this.buffer.buffer).getUint32(12,!0);if(e>12&&this.buffer.length>=e+16)try{let t=new TextDecoder().decode(this.buffer.slice(16,e+16));if(JSON.parse(t).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188})||this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \0"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(this.buffer,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),function(e,t=0){let i=Number.parseInt(new a.StringType(6).get(e,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(i))return!1;let r=256;for(let i=t;i<t+148;i++)r+=e[i];for(let i=t+156;i<t+512;i++)r+=e[i];return i===r}(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254]))return this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0;if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(this.buffer.length>=2&&this.check([255,224],{offset:0,mask:[255,224]})){if(this.check([16],{offset:1,mask:[22]}))return this.check([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}async readTiffTag(e){let t=await this.tokenizer.readToken(e?a.UINT16_BE:a.UINT16_LE);switch(this.tokenizer.ignore(10),t){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(e){let t=await this.tokenizer.readToken(e?a.UINT16_BE:a.UINT16_LE);for(let i=0;i<t;++i){let t=await this.readTiffTag(e);if(t)return t}}async readTiffHeader(e){let t=(e?a.UINT16_BE:a.UINT16_LE).get(this.buffer,2),i=(e?a.UINT32_BE:a.UINT32_LE).get(this.buffer,4);if(42===t){if(i>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(i>=8&&(this.check([28,0,254,0],{offset:8})||this.check([31,0,11,0],{offset:8})))return{ext:"nef",mime:"image/x-nikon-nef"}}return await this.tokenizer.ignore(i),await this.readTiffIFD(e)??{ext:"tif",mime:"image/tiff"}}if(43===t)return{ext:"tif",mime:"image/tiff"}}}var f=i(5507),g=i(4117),b=i(3685);let y={year:{multiple:!1},track:{multiple:!1},disk:{multiple:!1},title:{multiple:!1},artist:{multiple:!1},artists:{multiple:!0,unique:!0},albumartist:{multiple:!1},album:{multiple:!1},date:{multiple:!1},originaldate:{multiple:!1},originalyear:{multiple:!1},releasedate:{multiple:!1},comment:{multiple:!0,unique:!1},genre:{multiple:!0,unique:!0},picture:{multiple:!0,unique:!0},composer:{multiple:!0,unique:!0},lyrics:{multiple:!0,unique:!1},albumsort:{multiple:!1,unique:!0},titlesort:{multiple:!1,unique:!0},work:{multiple:!1,unique:!0},artistsort:{multiple:!1,unique:!0},albumartistsort:{multiple:!1,unique:!0},composersort:{multiple:!1,unique:!0},lyricist:{multiple:!0,unique:!0},writer:{multiple:!0,unique:!0},conductor:{multiple:!0,unique:!0},remixer:{multiple:!0,unique:!0},arranger:{multiple:!0,unique:!0},engineer:{multiple:!0,unique:!0},producer:{multiple:!0,unique:!0},technician:{multiple:!0,unique:!0},djmixer:{multiple:!0,unique:!0},mixer:{multiple:!0,unique:!0},label:{multiple:!0,unique:!0},grouping:{multiple:!1},subtitle:{multiple:!0},discsubtitle:{multiple:!1},totaltracks:{multiple:!1},totaldiscs:{multiple:!1},compilation:{multiple:!1},rating:{multiple:!0},bpm:{multiple:!1},mood:{multiple:!1},media:{multiple:!1},catalognumber:{multiple:!0,unique:!0},tvShow:{multiple:!1},tvShowSort:{multiple:!1},tvSeason:{multiple:!1},tvEpisode:{multiple:!1},tvEpisodeId:{multiple:!1},tvNetwork:{multiple:!1},podcast:{multiple:!1},podcasturl:{multiple:!1},releasestatus:{multiple:!1},releasetype:{multiple:!0},releasecountry:{multiple:!1},script:{multiple:!1},language:{multiple:!1},copyright:{multiple:!1},license:{multiple:!1},encodedby:{multiple:!1},encodersettings:{multiple:!1},gapless:{multiple:!1},barcode:{multiple:!1},isrc:{multiple:!0},asin:{multiple:!1},musicbrainz_recordingid:{multiple:!1},musicbrainz_trackid:{multiple:!1},musicbrainz_albumid:{multiple:!1},musicbrainz_artistid:{multiple:!0},musicbrainz_albumartistid:{multiple:!0},musicbrainz_releasegroupid:{multiple:!1},musicbrainz_workid:{multiple:!1},musicbrainz_trmid:{multiple:!1},musicbrainz_discid:{multiple:!1},acoustid_id:{multiple:!1},acoustid_fingerprint:{multiple:!1},musicip_puid:{multiple:!1},musicip_fingerprint:{multiple:!1},website:{multiple:!1},"performer:instrument":{multiple:!0,unique:!0},averageLevel:{multiple:!1},peakLevel:{multiple:!1},notes:{multiple:!0,unique:!1},key:{multiple:!1},originalalbum:{multiple:!1},originalartist:{multiple:!1},discogs_artist_id:{multiple:!0,unique:!0},discogs_release_id:{multiple:!1},discogs_label_id:{multiple:!1},discogs_master_release_id:{multiple:!1},discogs_votes:{multiple:!1},discogs_rating:{multiple:!1},replaygain_track_peak:{multiple:!1},replaygain_track_gain:{multiple:!1},replaygain_album_peak:{multiple:!1},replaygain_album_gain:{multiple:!1},replaygain_track_minmax:{multiple:!1},replaygain_album_minmax:{multiple:!1},replaygain_undo:{multiple:!1},description:{multiple:!0},longDescription:{multiple:!1},category:{multiple:!0},hdVideo:{multiple:!1},keywords:{multiple:!0},movement:{multiple:!1},movementIndex:{multiple:!1},movementTotal:{multiple:!1},podcastId:{multiple:!1},showMovement:{multiple:!1},stik:{multiple:!1}};class v{static toIntOrNull(e){let t=Number.parseInt(e,10);return Number.isNaN(t)?null:t}static normalizeTrack(e){let t=e.toString().split("/");return{no:Number.parseInt(t[0],10)||null,of:Number.parseInt(t[1],10)||null}}constructor(e,t){this.tagTypes=e,this.tagMap=t}mapGenericTag(e,t){e={id:e.id,value:e.value},this.postMap(e,t);let i=this.getCommonName(e.id);return i?{id:i,value:e.value}:null}getCommonName(e){return this.tagMap[e]}postMap(e,t){}}v.maxRatingScore=1;let w={title:"title",artist:"artist",album:"album",year:"year",comment:"comment",track:"track",genre:"genre"};class _ extends v{constructor(){super(["ID3v1"],w)}}class x extends v{constructor(e,t){let i={};for(let e of Object.keys(t))i[e.toUpperCase()]=t[e];super(e,i)}getCommonName(e){return this.tagMap[e.toUpperCase()]}}var T=i(2683);let k={TIT2:"title",TPE1:"artist","TXXX:Artists":"artists",TPE2:"albumartist",TALB:"album",TDRV:"date",TORY:"originalyear",TPOS:"disk",TCON:"genre",APIC:"picture",TCOM:"composer",USLT:"lyrics",TSOA:"albumsort",TSOT:"titlesort",TOAL:"originalalbum",TSOP:"artistsort",TSO2:"albumartistsort",TSOC:"composersort",TEXT:"lyricist","TXXX:Writer":"writer",TPE3:"conductor",TPE4:"remixer","IPLS:arranger":"arranger","IPLS:engineer":"engineer","IPLS:producer":"producer","IPLS:DJ-mix":"djmixer","IPLS:mix":"mixer",TPUB:"label",TIT1:"grouping",TIT3:"subtitle",TRCK:"track",TCMP:"compilation",POPM:"rating",TBPM:"bpm",TMED:"media","TXXX:CATALOGNUMBER":"catalognumber","TXXX:MusicBrainz Album Status":"releasestatus","TXXX:MusicBrainz Album Type":"releasetype","TXXX:MusicBrainz Album Release Country":"releasecountry","TXXX:RELEASECOUNTRY":"releasecountry","TXXX:SCRIPT":"script",TLAN:"language",TCOP:"copyright",WCOP:"license",TENC:"encodedby",TSSE:"encodersettings","TXXX:BARCODE":"barcode","TXXX:ISRC":"isrc",TSRC:"isrc","TXXX:ASIN":"asin","TXXX:originalyear":"originalyear","UFID:http://musicbrainz.org":"musicbrainz_recordingid","TXXX:MusicBrainz Release Track Id":"musicbrainz_trackid","TXXX:MusicBrainz Album Id":"musicbrainz_albumid","TXXX:MusicBrainz Artist Id":"musicbrainz_artistid","TXXX:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","TXXX:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","TXXX:MusicBrainz Work Id":"musicbrainz_workid","TXXX:MusicBrainz TRM Id":"musicbrainz_trmid","TXXX:MusicBrainz Disc Id":"musicbrainz_discid","TXXX:ACOUSTID_ID":"acoustid_id","TXXX:Acoustid Id":"acoustid_id","TXXX:Acoustid Fingerprint":"acoustid_fingerprint","TXXX:MusicIP PUID":"musicip_puid","TXXX:MusicMagic Fingerprint":"musicip_fingerprint",WOAR:"website",TDRC:"date",TYER:"year",TDOR:"originaldate","TIPL:arranger":"arranger","TIPL:engineer":"engineer","TIPL:producer":"producer","TIPL:DJ-mix":"djmixer","TIPL:mix":"mixer",TMOO:"mood",SYLT:"lyrics",TSST:"discsubtitle",TKEY:"key",COMM:"comment",TOPE:"originalartist","PRIV:AverageLevel":"averageLevel","PRIV:PeakLevel":"peakLevel","TXXX:DISCOGS_ARTIST_ID":"discogs_artist_id","TXXX:DISCOGS_ARTISTS":"artists","TXXX:DISCOGS_ARTIST_NAME":"artists","TXXX:DISCOGS_ALBUM_ARTISTS":"albumartist","TXXX:DISCOGS_CATALOG":"catalognumber","TXXX:DISCOGS_COUNTRY":"releasecountry","TXXX:DISCOGS_DATE":"originaldate","TXXX:DISCOGS_LABEL":"label","TXXX:DISCOGS_LABEL_ID":"discogs_label_id","TXXX:DISCOGS_MASTER_RELEASE_ID":"discogs_master_release_id","TXXX:DISCOGS_RATING":"discogs_rating","TXXX:DISCOGS_RELEASED":"date","TXXX:DISCOGS_RELEASE_ID":"discogs_release_id","TXXX:DISCOGS_VOTES":"discogs_votes","TXXX:CATALOGID":"catalognumber","TXXX:STYLE":"genre","TXXX:REPLAYGAIN_TRACK_PEAK":"replaygain_track_peak","TXXX:REPLAYGAIN_TRACK_GAIN":"replaygain_track_gain","TXXX:REPLAYGAIN_ALBUM_PEAK":"replaygain_album_peak","TXXX:REPLAYGAIN_ALBUM_GAIN":"replaygain_album_gain","TXXX:MP3GAIN_MINMAX":"replaygain_track_minmax","TXXX:MP3GAIN_ALBUM_MINMAX":"replaygain_album_minmax","TXXX:MP3GAIN_UNDO":"replaygain_undo",MVNM:"movement",MVIN:"movementIndex",PCST:"podcast",TCAT:"category",TDES:"description",TDRL:"releasedate",TGID:"podcastId",TKWD:"keywords",WFED:"podcasturl",GRP1:"grouping"};class I extends x{static toRating(e){return{source:e.email,rating:e.rating>0?(e.rating-1)/254*v.maxRatingScore:void 0}}constructor(){super(["ID3v2.3","ID3v2.4"],k)}postMap(e,t){switch(e.id){case"UFID":{let t=e.value;"http://musicbrainz.org"===t.owner_identifier&&(e.id+=`:${t.owner_identifier}`,e.value=(0,T.sc)(t.identifier,"latin1"))}break;case"PRIV":{let i=e.value;switch(i.owner_identifier){case"AverageLevel":case"PeakValue":e.id+=`:${i.owner_identifier}`,e.value=4===i.data.length?a.UINT32_LE.get(i.data,0):null,null===e.value&&t.addWarning("Failed to parse PRIV:PeakValue");break;default:t.addWarning(`Unknown PRIV owner-identifier: ${i.data}`)}}break;case"POPM":e.value=I.toRating(e.value)}}}let S={Title:"title",Author:"artist","WM/AlbumArtist":"albumartist","WM/AlbumTitle":"album","WM/Year":"date","WM/OriginalReleaseTime":"originaldate","WM/OriginalReleaseYear":"originalyear",Description:"comment","WM/TrackNumber":"track","WM/PartOfSet":"disk","WM/Genre":"genre","WM/Composer":"composer","WM/Lyrics":"lyrics","WM/AlbumSortOrder":"albumsort","WM/TitleSortOrder":"titlesort","WM/ArtistSortOrder":"artistsort","WM/AlbumArtistSortOrder":"albumartistsort","WM/ComposerSortOrder":"composersort","WM/Writer":"lyricist","WM/Conductor":"conductor","WM/ModifiedBy":"remixer","WM/Engineer":"engineer","WM/Producer":"producer","WM/DJMixer":"djmixer","WM/Mixer":"mixer","WM/Publisher":"label","WM/ContentGroupDescription":"grouping","WM/SubTitle":"subtitle","WM/SetSubTitle":"discsubtitle","WM/IsCompilation":"compilation","WM/SharedUserRating":"rating","WM/BeatsPerMinute":"bpm","WM/Mood":"mood","WM/Media":"media","WM/CatalogNo":"catalognumber","MusicBrainz/Album Status":"releasestatus","MusicBrainz/Album Type":"releasetype","MusicBrainz/Album Release Country":"releasecountry","WM/Script":"script","WM/Language":"language",Copyright:"copyright",LICENSE:"license","WM/EncodedBy":"encodedby","WM/EncodingSettings":"encodersettings","WM/Barcode":"barcode","WM/ISRC":"isrc","MusicBrainz/Track Id":"musicbrainz_recordingid","MusicBrainz/Release Track Id":"musicbrainz_trackid","MusicBrainz/Album Id":"musicbrainz_albumid","MusicBrainz/Artist Id":"musicbrainz_artistid","MusicBrainz/Album Artist Id":"musicbrainz_albumartistid","MusicBrainz/Release Group Id":"musicbrainz_releasegroupid","MusicBrainz/Work Id":"musicbrainz_workid","MusicBrainz/TRM Id":"musicbrainz_trmid","MusicBrainz/Disc Id":"musicbrainz_discid","Acoustid/Id":"acoustid_id","Acoustid/Fingerprint":"acoustid_fingerprint","MusicIP/PUID":"musicip_puid","WM/ARTISTS":"artists","WM/InitialKey":"key",ASIN:"asin","WM/Work":"work","WM/AuthorURL":"website","WM/Picture":"picture"};class A extends v{static toRating(e){return{rating:Number.parseFloat(e+1)/5}}constructor(){super(["asf"],S)}postMap(e){if("WM/SharedUserRating"===e.id){let t=e.id.split(":");e.value=A.toRating(e.value),e.id=t[0]}}}let E={TT2:"title",TP1:"artist",TP2:"albumartist",TAL:"album",TYE:"year",COM:"comment",TRK:"track",TPA:"disk",TCO:"genre",PIC:"picture",TCM:"composer",TOR:"originaldate",TOT:"originalalbum",TXT:"lyricist",TP3:"conductor",TPB:"label",TT1:"grouping",TT3:"subtitle",TLA:"language",TCR:"copyright",WCP:"license",TEN:"encodedby",TSS:"encodersettings",WAR:"website",PCS:"podcast",TCP:"compilation",TDR:"date",TS2:"albumartistsort",TSA:"albumsort",TSC:"composersort",TSP:"artistsort",TST:"titlesort",WFD:"podcasturl",TBP:"bpm"};class C extends x{constructor(){super(["ID3v2.2"],E)}}let R={Title:"title",Artist:"artist",Artists:"artists","Album Artist":"albumartist",Album:"album",Year:"date",Originalyear:"originalyear",Originaldate:"originaldate",Releasedate:"releasedate",Comment:"comment",Track:"track",Disc:"disk",DISCNUMBER:"disk",Genre:"genre","Cover Art (Front)":"picture","Cover Art (Back)":"picture",Composer:"composer",Lyrics:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",Lyricist:"lyricist",Writer:"writer",Conductor:"conductor",MixArtist:"remixer",Arranger:"arranger",Engineer:"engineer",Producer:"producer",DJMixer:"djmixer",Mixer:"mixer",Label:"label",Grouping:"grouping",Subtitle:"subtitle",DiscSubtitle:"discsubtitle",Compilation:"compilation",BPM:"bpm",Mood:"mood",Media:"media",CatalogNumber:"catalognumber",MUSICBRAINZ_ALBUMSTATUS:"releasestatus",MUSICBRAINZ_ALBUMTYPE:"releasetype",RELEASECOUNTRY:"releasecountry",Script:"script",Language:"language",Copyright:"copyright",LICENSE:"license",EncodedBy:"encodedby",EncoderSettings:"encodersettings",Barcode:"barcode",ISRC:"isrc",ASIN:"asin",musicbrainz_trackid:"musicbrainz_recordingid",musicbrainz_releasetrackid:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",Acoustid_Id:"acoustid_id",ACOUSTID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",Weblink:"website",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",MP3GAIN_MINMAX:"replaygain_track_minmax",MP3GAIN_UNDO:"replaygain_undo"};class M extends x{constructor(){super(["APEv2"],R)}}let D={"\xa9nam":"title","\xa9ART":"artist",aART:"albumartist","----:com.apple.iTunes:Band":"albumartist","\xa9alb":"album","\xa9day":"date","\xa9cmt":"comment","\xa9com":"comment",trkn:"track",disk:"disk","\xa9gen":"genre",covr:"picture","\xa9wrt":"composer","\xa9lyr":"lyrics",soal:"albumsort",sonm:"titlesort",soar:"artistsort",soaa:"albumartistsort",soco:"composersort","----:com.apple.iTunes:LYRICIST":"lyricist","----:com.apple.iTunes:CONDUCTOR":"conductor","----:com.apple.iTunes:REMIXER":"remixer","----:com.apple.iTunes:ENGINEER":"engineer","----:com.apple.iTunes:PRODUCER":"producer","----:com.apple.iTunes:DJMIXER":"djmixer","----:com.apple.iTunes:MIXER":"mixer","----:com.apple.iTunes:LABEL":"label","\xa9grp":"grouping","----:com.apple.iTunes:SUBTITLE":"subtitle","----:com.apple.iTunes:DISCSUBTITLE":"discsubtitle",cpil:"compilation",tmpo:"bpm","----:com.apple.iTunes:MOOD":"mood","----:com.apple.iTunes:MEDIA":"media","----:com.apple.iTunes:CATALOGNUMBER":"catalognumber",tvsh:"tvShow",tvsn:"tvSeason",tves:"tvEpisode",sosn:"tvShowSort",tven:"tvEpisodeId",tvnn:"tvNetwork",pcst:"podcast",purl:"podcasturl","----:com.apple.iTunes:MusicBrainz Album Status":"releasestatus","----:com.apple.iTunes:MusicBrainz Album Type":"releasetype","----:com.apple.iTunes:MusicBrainz Album Release Country":"releasecountry","----:com.apple.iTunes:SCRIPT":"script","----:com.apple.iTunes:LANGUAGE":"language",cprt:"copyright","\xa9cpy":"copyright","----:com.apple.iTunes:LICENSE":"license","\xa9too":"encodedby",pgap:"gapless","----:com.apple.iTunes:BARCODE":"barcode","----:com.apple.iTunes:ISRC":"isrc","----:com.apple.iTunes:ASIN":"asin","----:com.apple.iTunes:NOTES":"comment","----:com.apple.iTunes:MusicBrainz Track Id":"musicbrainz_recordingid","----:com.apple.iTunes:MusicBrainz Release Track Id":"musicbrainz_trackid","----:com.apple.iTunes:MusicBrainz Album Id":"musicbrainz_albumid","----:com.apple.iTunes:MusicBrainz Artist Id":"musicbrainz_artistid","----:com.apple.iTunes:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","----:com.apple.iTunes:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","----:com.apple.iTunes:MusicBrainz Work Id":"musicbrainz_workid","----:com.apple.iTunes:MusicBrainz TRM Id":"musicbrainz_trmid","----:com.apple.iTunes:MusicBrainz Disc Id":"musicbrainz_discid","----:com.apple.iTunes:Acoustid Id":"acoustid_id","----:com.apple.iTunes:Acoustid Fingerprint":"acoustid_fingerprint","----:com.apple.iTunes:MusicIP PUID":"musicip_puid","----:com.apple.iTunes:fingerprint":"musicip_fingerprint","----:com.apple.iTunes:replaygain_track_gain":"replaygain_track_gain","----:com.apple.iTunes:replaygain_track_peak":"replaygain_track_peak","----:com.apple.iTunes:replaygain_album_gain":"replaygain_album_gain","----:com.apple.iTunes:replaygain_album_peak":"replaygain_album_peak","----:com.apple.iTunes:replaygain_track_minmax":"replaygain_track_minmax","----:com.apple.iTunes:replaygain_album_minmax":"replaygain_album_minmax","----:com.apple.iTunes:replaygain_undo":"replaygain_undo",gnre:"genre","----:com.apple.iTunes:ALBUMARTISTSORT":"albumartistsort","----:com.apple.iTunes:ARTISTS":"artists","----:com.apple.iTunes:ORIGINALDATE":"originaldate","----:com.apple.iTunes:ORIGINALYEAR":"originalyear","----:com.apple.iTunes:RELEASEDATE":"releasedate",desc:"description",ldes:"longDescription","\xa9mvn":"movement","\xa9mvi":"movementIndex","\xa9mvc":"movementTotal","\xa9wrk":"work",catg:"category",egid:"podcastId",hdvd:"hdVideo",keyw:"keywords",shwm:"showMovement",stik:"stik",rate:"rating"};class L extends x{constructor(){super(["iTunes"],D)}postMap(e,t){"rate"===e.id&&(e.value={source:void 0,rating:Number.parseFloat(e.value)/100})}}let B={TITLE:"title",ARTIST:"artist",ARTISTS:"artists",ALBUMARTIST:"albumartist","ALBUM ARTIST":"albumartist",ALBUM:"album",DATE:"date",ORIGINALDATE:"originaldate",ORIGINALYEAR:"originalyear",RELEASEDATE:"releasedate",COMMENT:"comment",TRACKNUMBER:"track",DISCNUMBER:"disk",GENRE:"genre",METADATA_BLOCK_PICTURE:"picture",COMPOSER:"composer",LYRICS:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",LYRICIST:"lyricist",WRITER:"writer",CONDUCTOR:"conductor",REMIXER:"remixer",ARRANGER:"arranger",ENGINEER:"engineer",PRODUCER:"producer",DJMIXER:"djmixer",MIXER:"mixer",LABEL:"label",GROUPING:"grouping",SUBTITLE:"subtitle",DISCSUBTITLE:"discsubtitle",TRACKTOTAL:"totaltracks",DISCTOTAL:"totaldiscs",COMPILATION:"compilation",RATING:"rating",BPM:"bpm",KEY:"key",MOOD:"mood",MEDIA:"media",CATALOGNUMBER:"catalognumber",RELEASESTATUS:"releasestatus",RELEASETYPE:"releasetype",RELEASECOUNTRY:"releasecountry",SCRIPT:"script",LANGUAGE:"language",COPYRIGHT:"copyright",LICENSE:"license",ENCODEDBY:"encodedby",ENCODERSETTINGS:"encodersettings",BARCODE:"barcode",ISRC:"isrc",ASIN:"asin",MUSICBRAINZ_TRACKID:"musicbrainz_recordingid",MUSICBRAINZ_RELEASETRACKID:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",ACOUSTID_ID:"acoustid_id",ACOUSTID_ID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",WEBSITE:"website",NOTES:"notes",TOTALTRACKS:"totaltracks",TOTALDISCS:"totaldiscs",DISCOGS_ARTIST_ID:"discogs_artist_id",DISCOGS_ARTISTS:"artists",DISCOGS_ARTIST_NAME:"artists",DISCOGS_ALBUM_ARTISTS:"albumartist",DISCOGS_CATALOG:"catalognumber",DISCOGS_COUNTRY:"releasecountry",DISCOGS_DATE:"originaldate",DISCOGS_LABEL:"label",DISCOGS_LABEL_ID:"discogs_label_id",DISCOGS_MASTER_RELEASE_ID:"discogs_master_release_id",DISCOGS_RATING:"discogs_rating",DISCOGS_RELEASED:"date",DISCOGS_RELEASE_ID:"discogs_release_id",DISCOGS_VOTES:"discogs_votes",CATALOGID:"catalognumber",STYLE:"genre",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",REPLAYGAIN_ALBUM_GAIN:"replaygain_album_gain",REPLAYGAIN_ALBUM_PEAK:"replaygain_album_peak",REPLAYGAIN_MINMAX:"replaygain_track_minmax",REPLAYGAIN_ALBUM_MINMAX:"replaygain_album_minmax",REPLAYGAIN_UNDO:"replaygain_undo"};class P extends v{static toRating(e,t,i){return{source:e?e.toLowerCase():void 0,rating:Number.parseFloat(t)/i*v.maxRatingScore}}constructor(){super(["vorbis"],B)}postMap(e){if("RATING"===e.id)e.value=P.toRating(void 0,e.value,100);else if(0===e.id.indexOf("RATING:")){let t=e.id.split(":");e.value=P.toRating(t[1],e.value,1),e.id=t[0]}}}let O={IART:"artist",ICRD:"date",INAM:"title",TITL:"title",IPRD:"album",ITRK:"track",IPRT:"track",COMM:"comment",ICMT:"comment",ICNT:"releasecountry",GNRE:"genre",IWRI:"writer",RATE:"rating",YEAR:"year",ISFT:"encodedby",CODE:"encodedby",TURL:"website",IGNR:"genre",IENG:"engineer",ITCH:"technician",IMED:"media",IRPD:"album"};class N extends v{constructor(){super(["exif"],O)}}let z={"segment:title":"title","album:ARTIST":"albumartist","album:ARTISTSORT":"albumartistsort","album:TITLE":"album","album:DATE_RECORDED":"originaldate","album:DATE_RELEASED":"releasedate","album:PART_NUMBER":"disk","album:TOTAL_PARTS":"totaltracks","track:ARTIST":"artist","track:ARTISTSORT":"artistsort","track:TITLE":"title","track:PART_NUMBER":"track","track:MUSICBRAINZ_TRACKID":"musicbrainz_recordingid","track:MUSICBRAINZ_ALBUMID":"musicbrainz_albumid","track:MUSICBRAINZ_ARTISTID":"musicbrainz_artistid","track:PUBLISHER":"label","track:GENRE":"genre","track:ENCODER":"encodedby","track:ENCODER_OPTIONS":"encodersettings","edition:TOTAL_PARTS":"totaldiscs",picture:"picture"};class F extends x{constructor(){super(["matroska"],z)}}let U={NAME:"title",AUTH:"artist","(c) ":"copyright",ANNO:"comment"};class G extends v{constructor(){super(["AIFF"],U)}}var X=i(3822);class W{constructor(){this.tagMappers={},[new _,new C,new I,new L,new L,new P,new M,new A,new N,new F,new G].forEach(e=>{this.registerTagMapper(e)})}mapTag(e,t,i){if(this.tagMappers[e])return this.tagMappers[e].mapGenericTag(t,i);throw new X.nK(`No generic tag mapper defined for tag-format: ${e}`)}registerTagMapper(e){for(let t of e.tagTypes)this.tagMappers[t]=e}}let q=n("music-metadata:collector"),j=["matroska","APEv2","vorbis","ID3v2.4","ID3v2.3","ID3v2.2","exif","asf","iTunes","AIFF","ID3v1"];class H{constructor(e){this.opts=e,this.format={tagTypes:[],trackInfo:[]},this.native={},this.common={track:{no:null,of:null},disk:{no:null,of:null},movementIndex:{no:null,of:null}},this.quality={warnings:[]},this.commonOrigin={},this.originPriority={},this.tagMapper=new W;let t=1;for(let e of j)this.originPriority[e]=t++;this.originPriority.artificial=500,this.originPriority.id3v1=600}hasAny(){return Object.keys(this.native).length>0}addStreamInfo(e){q(`streamInfo: type=${e.type?b.S[e.type]:"?"}, codec=${e.codecName}`),this.format.trackInfo.push(e)}setFormat(e,t){q(`format: ${e} = ${t}`),this.format[e]=t,this.opts?.observer&&this.opts.observer({metadata:this,tag:{type:"format",id:e,value:t}})}async addTag(e,t,i){q(`tag ${e}.${t} = ${i}`),this.native[e]||(this.format.tagTypes.push(e),this.native[e]=[]),this.native[e].push({id:t,value:i}),await this.toCommon(e,t,i)}addWarning(e){this.quality.warnings.push({message:e})}async postMap(e,t){switch(t.id){case"artist":if(this.commonOrigin.artist===this.originPriority[e])return this.postMap("artificial",{id:"artists",value:t.value});this.common.artists||this.setGenericTag("artificial",{id:"artists",value:t.value});break;case"artists":if((!this.common.artist||this.commonOrigin.artist===this.originPriority.artificial)&&(!this.common.artists||-1===this.common.artists.indexOf(t.value))){var i;let e=(i=(this.common.artists||[]).concat([t.value])).length>2?`${i.slice(0,i.length-1).join(", ")} & ${i[i.length-1]}`:i.join(" & ");this.setGenericTag("artificial",{id:"artist",value:e})}break;case"picture":return this.postFixPicture(t.value).then(i=>{null!==i&&(t.value=i,this.setGenericTag(e,t))});case"totaltracks":this.common.track.of=v.toIntOrNull(t.value);return;case"totaldiscs":this.common.disk.of=v.toIntOrNull(t.value);return;case"movementTotal":this.common.movementIndex.of=v.toIntOrNull(t.value);return;case"track":case"disk":case"movementIndex":{let e=this.common[t.id].of;this.common[t.id]=v.normalizeTrack(t.value),this.common[t.id].of=null!=e?e:this.common[t.id].of;return}case"bpm":case"year":case"originalyear":t.value=Number.parseInt(t.value,10);break;case"date":{let e=Number.parseInt(t.value.substr(0,4),10);Number.isNaN(e)||(this.common.year=e);break}case"discogs_label_id":case"discogs_release_id":case"discogs_master_release_id":case"discogs_artist_id":case"discogs_votes":t.value="string"==typeof t.value?Number.parseInt(t.value,10):t.value;break;case"replaygain_track_gain":case"replaygain_track_peak":case"replaygain_album_gain":case"replaygain_album_peak":t.value=(0,T.th)(t.value);break;case"replaygain_track_minmax":t.value=t.value.split(",").map(e=>Number.parseInt(e,10));break;case"replaygain_undo":{let e=t.value.split(",").map(e=>Number.parseInt(e,10));t.value={leftChannel:e[0],rightChannel:e[1]};break}case"gapless":case"compilation":case"podcast":case"showMovement":t.value="1"===t.value||1===t.value;break;case"isrc":{let e=this.common[t.id];if(e&&-1!==e.indexOf(t.value))return;break}case"comment":"string"==typeof t.value&&(t.value={text:t.value}),"iTunPGAP"===t.value.descriptor&&this.setGenericTag(e,{id:"gapless",value:"1"===t.value.text});break;case"lyrics":"string"==typeof t.value&&(t.value=function(e){let t=e.split("\n"),i=[],r=/\[(\d{2}):(\d{2})\.(\d{2})\]/;for(let e of t){let t=e.match(r);if(t){let n=(60*Number.parseInt(t[1],10)+Number.parseInt(t[2],10))*1e3+10*Number.parseInt(t[3],10),a=e.replace(r,"").trim();i.push({timestamp:n,text:a})}}return{contentType:b.MW.lyrics,timeStampFormat:b.sd.milliseconds,syncText:i}}(t.value))}null!==t.value&&this.setGenericTag(e,t)}toCommonMetadata(){return{format:this.format,native:this.native,quality:this.quality,common:this.common}}async postFixPicture(e){if(e.data&&e.data.length>0){if(!e.format){let t=await h(Uint8Array.from(e.data));if(!t)return null;e.format=t.mime}return e.format=e.format.toLocaleLowerCase(),"image/jpg"===e.format&&(e.format="image/jpeg"),e}return this.addWarning("Empty picture tag found"),null}async toCommon(e,t,i){let r=this.tagMapper.mapTag(e,{id:t,value:i},this);r&&await this.postMap(e,r)}setGenericTag(e,t){var i,r;q(`common.${t.id} = ${t.value}`);let n=this.commonOrigin[t.id]||1e3,a=this.originPriority[e];if(y[i=t.id]&&!y[i].multiple){if(!(a<=n))return q(`Ignore native tag (singleton): ${e}.${t.id} = ${t.value}`);this.common[t.id]=t.value,this.commonOrigin[t.id]=a}else if(a===n)(!y[r=t.id].multiple||y[r].unique)&&-1!==this.common[t.id].indexOf(t.value)?q(`Ignore duplicate value: ${e}.${t.id} = ${t.value}`):this.common[t.id].push(t.value);else{if(!(a<n))return q(`Ignore native tag (list): ${e}.${t.id} = ${t.value}`);this.common[t.id]=[t.value],this.commonOrigin[t.id]=a}this.opts?.observer&&this.opts.observer({metadata:this,tag:{type:"common",id:t.id,value:t.value}})}}let $={parserType:"mpeg",extensions:[".mp2",".mp3",".m2a",".aac","aacp"],load:async(e,t,r)=>new(await Promise.all([i.e(533),i.e(701)]).then(i.bind(i,701))).MpegParser(e,t,r)},Y={parserType:"apev2",extensions:[".ape"],load:async(e,t,r)=>new(await Promise.resolve().then(i.bind(i,4436))).APEv2Parser(e,t,r)},K={parserType:"asf",extensions:[".asf"],load:async(e,t,r)=>new(await i.e(365).then(i.bind(i,365))).AsfParser(e,t,r)},V={parserType:"dsdiff",extensions:[".dff"],load:async(e,t,r)=>new(await Promise.all([i.e(533),i.e(691)]).then(i.bind(i,8691))).DsdiffParser(e,t,r)},Z={parserType:"aiff",extensions:[".aif","aiff","aifc"],load:async(e,t,r)=>new(await Promise.all([i.e(533),i.e(757)]).then(i.bind(i,4757))).AIFFParser(e,t,r)},J={parserType:"dsf",extensions:[".dsf"],load:async(e,t,r)=>new(await Promise.all([i.e(533),i.e(535)]).then(i.bind(i,1535))).DsfParser(e,t,r)},Q={parserType:"flac",extensions:[".flac"],load:async(e,t,r)=>new(await Promise.all([i.e(533),i.e(735)]).then(i.bind(i,2735))).FlacParser(e,t,r)},ee={parserType:"matroska",extensions:[".mka",".mkv",".mk3d",".mks","webm"],load:async(e,t,r)=>new(await i.e(50).then(i.bind(i,3050))).MatroskaParser(e,t,r)},et={parserType:"mp4",extensions:[".mp4",".m4a",".m4b",".m4pa","m4v","m4r","3gp"],load:async(e,t,r)=>new(await i.e(188).then(i.bind(i,3188))).MP4Parser(e,t,r)},ei={parserType:"musepack",extensions:[".mpc"],load:async(e,t,r)=>new(await Promise.all([i.e(533),i.e(138)]).then(i.bind(i,138))).MusepackParser(e,t,r)},er={parserType:"ogg",extensions:[".ogg",".ogv",".oga",".ogm",".ogx",".opus",".spx"],load:async(e,t,r)=>new(await i.e(504).then(i.bind(i,4504))).OggParser(e,t,r)},en={parserType:"wavpack",extensions:[".wv",".wvp"],load:async(e,t,r)=>new(await i.e(414).then(i.bind(i,1414))).WavPackParser(e,t,r)},ea={parserType:"riff",extensions:[".wav","wave",".bwf"],load:async(e,t,r)=>new(await Promise.all([i.e(533),i.e(556)]).then(i.bind(i,556))).WaveParser(e,t,r)},es=n("music-metadata:parser:factory");class eo{constructor(){this.parsers=[],[Q,$,Y,et,ee,ea,er,K,Z,en,ei,J,V].forEach(e=>this.registerParser(e))}registerParser(e){this.parsers.push(e)}async parse(e,t,i){if(e.supportsRandomAccess()?(es("tokenizer supports random-access, scanning for appending headers"),await ep(e,i)):es("tokenizer does not support random-access, cannot scan for appending headers"),!t){let i=new Uint8Array(4100);if(e.fileInfo.mimeType&&(t=this.findLoaderForType(el(e.fileInfo.mimeType))),!t&&e.fileInfo.path&&(t=this.findLoaderForExtension(e.fileInfo.path)),!t){es("Guess parser on content..."),await e.peekBuffer(i,{mayBeLess:!0});let r=await h(i);if(!r||!r.mime)throw new X.e6("Failed to determine audio format");if(es(`Guessed file type is mime=${r.mime}, extension=${r.ext}`),!(t=this.findLoaderForType(el(r.mime))))throw new X.qq(`Guessed MIME-type not supported: ${r.mime}`)}}es(`Loading ${t.parserType} parser...`);let r=new H(i),n=await t.load(r,e,i??{});return es(`Parser ${t.parserType} loaded`),await n.parse(),r.toCommonMetadata()}findLoaderForExtension(e){if(!e)return;let t=(function(e){let t=e.lastIndexOf(".");return -1===t?"":e.slice(t)})(e).toLocaleLowerCase()||e;return this.parsers.find(e=>-1!==e.extensions.indexOf(t))}findLoaderForType(e){return e?this.parsers.find(t=>t.parserType===e):void 0}}function el(e){let t;if(!e)return;try{t=function(e){let t=f.parse(e),i=(0,g.qg)(t.type);return{type:i.type,subtype:i.subtype,suffix:i.suffix,parameters:t.parameters}}(e)}catch(t){es(`Invalid HTTP Content-Type header value: ${e}`);return}let i=0===t.subtype.indexOf("x-")?t.subtype.substring(2):t.subtype;switch(t.type){case"audio":switch(i){case"mp3":case"mpeg":case"aac":case"aacp":return"mpeg";case"flac":return"flac";case"ape":case"monkeys-audio":return"apev2";case"mp4":case"m4a":return"mp4";case"ogg":case"opus":case"speex":return"ogg";case"ms-wma":case"ms-wmv":case"ms-asf":return"asf";case"aiff":case"aif":case"aifc":return"aiff";case"vnd.wave":case"wav":case"wave":return"riff";case"wavpack":return"wavpack";case"musepack":return"musepack";case"matroska":case"webm":return"matroska";case"dsf":return"dsf";case"amr":return"amr"}break;case"video":switch(i){case"ms-asf":case"ms-wmv":return"asf";case"m4v":case"mp4":return"mp4";case"ogg":return"ogg";case"matroska":case"webm":return"matroska"}break;case"application":switch(i){case"vnd.ms-asf":return"asf";case"ogg":return"ogg"}}}var ec=i(4436),eu=i(1777);async function ed(e){let t=e.fileInfo.size;if(t>=143){let i=new Uint8Array(15),r=e.position;await e.readBuffer(i,{position:t-143}),e.setPosition(r);let n=new TextDecoder("latin1").decode(i);if("LYRICS200"===n.slice(6))return Number.parseInt(n.slice(0,6),10)+15}return 0}async function eh(e,t,i={}){return function(e,t){return new eo().parse(e,void 0,t)}((0,r.vY)(e,{fileInfo:"string"==typeof t?{mimeType:t}:t}),i)}async function ep(e,t={}){let i=e.fileInfo.size;await (0,eu.zc)(e)&&(i-=128,i-=await ed(e)),t.apeHeader=await ec.APEv2Parser.findApeFooterOffset(e,i)}n("music-metadata:parser")},4397:(e,t,i)=>{"use strict";var r,n;i.d(t,{S:()=>n,y:()=>r}),function(e){e[e.shot=10]="shot",e[e.scene=20]="scene",e[e.track=30]="track",e[e.part=40]="part",e[e.album=50]="album",e[e.edition=60]="edition",e[e.collection=70]="collection"}(r||(r={})),function(e){e[e.video=1]="video",e[e.audio=2]="audio",e[e.complex=3]="complex",e[e.logo=4]="logo",e[e.subtitle=17]="subtitle",e[e.button=18]="button",e[e.control=32]="control"}(n||(n={}))},3685:(e,t,i)=>{"use strict";i.d(t,{MW:()=>n.MW,S:()=>r.S,sd:()=>n.sd});var r=i(4397),n=i(8969)},9589:(e,t,i)=>{"use strict";i.d(t,{d1:()=>r,yT:()=>a});class r extends Error{constructor(){super("End-Of-Stream")}}class n{constructor(){this.maxStreamReadSize=1048576,this.endOfStream=!1,this.peekQueue=[]}async peek(e,t,i){let r=await this.read(e,t,i);return this.peekQueue.push(e.subarray(t,t+r)),r}async read(e,t,i){if(0===i)return 0;let n=this.readFromPeekBuffer(e,t,i);if(0===(n+=await this.readRemainderFromStream(e,t+n,i-n)))throw new r;return n}readFromPeekBuffer(e,t,i){let r=i,n=0;for(;this.peekQueue.length>0&&r>0;){let i=this.peekQueue.pop();if(!i)throw Error("peekData should be defined");let a=Math.min(i.length,r);e.set(i.subarray(0,a),t+n),n+=a,r-=a,a<i.length&&this.peekQueue.push(i.subarray(a))}return n}async readRemainderFromStream(e,t,i){let r=i,n=0;for(;r>0&&!this.endOfStream;){let i=Math.min(r,this.maxStreamReadSize),a=await this.readFromStream(e,t+n,i);if(0===a)break;n+=a,r-=a}return n}}class a extends n{constructor(e){super(),this.reader=e.getReader({mode:"byob"})}async readFromStream(e,t,i){if(this.endOfStream)throw new r;let n=await this.reader.read(new Uint8Array(i));return(n.done&&(this.endOfStream=n.done),n.value)?(e.set(n.value,t),n.value.byteLength):0}async abort(){await this.reader.cancel(),this.reader.releaseLock()}}},1972:(e,t,i)=>{"use strict";i.d(t,{d1:()=>n.d1,vY:()=>o});let r=require("node:fs/promises");var n=i(9589);class a{constructor(e){this.numBuffer=new Uint8Array(8),this.position=0,this.onClose=e?.onClose,e?.abortSignal&&e.abortSignal.addEventListener("abort",()=>{this.abort()})}async readToken(e,t=this.position){let i=new Uint8Array(e.len);if(await this.readBuffer(i,{position:t})<e.len)throw new n.d1;return e.get(i,0)}async peekToken(e,t=this.position){let i=new Uint8Array(e.len);if(await this.peekBuffer(i,{position:t})<e.len)throw new n.d1;return e.get(i,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new n.d1;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new n.d1;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){let t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){await this.abort(),await this.onClose?.()}normalizeOptions(e,t){if(!this.supportsRandomAccess()&&t&&void 0!==t.position&&t.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");return{mayBeLess:!1,offset:0,length:e.length,position:this.position,...t}}abort(){return Promise.resolve()}}class s extends a{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo={...t?.fileInfo??{},size:e.length}}async readBuffer(e,t){t?.position&&(this.position=t.position);let i=await this.peekBuffer(e,t);return this.position+=i,i}async peekBuffer(e,t){let i=this.normalizeOptions(e,t),r=Math.min(this.uint8Array.length-i.position,i.length);if(!i.mayBeLess&&r<i.length)throw new n.d1;return e.set(this.uint8Array.subarray(i.position,i.position+r)),r}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(e){this.position=e}}function o(e,t){return new s(e,t)}class l extends a{static async fromFile(e){let t=await (0,r.open)(e,"r"),i=await t.stat();return new l(t,{fileInfo:{path:e,size:i.size}})}constructor(e,t){super(t),this.fileHandle=e,this.fileInfo=t.fileInfo}async readBuffer(e,t){let i=this.normalizeOptions(e,t);if(this.position=i.position,0===i.length)return 0;let r=await this.fileHandle.read(e,0,i.length,i.position);if(this.position+=r.bytesRead,r.bytesRead<i.length&&(!t||!t.mayBeLess))throw new n.d1;return r.bytesRead}async peekBuffer(e,t){let i=this.normalizeOptions(e,t),r=await this.fileHandle.read(e,0,i.length,i.position);if(!i.mayBeLess&&r.bytesRead<i.length)throw new n.d1;return r.bytesRead}async close(){return await this.fileHandle.close(),super.close()}setPosition(e){this.position=e}supportsRandomAccess(){return!0}}l.fromFile},7233:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AnsiStringType:()=>B,Float16_BE:()=>T,Float16_LE:()=>k,Float32_BE:()=>I,Float32_LE:()=>S,Float64_BE:()=>A,Float64_LE:()=>E,Float80_BE:()=>C,Float80_LE:()=>R,INT16_BE:()=>p,INT16_LE:()=>m,INT24_BE:()=>g,INT24_LE:()=>f,INT32_BE:()=>b,INT32_LE:()=>y,INT64_BE:()=>x,INT64_LE:()=>w,INT8:()=>h,IgnoreType:()=>M,StringType:()=>L,UINT16_BE:()=>o,UINT16_LE:()=>s,UINT24_BE:()=>c,UINT24_LE:()=>l,UINT32_BE:()=>d,UINT32_LE:()=>u,UINT64_BE:()=>_,UINT64_LE:()=>v,UINT8:()=>a,Uint8ArrayType:()=>D});var r=i(6133);function n(e){return new DataView(e.buffer,e.byteOffset)}let a={len:1,get:(e,t)=>n(e).getUint8(t),put:(e,t,i)=>(n(e).setUint8(t,i),t+1)},s={len:2,get:(e,t)=>n(e).getUint16(t,!0),put:(e,t,i)=>(n(e).setUint16(t,i,!0),t+2)},o={len:2,get:(e,t)=>n(e).getUint16(t),put:(e,t,i)=>(n(e).setUint16(t,i),t+2)},l={len:3,get(e,t){let i=n(e);return i.getUint8(t)+(i.getUint16(t+1,!0)<<8)},put(e,t,i){let r=n(e);return r.setUint8(t,255&i),r.setUint16(t+1,i>>8,!0),t+3}},c={len:3,get(e,t){let i=n(e);return(i.getUint16(t)<<8)+i.getUint8(t+2)},put(e,t,i){let r=n(e);return r.setUint16(t,i>>8),r.setUint8(t+2,255&i),t+3}},u={len:4,get:(e,t)=>n(e).getUint32(t,!0),put:(e,t,i)=>(n(e).setUint32(t,i,!0),t+4)},d={len:4,get:(e,t)=>n(e).getUint32(t),put:(e,t,i)=>(n(e).setUint32(t,i),t+4)},h={len:1,get:(e,t)=>n(e).getInt8(t),put:(e,t,i)=>(n(e).setInt8(t,i),t+1)},p={len:2,get:(e,t)=>n(e).getInt16(t),put:(e,t,i)=>(n(e).setInt16(t,i),t+2)},m={len:2,get:(e,t)=>n(e).getInt16(t,!0),put:(e,t,i)=>(n(e).setInt16(t,i,!0),t+2)},f={len:3,get(e,t){let i=l.get(e,t);return i>8388607?i-0x1000000:i},put(e,t,i){let r=n(e);return r.setUint8(t,255&i),r.setUint16(t+1,i>>8,!0),t+3}},g={len:3,get(e,t){let i=c.get(e,t);return i>8388607?i-0x1000000:i},put(e,t,i){let r=n(e);return r.setUint16(t,i>>8),r.setUint8(t+2,255&i),t+3}},b={len:4,get:(e,t)=>n(e).getInt32(t),put:(e,t,i)=>(n(e).setInt32(t,i),t+4)},y={len:4,get:(e,t)=>n(e).getInt32(t,!0),put:(e,t,i)=>(n(e).setInt32(t,i,!0),t+4)},v={len:8,get:(e,t)=>n(e).getBigUint64(t,!0),put:(e,t,i)=>(n(e).setBigUint64(t,i,!0),t+8)},w={len:8,get:(e,t)=>n(e).getBigInt64(t,!0),put:(e,t,i)=>(n(e).setBigInt64(t,i,!0),t+8)},_={len:8,get:(e,t)=>n(e).getBigUint64(t),put:(e,t,i)=>(n(e).setBigUint64(t,i),t+8)},x={len:8,get:(e,t)=>n(e).getBigInt64(t),put:(e,t,i)=>(n(e).setBigInt64(t,i),t+8)},T={len:2,get(e,t){return r.L(e,t,!1,10,this.len)},put(e,t,i){return r.M(e,i,t,!1,10,this.len),t+this.len}},k={len:2,get(e,t){return r.L(e,t,!0,10,this.len)},put(e,t,i){return r.M(e,i,t,!0,10,this.len),t+this.len}},I={len:4,get:(e,t)=>n(e).getFloat32(t),put:(e,t,i)=>(n(e).setFloat32(t,i),t+4)},S={len:4,get:(e,t)=>n(e).getFloat32(t,!0),put:(e,t,i)=>(n(e).setFloat32(t,i,!0),t+4)},A={len:8,get:(e,t)=>n(e).getFloat64(t),put:(e,t,i)=>(n(e).setFloat64(t,i),t+8)},E={len:8,get:(e,t)=>n(e).getFloat64(t,!0),put:(e,t,i)=>(n(e).setFloat64(t,i,!0),t+8)},C={len:10,get(e,t){return r.L(e,t,!1,63,this.len)},put(e,t,i){return r.M(e,i,t,!1,63,this.len),t+this.len}},R={len:10,get(e,t){return r.L(e,t,!0,63,this.len)},put(e,t,i){return r.M(e,i,t,!0,63,this.len),t+this.len}};class M{constructor(e){this.len=e}get(e,t){}}class D{constructor(e){this.len=e}get(e,t){return e.subarray(t,t+this.len)}}class L{constructor(e,t){this.len=e,this.encoding=t,this.textDecoder=new TextDecoder(t)}get(e,t){return this.textDecoder.decode(e.subarray(t,t+this.len))}}class B{constructor(e){this.len=e,this.textDecoder=new TextDecoder("windows-1252")}get(e,t=0){return this.textDecoder.decode(e.subarray(t,t+this.len))}}},5130:(e,t,i)=>{"use strict";i.d(t,{AS:()=>m,AW:()=>f,Al:()=>u,EY:()=>h,SW:()=>o,mK:()=>b,qh:()=>g});let r=Object.prototype.toString;function n(e,t,i){return!!e&&(e.constructor===t||r.call(e)===i)}function a(e){return n(e,Uint8Array,"[object Uint8Array]")}let s={utf8:new globalThis.TextDecoder("utf8")};function o(e,t="utf8"){return function(e){if(!(a(e)||n(e,ArrayBuffer,"[object ArrayBuffer]")))throw TypeError(`Expected \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof e}\``)}(e),s[t]??=new globalThis.TextDecoder(t),s[t].decode(e)}function l(e){if("string"!=typeof e)throw TypeError(`Expected \`string\`, got \`${typeof e}\``)}let c=new globalThis.TextEncoder;function u(e){return l(e),c.encode(e)}let d=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function h(e){(function(e){if(!a(e))throw TypeError(`Expected \`Uint8Array\`, got \`${typeof e}\``)})(e);let t="";for(let i=0;i<e.length;i++)t+=d[e[i]];return t}let p={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15};function m(e){if(l(e),e.length%2!=0)throw Error("Invalid Hex string length.");let t=e.length/2,i=new Uint8Array(t);for(let r=0;r<t;r++){let t=p[e[2*r]],n=p[e[2*r+1]];if(void 0===t||void 0===n)throw Error(`Invalid Hex character encountered at position ${2*r}`);i[r]=t<<4|n}return i}function f(e){let{byteLength:t}=e;return 6===t?0x100000000*e.getUint16(0)+e.getUint32(2):5===t?0x100000000*e.getUint8(0)+e.getUint32(1):4===t?e.getUint32(0):3===t?65536*e.getUint8(0)+e.getUint16(1):2===t?e.getUint16(0):1===t?e.getUint8(0):void 0}function g(e,t){let i=e.length,r=t.length;if(0===r||r>i)return -1;let n=i-r;for(let i=0;i<=n;i++){let n=!0;for(let a=0;a<r;a++)if(e[i+a]!==t[a]){n=!1;break}if(n)return i}return -1}function b(e,t){return -1!==g(e,t)}},7453:(e,t,i)=>{"use strict";let r;i.d(t,{default:()=>tY});var n,a,s,o,l,c,u,d,h,p,m=i(2149),f=i(2160),g=i.n(f),b=i(9717),y=i(2336),v=i(9473);let w="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function _(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function x(e){return"nodeType"in e}function T(e){var t,i;return e?_(e)?e:x(e)&&null!=(t=null==(i=e.ownerDocument)?void 0:i.defaultView)?t:window:window}function k(e){let{Document:t}=T(e);return e instanceof t}function I(e){return!_(e)&&e instanceof T(e).HTMLElement}function S(e){return e instanceof T(e).SVGElement}function A(e){return e?_(e)?e.document:x(e)?k(e)?e:I(e)||S(e)?e.ownerDocument:document:document:document}let E=w?f.useLayoutEffect:f.useEffect;function C(e){let t=(0,f.useRef)(e);return E(()=>{t.current=e}),(0,f.useCallback)(function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];return null==t.current?void 0:t.current(...i)},[])}function R(e,t){void 0===t&&(t=[e]);let i=(0,f.useRef)(e);return E(()=>{i.current!==e&&(i.current=e)},t),i}function M(e,t){let i=(0,f.useRef)();return(0,f.useMemo)(()=>{let t=e(i.current);return i.current=t,t},[...t])}function D(e){let t=C(e),i=(0,f.useRef)(null),r=(0,f.useCallback)(e=>{e!==i.current&&(null==t||t(e,i.current)),i.current=e},[]);return[i,r]}function L(e){let t=(0,f.useRef)();return(0,f.useEffect)(()=>{t.current=e},[e]),t.current}let B={};function P(e,t){return(0,f.useMemo)(()=>{if(t)return t;let i=null==B[e]?0:B[e]+1;return B[e]=i,e+"-"+i},[e,t])}function O(e){return function(t){for(var i=arguments.length,r=Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return r.reduce((t,i)=>{for(let[r,n]of Object.entries(i)){let i=t[r];null!=i&&(t[r]=i+e*n)}return t},{...t})}}let N=O(1),z=O(-1);function F(e){if(!e)return!1;let{KeyboardEvent:t}=T(e.target);return t&&e instanceof t}function U(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=T(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:i}=e.touches[0];return{x:t,y:i}}if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:i}=e.changedTouches[0];return{x:t,y:i}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let G=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:i}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:i}=e;return"scaleX("+t+") scaleY("+i+")"}},Transform:{toString(e){if(e)return[G.Translate.toString(e),G.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:i,easing:r}=e;return t+" "+i+"ms "+r}}}),X="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",W={display:"none"};function q(e){let{id:t,value:i}=e;return g().createElement("div",{id:t,style:W},i)}function j(e){let{id:t,announcement:i,ariaLiveType:r="assertive"}=e;return g().createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},i)}let H=(0,f.createContext)(null),$={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Y={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:i}=e;return i?"Draggable item "+t.id+" was moved over droppable area "+i.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:i}=e;return i?"Draggable item "+t.id+" was dropped over droppable area "+i.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function K(e){let{announcements:t=Y,container:i,hiddenTextDescribedById:r,screenReaderInstructions:n=$}=e,{announce:a,announcement:s}=function(){let[e,t]=(0,f.useState)("");return{announce:(0,f.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),o=P("DndLiveRegion"),[l,c]=(0,f.useState)(!1);if((0,f.useEffect)(()=>{c(!0)},[]),function(e){let t=(0,f.useContext)(H);(0,f.useEffect)(()=>{if(!t)throw Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}((0,f.useMemo)(()=>({onDragStart(e){let{active:i}=e;a(t.onDragStart({active:i}))},onDragMove(e){let{active:i,over:r}=e;t.onDragMove&&a(t.onDragMove({active:i,over:r}))},onDragOver(e){let{active:i,over:r}=e;a(t.onDragOver({active:i,over:r}))},onDragEnd(e){let{active:i,over:r}=e;a(t.onDragEnd({active:i,over:r}))},onDragCancel(e){let{active:i,over:r}=e;a(t.onDragCancel({active:i,over:r}))}}),[a,t])),!l)return null;let u=g().createElement(g().Fragment,null,g().createElement(q,{id:r,value:n.draggable}),g().createElement(j,{id:o,announcement:s}));return i?(0,v.createPortal)(u,i):u}function V(){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(n||(n={}));let Z=Object.freeze({x:0,y:0});function J(e,t){let{data:{value:i}}=e,{data:{value:r}}=t;return r-i}let Q=e=>{let{collisionRect:t,droppableRects:i,droppableContainers:r}=e,n=[];for(let e of r){let{id:r}=e,a=i.get(r);if(a){let i=function(e,t){let i=Math.max(t.top,e.top),r=Math.max(t.left,e.left),n=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height);if(r<n&&i<a){let s=t.width*t.height,o=e.width*e.height,l=(n-r)*(a-i);return Number((l/(s+o-l)).toFixed(4))}return 0}(a,t);i>0&&n.push({id:r,data:{droppableContainer:e,value:i}})}}return n.sort(J)};function ee(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Z}let et=function(e){return function(t){for(var i=arguments.length,r=Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return r.reduce((t,i)=>({...t,top:t.top+e*i.y,bottom:t.bottom+e*i.y,left:t.left+e*i.x,right:t.right+e*i.x}),{...t})}}(1),ei={ignoreTransform:!1};function er(e,t){void 0===t&&(t=ei);let i=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:r}=T(e).getComputedStyle(e);t&&(i=function(e,t,i){let r=function(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;let{scaleX:n,scaleY:a,x:s,y:o}=r,l=e.left-s-(1-n)*parseFloat(i),c=e.top-o-(1-a)*parseFloat(i.slice(i.indexOf(" ")+1)),u=n?e.width/n:e.width,d=a?e.height/a:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}(i,t,r))}let{top:r,left:n,width:a,height:s,bottom:o,right:l}=i;return{top:r,left:n,width:a,height:s,bottom:o,right:l}}function en(e){return er(e,{ignoreTransform:!0})}function ea(e,t){let i=[];return e?function r(n){var a;if(null!=t&&i.length>=t||!n)return i;if(k(n)&&null!=n.scrollingElement&&!i.includes(n.scrollingElement))return i.push(n.scrollingElement),i;if(!I(n)||S(n)||i.includes(n))return i;let s=T(e).getComputedStyle(n);return(n!==e&&function(e,t){void 0===t&&(t=T(e).getComputedStyle(e));let i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{let r=t[e];return"string"==typeof r&&i.test(r)})}(n,s)&&i.push(n),void 0===(a=s)&&(a=T(n).getComputedStyle(n)),"fixed"===a.position)?i:r(n.parentNode)}(e):i}function es(e){let[t]=ea(e,1);return null!=t?t:null}function eo(e){return w&&e?_(e)?e:x(e)?k(e)||e===A(e).scrollingElement?window:I(e)?e:null:null:null}function el(e){return _(e)?e.scrollX:e.scrollLeft}function ec(e){return _(e)?e.scrollY:e.scrollTop}function eu(e){return{x:el(e),y:ec(e)}}function ed(e){return!!w&&!!e&&e===document.scrollingElement}function eh(e){let t={x:0,y:0},i=ed(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-i.width,y:e.scrollHeight-i.height},n=e.scrollTop<=t.y;return{isTop:n,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(a||(a={}));let ep={x:.2,y:.2};function em(e){return e.reduce((e,t)=>N(e,eu(t)),Z)}let ef=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+el(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+ec(t),0)}]];class eg{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let i=ea(t),r=em(i);for(let[t,n,a]of(this.rect={...e},this.width=e.width,this.height=e.height,ef))for(let e of n)Object.defineProperty(this,e,{get:()=>{let n=a(i),s=r[t]-n;return this.rect[e]+s},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class eb{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,i){var r;null==(r=this.target)||r.addEventListener(e,t,i),this.listeners.push([e,t,i])}}function ey(e,t){let i=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(i**2+r**2)>t:"x"in t&&"y"in t?i>t.x&&r>t.y:"x"in t?i>t.x:"y"in t&&r>t.y}function ev(e){e.preventDefault()}function ew(e){e.stopPropagation()}(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(s||(s={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(o||(o={}));let e_={start:[o.Space,o.Enter],cancel:[o.Esc],end:[o.Space,o.Enter,o.Tab]},ex=(e,t)=>{let{currentCoordinates:i}=t;switch(e.code){case o.Right:return{...i,x:i.x+25};case o.Left:return{...i,x:i.x-25};case o.Down:return{...i,y:i.y+25};case o.Up:return{...i,y:i.y-25}}};class eT{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:t}}=e;this.props=e,this.listeners=new eb(A(t)),this.windowListeners=new eb(T(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(s.Resize,this.handleCancel),this.windowListeners.add(s.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(s.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,i=e.node.current;i&&function(e,t){if(void 0===t&&(t=er),!e)return;let{top:i,left:r,bottom:n,right:a}=t(e);es(e)&&(n<=0||a<=0||i>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(i),t(Z)}handleKeyDown(e){if(F(e)){let{active:t,context:i,options:r}=this.props,{keyboardCodes:n=e_,coordinateGetter:a=ex,scrollBehavior:s="smooth"}=r,{code:l}=e;if(n.end.includes(l)){this.handleEnd(e);return}if(n.cancel.includes(l)){this.handleCancel(e);return}let{collisionRect:c}=i.current,u=c?{x:c.left,y:c.top}:Z;this.referenceCoordinates||(this.referenceCoordinates=u);let d=a(e,{active:t,context:i.current,currentCoordinates:u});if(d){let t=z(d,u),r={x:0,y:0},{scrollableAncestors:n}=i.current;for(let i of n){let n=e.code,{isTop:a,isRight:l,isLeft:c,isBottom:u,maxScroll:h,minScroll:p}=eh(i),m=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:i,right:r,bottom:n}=e.getBoundingClientRect();return{top:t,left:i,right:r,bottom:n,width:e.clientWidth,height:e.clientHeight}}(i),f={x:Math.min(n===o.Right?m.right-m.width/2:m.right,Math.max(n===o.Right?m.left:m.left+m.width/2,d.x)),y:Math.min(n===o.Down?m.bottom-m.height/2:m.bottom,Math.max(n===o.Down?m.top:m.top+m.height/2,d.y))},g=n===o.Right&&!l||n===o.Left&&!c,b=n===o.Down&&!u||n===o.Up&&!a;if(g&&f.x!==d.x){let e=i.scrollLeft+t.x,a=n===o.Right&&e<=h.x||n===o.Left&&e>=p.x;if(a&&!t.y){i.scrollTo({left:e,behavior:s});return}a?r.x=i.scrollLeft-e:r.x=n===o.Right?i.scrollLeft-h.x:i.scrollLeft-p.x,r.x&&i.scrollBy({left:-r.x,behavior:s});break}if(b&&f.y!==d.y){let e=i.scrollTop+t.y,a=n===o.Down&&e<=h.y||n===o.Up&&e>=p.y;if(a&&!t.x){i.scrollTo({top:e,behavior:s});return}a?r.y=i.scrollTop-e:r.y=n===o.Down?i.scrollTop-h.y:i.scrollTop-p.y,r.y&&i.scrollBy({top:-r.y,behavior:s});break}}this.handleMove(e,N(z(d,this.referenceCoordinates),r))}}}handleMove(e,t){let{onMove:i}=this.props;e.preventDefault(),i(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function ek(e){return!!(e&&"distance"in e)}function eI(e){return!!(e&&"delay"in e)}eT.activators=[{eventName:"onKeyDown",handler:(e,t,i)=>{let{keyboardCodes:r=e_,onActivation:n}=t,{active:a}=i,{code:s}=e.nativeEvent;if(r.start.includes(s)){let t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==n||n({event:e.nativeEvent}),!0)}return!1}}];class eS{constructor(e,t,i){var r;void 0===i&&(i=function(e){let{EventTarget:t}=T(e);return e instanceof t?e:A(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;let{event:n}=e,{target:a}=n;this.props=e,this.events=t,this.document=A(a),this.documentListeners=new eb(this.document),this.listeners=new eb(i),this.windowListeners=new eb(T(a)),this.initialCoordinates=null!=(r=U(n))?r:Z,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(s.Resize,this.handleCancel),this.windowListeners.add(s.DragStart,ev),this.windowListeners.add(s.VisibilityChange,this.handleCancel),this.windowListeners.add(s.ContextMenu,ev),this.documentListeners.add(s.Keydown,this.handleKeydown),t){if(null!=i&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(eI(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(ek(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:i,onPending:r}=this.props;r(i,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(s.Click,ew,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(s.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:i,initialCoordinates:r,props:n}=this,{onMove:a,options:{activationConstraint:s}}=n;if(!r)return;let o=null!=(t=U(e))?t:Z,l=z(r,o);if(!i&&s){if(ek(s)){if(null!=s.tolerance&&ey(l,s.tolerance))return this.handleCancel();if(ey(l,s.distance))return this.handleStart()}return eI(s)&&ey(l,s.tolerance)?this.handleCancel():void this.handlePending(s,l)}e.cancelable&&e.preventDefault(),a(o)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===o.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let eA={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class eE extends eS{constructor(e){let{event:t}=e;super(e,eA,A(t.target))}}eE.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:i}=e,{onActivation:r}=t;return!!i.isPrimary&&0===i.button&&(null==r||r({event:i}),!0)}}];let eC={move:{name:"mousemove"},end:{name:"mouseup"}};!function(e){e[e.RightClick=2]="RightClick"}(l||(l={}));class eR extends eS{constructor(e){super(e,eC,A(e.event.target))}}eR.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:i}=e,{onActivation:r}=t;return i.button!==l.RightClick&&(null==r||r({event:i}),!0)}}];let eM={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class eD extends eS{constructor(e){super(e,eM)}static setup(){return window.addEventListener(eM.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(eM.move.name,e)};function e(){}}}eD.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:i}=e,{onActivation:r}=t,{touches:n}=i;return!(n.length>1)&&(null==r||r({event:i}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(c||(c={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(u||(u={}));let eL={x:{[a.Backward]:!1,[a.Forward]:!1},y:{[a.Backward]:!1,[a.Forward]:!1}};(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(d||(d={})),(h||(h={})).Optimized="optimized";let eB=new Map;function eP(e,t){return M(i=>e?i||("function"==typeof t?t(e):e):null,[t,e])}function eO(e){let{callback:t,disabled:i}=e,r=C(t),n=(0,f.useMemo)(()=>{if(i||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(r)},[i]);return(0,f.useEffect)(()=>()=>null==n?void 0:n.disconnect(),[n]),n}function eN(e){return new eg(er(e),e)}function ez(e,t,i){void 0===t&&(t=eN);let[r,n]=(0,f.useState)(null);function a(){n(r=>{if(!e)return null;if(!1===e.isConnected){var n;return null!=(n=null!=r?r:i)?n:null}let a=t(e);return JSON.stringify(r)===JSON.stringify(a)?r:a})}let s=function(e){let{callback:t,disabled:i}=e,r=C(t),n=(0,f.useMemo)(()=>{if(i||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(r)},[r,i]);return(0,f.useEffect)(()=>()=>null==n?void 0:n.disconnect(),[n]),n}({callback(t){if(e)for(let i of t){let{type:t,target:r}=i;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){a();break}}}}),o=eO({callback:a});return E(()=>{a(),e?(null==o||o.observe(e),null==s||s.observe(document.body,{childList:!0,subtree:!0})):(null==o||o.disconnect(),null==s||s.disconnect())},[e]),r}let eF=[];function eU(e,t){void 0===t&&(t=[]);let i=(0,f.useRef)(null);return(0,f.useEffect)(()=>{i.current=null},t),(0,f.useEffect)(()=>{let t=e!==Z;t&&!i.current&&(i.current=e),!t&&i.current&&(i.current=null)},[e]),i.current?z(e,i.current):Z}function eG(e){return(0,f.useMemo)(()=>e?function(e){let t=e.innerWidth,i=e.innerHeight;return{top:0,left:0,right:t,bottom:i,width:t,height:i}}(e):null,[e])}let eX=[],eW=[{sensor:eE,options:{}},{sensor:eT,options:{}}],eq={current:{}},ej={draggable:{measure:en},droppable:{measure:en,strategy:d.WhileDragging,frequency:h.Optimized},dragOverlay:{measure:er}};class eH extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,i;return null!=(t=null==(i=this.get(e))?void 0:i.node.current)?t:void 0}}let e$={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new eH,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:V},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ej,measureDroppableContainers:V,windowRect:null,measuringScheduled:!1},eY={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:V,draggableNodes:new Map,over:null,measureDroppableContainers:V},eK=(0,f.createContext)(eY),eV=(0,f.createContext)(e$);function eZ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new eH}}}function eJ(e,t){switch(t.type){case n.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case n.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case n.DragEnd:case n.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case n.RegisterDroppable:{let{element:i}=t,{id:r}=i,n=new eH(e.droppable.containers);return n.set(r,i),{...e,droppable:{...e.droppable,containers:n}}}case n.SetDroppableDisabled:{let{id:i,key:r,disabled:n}=t,a=e.droppable.containers.get(i);if(!a||r!==a.key)return e;let s=new eH(e.droppable.containers);return s.set(i,{...a,disabled:n}),{...e,droppable:{...e.droppable,containers:s}}}case n.UnregisterDroppable:{let{id:i,key:r}=t,n=e.droppable.containers.get(i);if(!n||r!==n.key)return e;let a=new eH(e.droppable.containers);return a.delete(i),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function eQ(e){let{disabled:t}=e,{active:i,activatorEvent:r,draggableNodes:n}=(0,f.useContext)(eK),a=L(r),s=L(null==i?void 0:i.id);return(0,f.useEffect)(()=>{if(!t&&!r&&a&&null!=s){if(!F(a)||document.activeElement===a.target)return;let e=n.get(s);if(!e)return;let{activatorNode:t,node:i}=e;(t.current||i.current)&&requestAnimationFrame(()=>{for(let e of[t.current,i.current]){if(!e)continue;let t=e.matches(X)?e:e.querySelector(X);if(t){t.focus();break}}})}},[r,t,n,s,a]),null}let e0=(0,f.createContext)({...Z,scaleX:1,scaleY:1});!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(p||(p={}));let e1=(0,f.memo)(function(e){var t,i,r,s,o,l;let{id:h,accessibility:m,autoScroll:b=!0,children:y,sensors:_=eW,collisionDetection:x=Q,measuring:k,modifiers:S,...A}=e,[C,B]=(0,f.useReducer)(eJ,void 0,eZ),[O,z]=function(){let[e]=(0,f.useState)(()=>new Set),t=(0,f.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,f.useCallback)(t=>{let{type:i,event:r}=t;e.forEach(e=>{var t;return null==(t=e[i])?void 0:t.call(e,r)})},[e]),t]}(),[F,G]=(0,f.useState)(p.Uninitialized),X=F===p.Initialized,{draggable:{active:W,nodes:q,translate:j},droppable:{containers:$}}=C,Y=null!=W?q.get(W):null,V=(0,f.useRef)({initial:null,translated:null}),J=(0,f.useMemo)(()=>{var e;return null!=W?{id:W,data:null!=(e=null==Y?void 0:Y.data)?e:eq,rect:V}:null},[W,Y]),ei=(0,f.useRef)(null),[en,el]=(0,f.useState)(null),[ec,ef]=(0,f.useState)(null),eb=R(A,Object.values(A)),ey=P("DndDescribedBy",h),ev=(0,f.useMemo)(()=>$.getEnabled(),[$]),ew=(0,f.useMemo)(()=>({draggable:{...ej.draggable,...null==k?void 0:k.draggable},droppable:{...ej.droppable,...null==k?void 0:k.droppable},dragOverlay:{...ej.dragOverlay,...null==k?void 0:k.dragOverlay}}),[null==k?void 0:k.draggable,null==k?void 0:k.droppable,null==k?void 0:k.dragOverlay]),{droppableRects:e_,measureDroppableContainers:ex,measuringScheduled:eT}=function(e,t){let{dragging:i,dependencies:r,config:n}=t,[a,s]=(0,f.useState)(null),{frequency:o,measure:l,strategy:c}=n,u=(0,f.useRef)(e),h=function(){switch(c){case d.Always:return!1;case d.BeforeDragging:return i;default:return!i}}(),p=R(h),m=(0,f.useCallback)(function(e){void 0===e&&(e=[]),p.current||s(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[p]),g=(0,f.useRef)(null),b=M(t=>{if(h&&!i)return eB;if(!t||t===eB||u.current!==e||null!=a){let t=new Map;for(let i of e){if(!i)continue;if(a&&a.length>0&&!a.includes(i.id)&&i.rect.current){t.set(i.id,i.rect.current);continue}let e=i.node.current,r=e?new eg(l(e),e):null;i.rect.current=r,r&&t.set(i.id,r)}return t}return t},[e,a,i,h,l]);return(0,f.useEffect)(()=>{u.current=e},[e]),(0,f.useEffect)(()=>{h||m()},[i,h]),(0,f.useEffect)(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),(0,f.useEffect)(()=>{h||"number"!=typeof o||null!==g.current||(g.current=setTimeout(()=>{m(),g.current=null},o))},[o,h,m,...r]),{droppableRects:b,measureDroppableContainers:m,measuringScheduled:null!=a}}(ev,{dragging:X,dependencies:[j.x,j.y],config:ew.droppable}),ek=function(e,t){let i=null!=t?e.get(t):void 0,r=i?i.node.current:null;return M(e=>{var i;return null==t?null:null!=(i=null!=r?r:e)?i:null},[r,t])}(q,W),eI=(0,f.useMemo)(()=>ec?U(ec):null,[ec]),eS=function(){let e=(null==en?void 0:en.autoScrollEnabled)===!1,t="object"==typeof b?!1===b.enabled:!1===b,i=X&&!e&&!t;return"object"==typeof b?{...b,enabled:i}:{enabled:i}}(),eA=eP(ek,ew.draggable.measure);!function(e){let{activeNode:t,measure:i,initialRect:r,config:n=!0}=e,a=(0,f.useRef)(!1),{x:s,y:o}="boolean"==typeof n?{x:n,y:n}:n;E(()=>{if(!s&&!o||!t){a.current=!1;return}if(a.current||!r)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let n=ee(i(e),r);if(s||(n.x=0),o||(n.y=0),a.current=!0,Math.abs(n.x)>0||Math.abs(n.y)>0){let t=es(e);t&&t.scrollBy({top:n.y,left:n.x})}},[t,s,o,r,i])}({activeNode:null!=W?q.get(W):null,config:eS.layoutShiftCompensation,initialRect:eA,measure:ew.draggable.measure});let eE=ez(ek,ew.draggable.measure,eA),eC=ez(ek?ek.parentElement:null),eR=(0,f.useRef)({activatorEvent:null,active:null,activeNode:ek,collisionRect:null,collisions:null,droppableRects:e_,draggableNodes:q,draggingNode:null,draggingNodeRect:null,droppableContainers:$,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),eM=$.getNodeFor(null==(t=eR.current.over)?void 0:t.id),eD=function(e){let{measure:t}=e,[i,r]=(0,f.useState)(null),n=eO({callback:(0,f.useCallback)(e=>{for(let{target:i}of e)if(I(i)){r(e=>{let r=t(i);return e?{...e,width:r.width,height:r.height}:r});break}},[t])}),[a,s]=D((0,f.useCallback)(e=>{let i=function(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return I(t)?t:e}(e);null==n||n.disconnect(),i&&(null==n||n.observe(i)),r(i?t(i):null)},[t,n]));return(0,f.useMemo)(()=>({nodeRef:a,rect:i,setRef:s}),[i,a,s])}({measure:ew.dragOverlay.measure}),eN=null!=(i=eD.nodeRef.current)?i:ek,eH=X?null!=(r=eD.rect)?r:eE:null,e$=!!(eD.nodeRef.current&&eD.rect),eY=function(e){let t=eP(e);return ee(e,t)}(e$?null:eE),e1=eG(eN?T(eN):null),e2=function(e){let t=(0,f.useRef)(e),i=M(i=>e?i&&i!==eF&&e&&t.current&&e.parentNode===t.current.parentNode?i:ea(e):eF,[e]);return(0,f.useEffect)(()=>{t.current=e},[e]),i}(X?null!=eM?eM:ek:null),e3=function(e,t){void 0===t&&(t=er);let[i]=e,r=eG(i?T(i):null),[n,a]=(0,f.useState)(eX);function s(){a(()=>e.length?e.map(e=>ed(e)?r:new eg(t(e),e)):eX)}let o=eO({callback:s});return E(()=>{null==o||o.disconnect(),s(),e.forEach(e=>null==o?void 0:o.observe(e))},[e]),n}(e2),e8=function(e,t){let{transform:i,...r}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...r}),i):i}(S,{transform:{x:j.x-eY.x,y:j.y-eY.y,scaleX:1,scaleY:1},activatorEvent:ec,active:J,activeNodeRect:eE,containerNodeRect:eC,draggingNodeRect:eH,over:eR.current.over,overlayNodeRect:eD.rect,scrollableAncestors:e2,scrollableAncestorRects:e3,windowRect:e1}),e6=eI?N(eI,j):null,e4=function(e){let[t,i]=(0,f.useState)(null),r=(0,f.useRef)(e),n=(0,f.useCallback)(e=>{let t=eo(e.target);t&&i(e=>e?(e.set(t,eu(t)),new Map(e)):null)},[]);return(0,f.useEffect)(()=>{let t=r.current;if(e!==t){a(t);let s=e.map(e=>{let t=eo(e);return t?(t.addEventListener("scroll",n,{passive:!0}),[t,eu(t)]):null}).filter(e=>null!=e);i(s.length?new Map(s):null),r.current=e}return()=>{a(e),a(t)};function a(e){e.forEach(e=>{let t=eo(e);null==t||t.removeEventListener("scroll",n)})}},[n,e]),(0,f.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>N(e,t),Z):em(e):Z,[e,t])}(e2),e5=eU(e4),e7=eU(e4,[eE]),e9=N(e8,e5),te=eH?et(eH,e8):null,tt=J&&te?x({active:J,collisionRect:te,droppableRects:e_,droppableContainers:ev,pointerCoordinates:e6}):null,ti=function(e,t){if(!e||0===e.length)return null;let[i]=e;return i.id}(tt,0),[tr,tn]=(0,f.useState)(null),ta=(o=e$?e8:N(e8,e7),l=null!=(s=null==tr?void 0:tr.rect)?s:null,{...o,scaleX:l&&eE?l.width/eE.width:1,scaleY:l&&eE?l.height/eE.height:1}),ts=(0,f.useRef)(null),to=(0,f.useCallback)((e,t)=>{let{sensor:i,options:r}=t;if(null==ei.current)return;let a=q.get(ei.current);if(!a)return;let s=e.nativeEvent,o=new i({active:ei.current,activeNode:a,event:s,options:r,context:eR,onAbort(e){if(!q.get(e))return;let{onDragAbort:t}=eb.current,i={id:e};null==t||t(i),O({type:"onDragAbort",event:i})},onPending(e,t,i,r){if(!q.get(e))return;let{onDragPending:n}=eb.current,a={id:e,constraint:t,initialCoordinates:i,offset:r};null==n||n(a),O({type:"onDragPending",event:a})},onStart(e){let t=ei.current;if(null==t)return;let i=q.get(t);if(!i)return;let{onDragStart:r}=eb.current,a={activatorEvent:s,active:{id:t,data:i.data,rect:V}};(0,v.unstable_batchedUpdates)(()=>{null==r||r(a),G(p.Initializing),B({type:n.DragStart,initialCoordinates:e,active:t}),O({type:"onDragStart",event:a}),el(ts.current),ef(s)})},onMove(e){B({type:n.DragMove,coordinates:e})},onEnd:l(n.DragEnd),onCancel:l(n.DragCancel)});function l(e){return async function(){let{active:t,collisions:i,over:r,scrollAdjustedTranslate:a}=eR.current,o=null;if(t&&a){let{cancelDrop:l}=eb.current;o={activatorEvent:s,active:t,collisions:i,delta:a,over:r},e===n.DragEnd&&"function"==typeof l&&await Promise.resolve(l(o))&&(e=n.DragCancel)}ei.current=null,(0,v.unstable_batchedUpdates)(()=>{B({type:e}),G(p.Uninitialized),tn(null),el(null),ef(null),ts.current=null;let t=e===n.DragEnd?"onDragEnd":"onDragCancel";if(o){let e=eb.current[t];null==e||e(o),O({type:t,event:o})}})}}ts.current=o},[q]),tl=(0,f.useCallback)((e,t)=>(i,r)=>{let n=i.nativeEvent,a=q.get(r);null!==ei.current||!a||n.dndKit||n.defaultPrevented||!0!==e(i,t.options,{active:a})||(n.dndKit={capturedBy:t.sensor},ei.current=r,to(i,t))},[q,to]),tc=(0,f.useMemo)(()=>_.reduce((e,t)=>{let{sensor:i}=t;return[...e,...i.activators.map(e=>({eventName:e.eventName,handler:tl(e.handler,t)}))]},[]),[_,tl]);(0,f.useEffect)(()=>{if(!w)return;let e=_.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},_.map(e=>{let{sensor:t}=e;return t})),E(()=>{eE&&F===p.Initializing&&G(p.Initialized)},[eE,F]),(0,f.useEffect)(()=>{let{onDragMove:e}=eb.current,{active:t,activatorEvent:i,collisions:r,over:n}=eR.current;if(!t||!i)return;let a={active:t,activatorEvent:i,collisions:r,delta:{x:e9.x,y:e9.y},over:n};(0,v.unstable_batchedUpdates)(()=>{null==e||e(a),O({type:"onDragMove",event:a})})},[e9.x,e9.y]),(0,f.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:i,droppableContainers:r,scrollAdjustedTranslate:n}=eR.current;if(!e||null==ei.current||!t||!n)return;let{onDragOver:a}=eb.current,s=r.get(ti),o=s&&s.rect.current?{id:s.id,rect:s.rect.current,data:s.data,disabled:s.disabled}:null,l={active:e,activatorEvent:t,collisions:i,delta:{x:n.x,y:n.y},over:o};(0,v.unstable_batchedUpdates)(()=>{tn(o),null==a||a(l),O({type:"onDragOver",event:l})})},[ti]),E(()=>{eR.current={activatorEvent:ec,active:J,activeNode:ek,collisionRect:te,collisions:tt,droppableRects:e_,draggableNodes:q,draggingNode:eN,draggingNodeRect:eH,droppableContainers:$,over:tr,scrollableAncestors:e2,scrollAdjustedTranslate:e9},V.current={initial:eH,translated:te}},[J,ek,tt,te,q,eN,eH,e_,$,tr,e2,e9]),function(e){let{acceleration:t,activator:i=c.Pointer,canScroll:r,draggingRect:n,enabled:s,interval:o=5,order:l=u.TreeOrder,pointerCoordinates:d,scrollableAncestors:h,scrollableAncestorRects:p,delta:m,threshold:g}=e,b=function(e){let{delta:t,disabled:i}=e,r=L(t);return M(e=>{if(i||!r||!e)return eL;let n={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[a.Backward]:e.x[a.Backward]||-1===n.x,[a.Forward]:e.x[a.Forward]||1===n.x},y:{[a.Backward]:e.y[a.Backward]||-1===n.y,[a.Forward]:e.y[a.Forward]||1===n.y}}},[i,t,r])}({delta:m,disabled:!s}),[y,v]=function(){let e=(0,f.useRef)(null);return[(0,f.useCallback)((t,i)=>{e.current=setInterval(t,i)},[]),(0,f.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),w=(0,f.useRef)({x:0,y:0}),_=(0,f.useRef)({x:0,y:0}),x=(0,f.useMemo)(()=>{switch(i){case c.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case c.DraggableRect:return n}},[i,n,d]),T=(0,f.useRef)(null),k=(0,f.useCallback)(()=>{let e=T.current;if(!e)return;let t=w.current.x*_.current.x,i=w.current.y*_.current.y;e.scrollBy(t,i)},[]),I=(0,f.useMemo)(()=>l===u.TreeOrder?[...h].reverse():h,[l,h]);(0,f.useEffect)(()=>{if(!s||!h.length||!x){v();return}for(let e of I){if((null==r?void 0:r(e))===!1)continue;let i=p[h.indexOf(e)];if(!i)continue;let{direction:n,speed:s}=function(e,t,i,r,n){let{top:s,left:o,right:l,bottom:c}=i;void 0===r&&(r=10),void 0===n&&(n=ep);let{isTop:u,isBottom:d,isLeft:h,isRight:p}=eh(e),m={x:0,y:0},f={x:0,y:0},g={height:t.height*n.y,width:t.width*n.x};return!u&&s<=t.top+g.height?(m.y=a.Backward,f.y=r*Math.abs((t.top+g.height-s)/g.height)):!d&&c>=t.bottom-g.height&&(m.y=a.Forward,f.y=r*Math.abs((t.bottom-g.height-c)/g.height)),!p&&l>=t.right-g.width?(m.x=a.Forward,f.x=r*Math.abs((t.right-g.width-l)/g.width)):!h&&o<=t.left+g.width&&(m.x=a.Backward,f.x=r*Math.abs((t.left+g.width-o)/g.width)),{direction:m,speed:f}}(e,i,x,t,g);for(let e of["x","y"])b[e][n[e]]||(s[e]=0,n[e]=0);if(s.x>0||s.y>0){v(),T.current=e,y(k,o),w.current=s,_.current=n;return}}w.current={x:0,y:0},_.current={x:0,y:0},v()},[t,k,r,v,s,o,JSON.stringify(x),JSON.stringify(b),y,h,I,p,JSON.stringify(g)])}({...eS,delta:j,draggingRect:te,pointerCoordinates:e6,scrollableAncestors:e2,scrollableAncestorRects:e3});let tu=(0,f.useMemo)(()=>({active:J,activeNode:ek,activeNodeRect:eE,activatorEvent:ec,collisions:tt,containerNodeRect:eC,dragOverlay:eD,draggableNodes:q,droppableContainers:$,droppableRects:e_,over:tr,measureDroppableContainers:ex,scrollableAncestors:e2,scrollableAncestorRects:e3,measuringConfiguration:ew,measuringScheduled:eT,windowRect:e1}),[J,ek,eE,ec,tt,eC,eD,q,$,e_,tr,ex,e2,e3,ew,eT,e1]),td=(0,f.useMemo)(()=>({activatorEvent:ec,activators:tc,active:J,activeNodeRect:eE,ariaDescribedById:{draggable:ey},dispatch:B,draggableNodes:q,over:tr,measureDroppableContainers:ex}),[ec,tc,J,eE,B,ey,q,tr,ex]);return g().createElement(H.Provider,{value:z},g().createElement(eK.Provider,{value:td},g().createElement(eV.Provider,{value:tu},g().createElement(e0.Provider,{value:ta},y)),g().createElement(eQ,{disabled:(null==m?void 0:m.restoreFocus)===!1})),g().createElement(K,{...m,hiddenTextDescribedById:ey}))}),e2=(0,f.createContext)(null),e3="button",e8={timeout:25};function e6(e,t,i){let r=e.slice();return r.splice(i<0?r.length+i:i,0,r.splice(t,1)[0]),r}function e4(e){return null!==e&&e>=0}r={styles:{active:{opacity:"0"}}},e=>{let{active:t,dragOverlay:i}=e,n={},{styles:a,className:s}=r;if(null!=a&&a.active)for(let[e,i]of Object.entries(a.active))void 0!==i&&(n[e]=t.node.style.getPropertyValue(e),t.node.style.setProperty(e,i));if(null!=a&&a.dragOverlay)for(let[e,t]of Object.entries(a.dragOverlay))void 0!==t&&i.node.style.setProperty(e,t);return null!=s&&s.active&&t.node.classList.add(s.active),null!=s&&s.dragOverlay&&i.node.classList.add(s.dragOverlay),function(){for(let[e,i]of Object.entries(n))t.node.style.setProperty(e,i);null!=s&&s.active&&t.node.classList.remove(s.active)}};let e5=e=>{let{rects:t,activeIndex:i,overIndex:r,index:n}=e,a=e6(t,r,i),s=t[n],o=a[n];return o&&s?{x:o.left-s.left,y:o.top-s.top,scaleX:o.width/s.width,scaleY:o.height/s.height}:null},e7="Sortable",e9=g().createContext({activeIndex:-1,containerId:e7,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:e5,disabled:{draggable:!1,droppable:!1}});function te(e){let{children:t,id:i,items:r,strategy:n=e5,disabled:a=!1}=e,{active:s,dragOverlay:o,droppableRects:l,over:c,measureDroppableContainers:u}=(0,f.useContext)(eV),d=P(e7,i),h=null!==o.rect,p=(0,f.useMemo)(()=>r.map(e=>"object"==typeof e&&"id"in e?e.id:e),[r]),m=null!=s,b=s?p.indexOf(s.id):-1,y=c?p.indexOf(c.id):-1,v=(0,f.useRef)(p),w=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}(p,v.current),_=-1!==y&&-1===b||w,x="boolean"==typeof a?{draggable:a,droppable:a}:a;E(()=>{w&&m&&u(p)},[w,p,m,u]),(0,f.useEffect)(()=>{v.current=p},[p]);let T=(0,f.useMemo)(()=>({activeIndex:b,containerId:d,disabled:x,disableTransforms:_,items:p,overIndex:y,useDragOverlay:h,sortedRects:p.reduce((e,t,i)=>{let r=l.get(t);return r&&(e[i]=r),e},Array(p.length)),strategy:n}),[b,d,x.draggable,x.droppable,_,p,y,l,h,n]);return g().createElement(e9.Provider,{value:T},t)}let tt=e=>{let{id:t,items:i,activeIndex:r,overIndex:n}=e;return e6(i,r,n).indexOf(t)},ti=e=>{let{containerId:t,isSorting:i,wasDragging:r,index:n,items:a,newIndex:s,previousItems:o,previousContainerId:l,transition:c}=e;return!!c&&!!r&&(o===a||n!==s)&&(!!i||s!==n&&t===l)},tr={duration:200,easing:"ease"},tn="transform",ta=G.Transition.toString({property:tn,duration:0,easing:"linear"}),ts={roleDescription:"sortable"};o.Down,o.Right,o.Up,o.Left;let to=Math.PI,tl=2*to,tc=to/2,tu="dual-combined",td="dual-horizontal",th="single",tp="dual-vertical",tm="bar-index",tf="bar-level",tg="gradient",tb="click",ty="resize",tv="sans-serif",tw="create",t_="fschange",tx="user",tT="#fff",tk="#888",tI="bark",tS="linear",tA=["#a35","#c66","#e94","#ed0","#9d5","#4d8","#2cb","#0bc","#09c","#36b"],tE=[["classic",{colorStops:["red",{color:"yellow",level:.85,pos:.6},{color:"lime",level:.475}]}],["prism",{colorStops:tA}],["rainbow",{dir:"h",colorStops:["#817",...tA,"#639"]}],["orangered",{bgColor:"#3e2f29",colorStops:["OrangeRed"]}],["steelblue",{bgColor:"#222c35",colorStops:["SteelBlue"]}]],tC={alphaBars:!1,ansiBands:!1,barSpace:.1,bgAlpha:.7,channelLayout:th,colorMode:tg,fadePeaks:!1,fftSize:8192,fillAlpha:1,frequencyScale:"log",gradient:tE[0][0],gravity:3.8,height:void 0,ledBars:!1,linearAmplitude:!1,linearBoost:1,lineWidth:0,loRes:!1,lumiBars:!1,maxDecibels:-25,maxFPS:0,maxFreq:22e3,minDecibels:-85,minFreq:20,mirror:0,mode:0,noteLabels:!1,outlineBars:!1,overlay:!1,peakFadeTime:750,peakHoldTime:500,peakLine:!1,radial:!1,radialInvert:!1,radius:.3,reflexAlpha:.15,reflexBright:1,reflexFit:!0,reflexRatio:0,roundBars:!1,showBgColor:!0,showFPS:!1,showPeaks:!0,showScaleX:!0,showScaleY:!1,smoothing:.5,spinSpeed:0,splitGradient:!1,start:!0,trueLeds:!1,useCanvas:!0,volume:1,weightingFilter:"",width:void 0},tR=["ERR_AUDIO_CONTEXT_FAIL","Could not create audio context. Web Audio API not supported?"],tM=["ERR_INVALID_AUDIO_CONTEXT","Provided audio context is not valid"],tD=["ERR_UNKNOWN_GRADIENT","Unknown gradient"],tL=["ERR_FREQUENCY_TOO_LOW","Frequency values must be >= 1"],tB=["ERR_INVALID_MODE","Invalid mode"],tP=["ERR_REFLEX_OUT_OF_RANGE","Reflex ratio must be >= 0 and < 1"],tO=["ERR_INVALID_AUDIO_SOURCE","Audio source must be an instance of HTMLMediaElement or AudioNode"],tN=["ERR_GRADIENT_INVALID_NAME","Gradient name must be a non-empty string"],tz=["ERR_GRADIENT_NOT_AN_OBJECT","Gradient options must be an object"],tF=["ERR_GRADIENT_MISSING_COLOR","Gradient colorStops must be a non-empty array"];class tU extends Error{constructor(e,t){let[i,r]=e;super(r+(void 0!==t?`: ${t}`:"")),this.name="AudioMotionError",this.code=i}}let tG=(e,t)=>console.warn(`${e} is deprecated. Use ${t} instead.`),tX=e=>{for(let t in e)return!1;return!0},tW=(e,t,i="toLowerCase")=>t[Math.max(0,t.indexOf((""+e)[i]()))],tq=(e,t,i,r,n)=>t+(r-t)*(n-e)/(i-e);Array.prototype.findLastIndex||(Array.prototype.findLastIndex=function(e){let t=this.length;for(;t-- >0;)if(e(this[t]))return t;return -1});class tj{constructor(e,t={}){let i;this._ready=!1,this._aux={},this._canvasGradients=[],this._destroyed=!1,this._energy={val:0,peak:0,hold:0},this._flg={},this._fps=0,this._gradients={},this._last=0,this._outNodes=[],this._ownContext=!1,this._selectedGrads=[],this._sources=[],e instanceof Element||(tX(t)&&!tX(e)&&(t=e),e=null),this._ownCanvas=!(t.canvas instanceof HTMLCanvasElement);let r=this._ownCanvas?document.createElement("canvas"):t.canvas;for(let[e,t]of(r.style="max-width: 100%;",this._ctx=r.getContext("2d"),tE))this.registerGradient(e,t);if(this._container=e||!this._ownCanvas&&r.parentElement||document.body,this._defaultWidth=this._container.clientWidth||640,this._defaultHeight=this._container.clientHeight||270,t.source&&(i=t.source.context));else if(i=t.audioCtx);else try{i=new(window.AudioContext||window.webkitAudioContext),this._ownContext=!0}catch(e){throw new tU(tR)}if(!i.createGain)throw new tU(tM);let n=this._analyzer=[i.createAnalyser(),i.createAnalyser()],a=this._splitter=i.createChannelSplitter(2),s=this._merger=i.createChannelMerger(2);for(let e of(this._input=i.createGain(),this._output=i.createGain(),t.source&&this.connectInput(t.source),[0,1]))a.connect(n[e],e);for(let e of(s.connect(this._output),!1!==t.connectSpeakers&&this.connectOutput(),["_scaleX","_scaleR"]))this[e]=document.createElement("canvas").getContext("2d");this._fsEl=t.fsElement||r;let o=()=>{this._fsTimeout||(this._fsTimeout=window.setTimeout(()=>{this._fsChanging||(this._setCanvas(ty),this._fsTimeout=0)},60))};window.ResizeObserver&&(this._observer=new ResizeObserver(o),this._observer.observe(this._container)),this._controller=new AbortController;let l=this._controller.signal;window.addEventListener(ty,o,{signal:l}),r.addEventListener("fullscreenchange",()=>{this._fsChanging=!0,this._fsTimeout&&window.clearTimeout(this._fsTimeout),this._setCanvas(t_),this._fsTimeout=window.setTimeout(()=>{this._fsChanging=!1,this._fsTimeout=0},60)},{signal:l});let c=()=>{"suspended"==i.state&&i.resume(),window.removeEventListener(tb,c)};window.addEventListener(tb,c),document.addEventListener("visibilitychange",()=>{"hidden"!=document.visibilityState&&(this._frames=0,this._time=performance.now())},{signal:l}),this._setProps(t,!0),this.useCanvas&&this._ownCanvas&&this._container.appendChild(r),this._ready=!0,this._setCanvas(tw)}get alphaBars(){return this._alphaBars}set alphaBars(e){this._alphaBars=!!e,this._calcBars()}get ansiBands(){return this._ansiBands}set ansiBands(e){this._ansiBands=!!e,this._calcBars()}get barSpace(){return this._barSpace}set barSpace(e){this._barSpace=+e||0,this._calcBars()}get channelLayout(){return this._chLayout}set channelLayout(e){this._chLayout=tW(e,[th,td,tp,tu]),this._input.disconnect(),this._input.connect(this._chLayout!=th?this._splitter:this._analyzer[0]),this._analyzer[0].disconnect(),this._outNodes.length&&this._analyzer[0].connect(this._chLayout!=th?this._merger:this._output),this._calcBars(),this._makeGrad()}get colorMode(){return this._colorMode}set colorMode(e){this._colorMode=tW(e,[tg,tm,tf])}get fadePeaks(){return this._fadePeaks}set fadePeaks(e){this._fadePeaks=!!e}get fftSize(){return this._analyzer[0].fftSize}set fftSize(e){for(let t of[0,1])this._analyzer[t].fftSize=e;let t=this._analyzer[0].frequencyBinCount;this._fftData=[new Float32Array(t),new Float32Array(t)],this._calcBars()}get frequencyScale(){return this._frequencyScale}set frequencyScale(e){this._frequencyScale=tW(e,["log",tI,"mel",tS]),this._calcBars()}get gradient(){return this._selectedGrads[0]}set gradient(e){this._setGradient(e)}get gradientLeft(){return this._selectedGrads[0]}set gradientLeft(e){this._setGradient(e,0)}get gradientRight(){return this._selectedGrads[1]}set gradientRight(e){this._setGradient(e,1)}get gravity(){return this._gravity}set gravity(e){this._gravity=e>0?+e:this._gravity||tC.gravity}get height(){return this._height}set height(e){this._height=e,this._setCanvas(tx)}get ledBars(){return this._showLeds}set ledBars(e){this._showLeds=!!e,this._calcBars()}get linearAmplitude(){return this._linearAmplitude}set linearAmplitude(e){this._linearAmplitude=!!e}get linearBoost(){return this._linearBoost}set linearBoost(e){this._linearBoost=e>=1?+e:1}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=+e||0}get loRes(){return this._loRes}set loRes(e){this._loRes=!!e,this._setCanvas("lores")}get lumiBars(){return this._lumiBars}set lumiBars(e){this._lumiBars=!!e,this._calcBars(),this._makeGrad()}get maxDecibels(){return this._analyzer[0].maxDecibels}set maxDecibels(e){for(let t of[0,1])this._analyzer[t].maxDecibels=e}get maxFPS(){return this._maxFPS}set maxFPS(e){this._maxFPS=e<0?0:+e||0}get maxFreq(){return this._maxFreq}set maxFreq(e){if(e<1)throw new tU(tL);this._maxFreq=Math.min(e,this.audioCtx.sampleRate/2),this._calcBars()}get minDecibels(){return this._analyzer[0].minDecibels}set minDecibels(e){for(let t of[0,1])this._analyzer[t].minDecibels=e}get minFreq(){return this._minFreq}set minFreq(e){if(e<1)throw new tU(tL);this._minFreq=+e,this._calcBars()}get mirror(){return this._mirror}set mirror(e){this._mirror=0|Math.sign(e),this._calcBars(),this._makeGrad()}get mode(){return this._mode}set mode(e){let t=0|e;if(t>=0&&t<=10&&9!=t)this._mode=t,this._calcBars(),this._makeGrad();else throw new tU(tB,e)}get noteLabels(){return this._noteLabels}set noteLabels(e){this._noteLabels=!!e,this._createScales()}get outlineBars(){return this._outlineBars}set outlineBars(e){this._outlineBars=!!e,this._calcBars()}get peakFadeTime(){return this._peakFadeTime}set peakFadeTime(e){this._peakFadeTime=e>=0?+e:this._peakFadeTime||tC.peakFadeTime}get peakHoldTime(){return this._peakHoldTime}set peakHoldTime(e){this._peakHoldTime=+e||0}get peakLine(){return this._peakLine}set peakLine(e){this._peakLine=!!e}get radial(){return this._radial}set radial(e){this._radial=!!e,this._calcBars(),this._makeGrad()}get radialInvert(){return this._radialInvert}set radialInvert(e){this._radialInvert=!!e,this._calcBars(),this._makeGrad()}get radius(){return this._radius}set radius(e){this._radius=+e||0,this._calcBars(),this._makeGrad()}get reflexRatio(){return this._reflexRatio}set reflexRatio(e){if((e=+e||0)<0||e>=1)throw new tU(tP);this._reflexRatio=e,this._calcBars(),this._makeGrad()}get roundBars(){return this._roundBars}set roundBars(e){this._roundBars=!!e,this._calcBars()}get smoothing(){return this._analyzer[0].smoothingTimeConstant}set smoothing(e){for(let t of[0,1])this._analyzer[t].smoothingTimeConstant=e}get spinSpeed(){return this._spinSpeed}set spinSpeed(e){e=+e||0,(void 0===this._spinSpeed||0==e)&&(this._spinAngle=-tc),this._spinSpeed=e}get splitGradient(){return this._splitGradient}set splitGradient(e){this._splitGradient=!!e,this._makeGrad()}get stereo(){return tG("stereo","channelLayout"),this._chLayout!=th}set stereo(e){tG("stereo","channelLayout"),this.channelLayout=e?tp:th}get trueLeds(){return this._trueLeds}set trueLeds(e){this._trueLeds=!!e}get volume(){return this._output.gain.value}set volume(e){this._output.gain.value=e}get weightingFilter(){return this._weightingFilter}set weightingFilter(e){this._weightingFilter=tW(e,["","A","B","C","D","468"],"toUpperCase")}get width(){return this._width}set width(e){this._width=e,this._setCanvas(tx)}get audioCtx(){return this._input.context}get canvas(){return this._ctx.canvas}get canvasCtx(){return this._ctx}get connectedSources(){return this._sources}get connectedTo(){return this._outNodes}get fps(){return this._fps}get fsHeight(){return this._fsHeight}get fsWidth(){return this._fsWidth}get isAlphaBars(){return this._flg.isAlpha}get isBandsMode(){return this._flg.isBands}get isDestroyed(){return this._destroyed}get isFullscreen(){return this._fsEl&&(document.fullscreenElement||document.webkitFullscreenElement)===this._fsEl}get isLedBars(){return this._flg.isLeds}get isLumiBars(){return this._flg.isLumi}get isOctaveBands(){return this._flg.isOctaves}get isOn(){return!!this._runId}get isOutlineBars(){return this._flg.isOutline}get pixelRatio(){return this._pixelRatio}get isRoundBars(){return this._flg.isRound}static get version(){return"4.5.0"}connectInput(e){let t=e instanceof HTMLMediaElement;if(!(t||e.connect))throw new tU(tO);let i=t?this.audioCtx.createMediaElementSource(e):e;return this._sources.includes(i)||(i.connect(this._input),this._sources.push(i)),i}connectOutput(e=this.audioCtx.destination){if(!this._outNodes.includes(e)&&(this._output.connect(e),this._outNodes.push(e),1==this._outNodes.length))for(let e of[0,1])this._analyzer[e].connect(this._chLayout!=th||e?this._merger:this._output,0,e)}destroy(){if(!this._ready)return;let{audioCtx:e,canvas:t,_controller:i,_input:r,_merger:n,_observer:a,_ownCanvas:s,_ownContext:o,_splitter:l}=this;this._destroyed=!0,this._ready=!1,this.stop(),i.abort(),a&&a.disconnect(),this.onCanvasResize=null,this.onCanvasDraw=null,this._fsEl=null,this.disconnectInput(),this.disconnectOutput(),r.disconnect(),l.disconnect(),n.disconnect(),o&&e.close(),s&&t.remove(),this._calcBars()}disconnectInput(e,t){for(let i of(e?Array.isArray(e)||(e=[e]):e=Array.from(this._sources),e)){let e=this._sources.indexOf(i);if(t&&i.mediaStream)for(let e of i.mediaStream.getAudioTracks())e.stop();e>=0&&(i.disconnect(this._input),this._sources.splice(e,1))}}disconnectOutput(e){if((!e||this._outNodes.includes(e))&&(this._output.disconnect(e),this._outNodes=e?this._outNodes.filter(t=>t!==e):[],0==this._outNodes.length))for(let e of[0,1])this._analyzer[e].disconnect()}getBars(){return Array.from(this._bars,({posX:e,freq:t,freqLo:i,freqHi:r,hold:n,peak:a,value:s})=>({posX:e,freq:t,freqLo:i,freqHi:r,hold:n,peak:a,value:s}))}getEnergy(e,t){if(void 0===e)return this._energy.val;if(e!=+e){if("peak"==e)return this._energy.peak;let i={bass:[20,250],lowMid:[250,500],mid:[500,2e3],highMid:[2e3,4e3],treble:[4e3,16e3]};if(!i[e])return null;[e,t]=i[e]}let i=this._freqToBin(e),r=t?this._freqToBin(t):i,n=this._chLayout==th?1:2,a=0;for(let e=0;e<n;e++)for(let t=i;t<=r;t++)a+=this._normalizedB(this._fftData[e][t]);return a/(r-i+1)/n}getOptions(e){Array.isArray(e)||(e=[e]);let t={};for(let i of Object.keys(tC))e.includes(i)||("gradient"==i&&this.gradientLeft!=this.gradientRight?(t.gradientLeft=this.gradientLeft,t.gradientRight=this.gradientRight):"start"==i||(t[i]=this[i]));return t}registerGradient(e,t){if("string"!=typeof e||0==e.trim().length)throw new tU(tN);if("object"!=typeof t)throw new tU(tz);let{colorStops:i}=t;if(!Array.isArray(i)||!i.length)throw new tU(tF);let r=i.length,n=e=>+e!=e||e<0||e>1;i.forEach((e,t)=>{let a=t/Math.max(1,r-1);"object"!=typeof e?i[t]={pos:a,color:e}:n(e.pos)&&(e.pos=a),n(e.level)&&(i[t].level=1-t/r)}),i.sort((e,t)=>e.level<t.level?1:e.level>t.level?-1:0),i[0].level=1,this._gradients[e]={bgColor:t.bgColor||"#111",dir:t.dir,colorStops:i},this._selectedGrads.includes(e)&&this._makeGrad()}setCanvasSize(e,t){this._width=e,this._height=t,this._setCanvas(tx)}setFreqRange(e,t){if(e<1||t<1)throw new tU(tL);this._minFreq=Math.min(e,t),this.maxFreq=Math.max(e,t)}setLedParams(e){let t,i,r;e&&(t=0|e.maxLeds,i=+e.spaceV,r=+e.spaceH),this._ledParams=t>0&&i>0&&r>=0?[t,i,r]:void 0,this._calcBars()}setOptions(e){this._setProps(e)}setSensitivity(e,t){for(let i of[0,1])this._analyzer[i].minDecibels=Math.min(e,t),this._analyzer[i].maxDecibels=Math.max(e,t)}start(){this.toggleAnalyzer(!0)}stop(){this.toggleAnalyzer(!1)}toggleAnalyzer(e){let t=this.isOn;return void 0===e&&(e=!t),t&&!e?(cancelAnimationFrame(this._runId),this._runId=0):t||!e||this._destroyed||(this._frames=0,this._time=performance.now(),this._runId=requestAnimationFrame(e=>this._draw(e))),this.isOn}toggleFullscreen(){if(this.isFullscreen)document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{let e=this._fsEl;if(!e)return;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}}_binToFreq(e){return e*this.audioCtx.sampleRate/this.fftSize||1}_calcBars(){let e,t,i;let r=this._bars=[];if(!this._ready){this._flg={isAlpha:!1,isBands:!1,isLeds:!1,isLumi:!1,isOctaves:!1,isOutline:!1,isRound:!1,noLedGap:!1};return}let{_ansiBands:n,_barSpace:a,canvas:s,_chLayout:o,_maxFreq:l,_minFreq:c,_mirror:u,_mode:d,_radial:h,_radialInvert:p,_reflexRatio:m}=this,f=s.width>>1,g=s.height>>1,b=o==tp&&!h,y=o==td,v=d%10!=0,w=v&&"log"==this._frequencyScale,_=this._showLeds&&v&&!h,x=this._lumiBars&&v&&!h,T=this._alphaBars&&!x&&10!=d,k=this._outlineBars&&v&&!x&&!_,I=this._roundBars&&v&&!x&&!_,S=o!=tp||m>0&&!x,A=s.height-(b&&!_?.5:0)>>b,E=A*(x||h?1:1-m)|0,C=s.width-f*(y||0!=u),R=b?s.height-2*A:0,M=f*(-1==u&&!y&&!h),D=.375*Math.min(s.width,s.height)*(o==tp?1:this._radius)|0,L=Math.min(f,g);p&&o!=tp&&([D,L]=[L,D]);let B=e=>r.push({...e,peak:[0,0],hold:[0],alpha:[0],value:[0]}),P=e=>{let t=this._freqToBin(e,"floor"),i=this._binToFreq(t),r=Math.log2(e/i)/Math.log2(this._binToFreq(t+1)/i);return[t,r]};if(w){let a=(e,t,i)=>+e.toPrecision(i?Math.max(t,1+Math.log10(e)|0):t),s=e=>{let t=[1,1.12,1.25,1.4,1.6,1.8,2,2.24,2.5,2.8,3.15,3.55,4,4.5,5,5.6,6.3,7.1,8,9,10],i=0|Math.log10(e),r=e/10**i,n=1;for(;n<t.length&&r>t[n];)n++;return r-t[n-1]<t[n]-r&&n--,(t[n]*10**(i+5)|0)/1e5},o=[0,24,12,8,6,4,3,2,1][d],u=n?10**(3/(10*o)):2**(1/o),h=u**.5,p=n?7.94328235/(o%2?1:h):8.17579892;do{let e=p,t=a(e/h,4,!0),i=a(e*h,4,!0),[r,l]=P(t),[d,m]=P(i);(e=n?o<4?s(e):a(e,e.toString()[0]<5?3:2):a(e,4,!0))>=c&&B({posX:0,freq:e,freqLo:t,freqHi:i,binLo:r,binHi:d,ratioLo:l,ratioHi:m}),p*=u}while(p<=l);e=C/r.length,r.forEach((t,i)=>t.posX=M+i*e);let m=r[0],f=r[r.length-1];t=this._freqScaling(m.freqLo),i=C/(this._freqScaling(f.freqHi)-t),m.freqLo<c&&(m.freqLo=c,[m.binLo,m.ratioLo]=P(c)),f.freqHi>l&&(f.freqHi=l,[f.binHi,f.ratioHi]=P(l))}else if(v){let r=10*[0,24,12,8,6,4,3,2,1][d],n=e=>{switch(this._frequencyScale){case tI:return 1960/(26.81/(e+.53)-1);case"mel":return 700*(2**e-1);case tS:return e}};e=C/r,t=this._freqScaling(c),i=C/(this._freqScaling(l)-t);for(let a=0,s=0;a<r;a++,s+=e){let r=n(t+s/i),a=n(t+(s+e/2)/i),o=n(t+(s+e)/i),[l,c]=P(r),[u,d]=P(o);B({posX:M+s,freq:a,freqLo:r,freqHi:o,binLo:l,binHi:u,ratioLo:c,ratioHi:d})}}else{e=1,t=this._freqScaling(c),i=C/(this._freqScaling(l)-t);let n=this._freqToBin(c,"floor"),a=this._freqToBin(l),s=-999;for(let e=n;e<=a;e++){let n=this._binToFreq(e),a=M+Math.round(i*(this._freqScaling(n)-t));if(a>s)B({posX:a,freq:n,freqLo:n,freqHi:n,binLo:e,binHi:e,ratioLo:0,ratioHi:0}),s=a;else if(r.length){let t=r[r.length-1];t.binHi=e,t.freqHi=n,t.freq=(t.freqLo*n)**.5}}}let O=0,N=0;if(_){let t=this._pixelRatio/(window.devicePixelRatio>1&&window.screen.height<=540?2:1),i=this._ledParams,[r,n,a]=i||[[],[128,3,.45],[128,4,.225],[96,6,.225],[80,6,.225],[80,6,.125],[64,6,.125],[48,8,.125],[24,16,.125]][d],s,o=E;if(i){let e;let i=2*t;s=r+1;do N=(e=o/--s/(1+n))*n;while((e<i||N<i)&&s>1)}else N=Math.min(n*t,Math.max(2,o/(540/n)+.1|0));S&&(o+=N),i||(s=Math.min(r,o/(2*N)|0)),O=a>=1?a:e*a,this._leds=[s,O,N,o/s-N]}let z=Math.min(e-1,a*(a>0&&a<1?e:1));v&&(e-=Math.max(_?O:0,z)),r.forEach((t,i)=>{let n=t.posX,s=e;v&&(0!=a||_?n+=Math.max(_?O:0,z)/2:(n|=0,s|=0,i>0&&n>r[i-1].posX+r[i-1].width&&(n--,s++)),t.posX=n),t.barCenter=n+(1==e?0:s/2),t.width=s});let F=[];for(let e of[0,1]){let t=o==tp?(A+R)*e:0,i=t+A,r=t+E-(!_||S?0:N);F.push({channelTop:t,channelBottom:i,analyzerBottom:r})}this._aux={analyzerHeight:E,analyzerWidth:C,centerX:f,centerY:g,channelCoords:F,channelHeight:A,channelGap:R,initialX:M,innerRadius:D,outerRadius:L,scaleMin:t,unitWidth:i},this._flg={isAlpha:T,isBands:v,isLeds:_,isLumi:x,isOctaves:w,isOutline:k,isRound:I,noLedGap:S},this._createScales()}_createScales(){if(!this._ready)return;let{analyzerWidth:e,initialX:t,innerRadius:i,scaleMin:r,unitWidth:n}=this._aux,{canvas:a,_frequencyScale:s,_mirror:o,_noteLabels:l,_radial:c,_scaleX:u,_scaleR:d}=this,h=u.canvas,p=d.canvas,m=[],f=this._chLayout==td,g=this._chLayout==tp,b=Math.min(a.width,a.height),y=["C",,"D",,"E","F",,"G",,"A",,"B"],v=b/34|0,w=h.height>>1,_=v>>1,x=w*(l?.7:1.5),T=_*(l?1:2),k=2**(1/12);if(!l&&(this._ansiBands||"log"!=s))m.push(16,31.5,63,125,250,500,1e3,2e3,4e3),s==tS?m.push(6e3,8e3,1e4,12e3,14e3,16e3,18e3,2e4,22e3):m.push(8e3,16e3);else{let e=8.17579892;for(let t=-1;t<11;t++)for(let i=0;i<12;i++){if(e>=this._minFreq&&e<=this._maxFreq){let r=y[i],n="C"==r;(r&&l&&!o&&!f||n)&&m.push(l?[e,r+(n?t:"")]:e)}e*=k}}p.width=p.height=Math.max(.15*b,(i<<1)+g*v);let I=p.width>>1,S=I-.7*v,A=(e,t)=>{let i=tl*(e/a.width),r=i-tc,n=S*Math.cos(r),s=S*Math.sin(r);d.save(),d.translate(I+n,I+s),d.rotate(i),d.fillText(t,0,0),d.restore()};h.width|=0,u.fillStyle=d.strokeStyle="#000c",u.fillRect(0,0,h.width,h.height),d.arc(I,I,I-v/2,0,tl),d.lineWidth=v,d.stroke(),u.fillStyle=d.fillStyle=tT,u.font=`${w}px ${tv}`,d.font=`${_}px ${tv}`,u.textAlign=d.textAlign="center";let E=-x/4,C=-T;for(let i of m){let[p,m]=Array.isArray(i)?i:[i,i<1e3?0|i:`${(i/100|0)/10}k`],b=n*(this._freqScaling(p)-r),y=.75*h.height,v="C"==m[0],_=w*(!l||o||f?3:v?1.2:.6);if(u.fillStyle=d.fillStyle=!v||o||f?tT:"#4f4",l){let e="log"==s,t=s==tS,i=["C"];if((e||p>2e3||!t&&p>250||(!c||g)&&(!t&&p>125||p>1e3))&&i.push("G"),(e||p>4e3||!t&&p>500||(!c||g)&&(!t&&p>250||p>2e3))&&i.push("E"),(t&&p>4e3||(!c||g)&&(e||p>2e3||!t&&p>500))&&i.push("D","F","A","B"),!i.includes(m[0]))continue}b>=E+x/2&&b<=e&&(u.fillText(m,f&&-1==o?e-b:t+b,y,_),(f||o&&(b>x||1==o))&&u.fillText(m,f&&1!=o?e+b:(t||a.width)-b,y,_),E=b+Math.min(_,u.measureText(m).width)/2),b>=C+T&&b<e-T&&(A(f&&1==o?e-b:b,m),(f||o&&(b>T||1==o))&&A(f&&-1!=o?e+b:-b,m),C=b)}}_draw(e){this._runId=requestAnimationFrame(e=>this._draw(e));let t=e-this._time,i=e-this._last,r=this._maxFPS?975/this._maxFPS:0;if(i<r)return;this._last=e-(r?i%r:0),this._frames++,t>=1e3&&(this._fps=this._frames/t*1e3,this._frames=0,this._time=e);let{isAlpha:n,isBands:a,isLeds:s,isLumi:o,isOctaves:l,isOutline:c,isRound:u,noLedGap:d}=this._flg,{analyzerHeight:h,centerX:p,centerY:m,channelCoords:f,channelHeight:g,channelGap:b,initialX:y,innerRadius:v,outerRadius:w}=this._aux,{_bars:_,canvas:x,_canvasGradients:T,_chLayout:k,_colorMode:I,_ctx:S,_energy:A,_fadePeaks:E,fillAlpha:C,_fps:R,_linearAmplitude:M,_lineWidth:D,maxDecibels:L,minDecibels:B,_mirror:P,_mode:O,overlay:N,_radial:z,showBgColor:F,showPeaks:U,useCanvas:G,_weightingFilter:X}=this,W=this._scaleX.canvas,q=this._scaleR.canvas,j=R*this._peakFadeTime/1e3,H=R**2,$=1e3*this._gravity,Y=R*this._peakHoldTime/1e3,K=k==tu,V=k==td,Z=k==tp,J=k==th,Q=s&&this._trueLeds&&I==tg,ee=z?x.width:this._aux.analyzerWidth,et=y+ee,ei=U&&this._peakLine&&10==O,er=z?w-v:h,en=er/this._pixelRatio,[ea,es,eo,el]=this._leds||[];A.val>0&&R>0&&(this._spinAngle+=this._spinSpeed*tl/60/R);let ec=e=>{if(this._reflexRatio>0&&!o&&!z){let t,i;this.reflexFit||Z?(t=Z&&0==e?g+b:0,i=g-h):(t=x.height-2*h,i=h),S.save(),S.globalAlpha=this.reflexAlpha,1!=this.reflexBright&&(S.filter=`brightness(${this.reflexBright})`),S.setTransform(1,0,0,-1,0,x.height),S.drawImage(x,0,f[e].channelTop,x.width,h,0,t,x.width,i),S.restore()}},eu=e=>{let t=e**2,i=e=>20*Math.log10(e);switch(X){case"A":return 2+i(0x8dce284*t**2/((t+424.36)*Math.sqrt((t+11599.29)*(t+544496.41))*(t+0x8dce284)));case"B":return .17+i(0x8dce284*t*e/((t+424.36)*Math.sqrt(t+25122.25)*(t+0x8dce284)));case"C":return .06+i(0x8dce284*t/((t+424.36)*(t+0x8dce284)));case"D":return i(e/68966888496476e-18*Math.sqrt(((1037918.48-t)**2+1080768.16*t)/((9837328-t)**2+0xb2e400*t)/((t+79919.29)*(t+1345600))));case"468":return 18.2+i(1246332637532143e-19*e/Math.hypot(-4737338981378384e-39*e**6+2043828333606125e-30*e**4-1363894795463638e-22*t+1,1306612257412824e-34*e**5-2118150887518656e-26*e**3+5559488023498642e-19*e))}return 0},ed=(e,t,i)=>{S.beginPath(),S.moveTo(e,t),S.lineTo(e,i),S.stroke()},eh=e=>{if(e&&D){let e=S.globalAlpha;S.globalAlpha=1,S.stroke(),S.globalAlpha=e}},ep=e=>Math.max(0,(e*ea|0)*(el+eo)-eo);N&&S.clearRect(0,0,x.width,x.height);let em=0,ef=_.length,eg=J?1:2;for(let e=0;e<eg;e++){let{channelTop:t,channelBottom:i,analyzerBottom:r}=f[e],a=this._gradients[this._selectedGrads[e]],l=a.colorStops,d=l.length,w=F&&(!s||N)?a.bgColor:"#000",k=Z&&z&&e?-1:1,A=!e&&-1==P||e&&1==P,R=!V||e&&1!=P?0:ee>>(e||!A),q=V&&A?-1:1,J=()=>{let i=W.height,r=i>>1,n=M?100:L,a=M?0:B,s=M?20:5,o=h/(n-a),l=-1!=P&&(!V||0==e||1==P),c=1!=P&&(!V||e!=P);S.save(),S.fillStyle=tk,S.font=`${r}px ${tv}`,S.textAlign="right",S.lineWidth=1;for(let e=n;e>a;e-=s){let a=t+(n-e)*o,s=e%2==0|0;if(s){let n=a+r*(a==t?.8:.35);l&&S.fillText(e,.85*i,n),c&&S.fillText(e,(V?ee:x.width)-.1*i,n),S.strokeStyle=tk,S.setLineDash([2,4]),S.lineDashOffset=0}else S.strokeStyle="#555",S.setLineDash([2,8]),S.lineDashOffset=1;S.beginPath(),S.moveTo(y+i*s*l,~~a+.5),S.lineTo(et-i*s*c,~~a+.5),S.stroke()}S.restore()},ea=(e,t)=>{let i=ev[e]+(e<ev.length-1?(ev[e+1]-ev[e])*t:0);return isNaN(i)?-1/0:i},es=(e,t=q)=>t*tl*((e+R)/x.width)+this._spinAngle,eg=(e,t,i)=>{let r=v+t*k,n=es(e,i);return[p+r*Math.cos(n),m+r*Math.sin(n)]},eb=(e,t,i,r,n)=>{for(let a of(S.beginPath(),P&&!V?[1,-1]:[q])){let[s,o]=u?[es(e,a),es(e+i,a)]:[];S.moveTo(...eg(e,t,a)),S.lineTo(...eg(e,t+r,a)),u?S.arc(p,m,v+(t+r)*k,s,o,1!=a):S.lineTo(...eg(e+i,t+r,a)),S.lineTo(...eg(e+i,t,a)),u&&!n&&S.arc(p,m,v+t*k,o,s,1==a)}eh(n),S.fill()},ey=(t=0,i=0)=>{let r;if((I!=tg||Q)&&10!=O){let e=I==tm?i%d:l.findLastIndex(e=>s?ep(t)<=ep(e.level):t<=e.level);r=l[e].color}else r=T[e];S.fillStyle=S.strokeStyle=r};if(G){if(V&&!z){let t=ee*(e+A),i=A?-1:1;S.setTransform(i,0,0,1,t,0)}if((!N||F)&&(N&&(S.globalAlpha=this.bgAlpha),S.fillStyle=w,0!=e&&(z||K)||S.fillRect(y,t-b,ee,(N&&1==this.reflexAlpha?h:g)+b),S.globalAlpha=1),!this.showScaleY||o||z||0!=e&&K||J(),s?(S.setLineDash([el,eo]),S.lineWidth=_[0].width):S.lineWidth=c?Math.min(D,_[0].width/2):D,S.save(),!z){let e=new Path2D;e.rect(0,t,x.width,h),S.clip(e)}}let ev=this._fftData[e];this._analyzer[e].getFloatFrequencyData(ev),X&&(ev=ev.map((e,t)=>e+eu(this._binToFreq(t)))),S.beginPath();let ew=[];for(let i=0;i<ef;i++){let a=_[i],{posX:h,barCenter:p,width:m,freq:f,binLo:g,binHi:b,ratioLo:w,ratioHi:x}=a,T=Math.max(ea(g,w),ea(b,x));for(let e=g+1;e<b;e++)ev[e]>T&&(T=ev[e]);if(T=this._normalizedB(T),a.value[e]=T,em+=T,a.peak[e]>0&&a.alpha[e]>0&&(a.hold[e]--,a.hold[e]<0)){if(E&&!ei){let t=!n||c&&D>0?1:n?a.peak[e]:C;a.alpha[e]=t*(1+a.hold[e]/j)}else a.peak[e]+=a.hold[e]*$/H/en;a.alpha[e]<=0&&(a.peak[e]=0)}if(T>=a.peak[e]&&(a.peak[e]=T,a.hold[e]=Y,a.alpha[e]=!n||c&&D>0?1:n?T:C),!G)continue;S.globalAlpha=o||n?T:c?C:1,ey(T,i);let k=o?er:s?ep(T):T*er|0;if(10==O){let e=i?0:(this._normalizedB(ev[_[1].binLo])*er+k)/2;if(z){if(0==i&&(V&&S.moveTo(...eg(0,0)),S.lineTo(...eg(0,h<0?e:k))),h>=0){let e=[h,k];S.lineTo(...eg(...e)),ew.push(e)}}else{if(0==i){if(-1!=P||V){let e=g?this._normalizedB(ev[g-1])*er:k;S.moveTo(y-D,r-e)}else S.moveTo(y,r-(h<y?e:k))}(V||-1!=P||h>=y)&&S.lineTo(h,r-k)}}else if(s){if(F&&!N&&(0==e||!K)){let e=S.globalAlpha;S.strokeStyle="#7f7f7f22",S.globalAlpha=1,ed(p,t,r),S.strokeStyle=S.fillStyle,S.globalAlpha=e}if(Q){let e=o?0:l.findLastIndex(e=>ep(T)<=ep(e.level)),t=r;for(let i=d-1;i>=e;i--){S.strokeStyle=l[i].color;let n=r-(i==e?k:ep(l[i].level));ed(p,t,n),t=n-eo}}else ed(p,r,r-k)}else if(h>=y){if(z)eb(h,0,m,k,c);else if(u){let e=m/2,t=r+e;S.beginPath(),S.moveTo(h,t),S.lineTo(h,t-k),S.arc(p,t-k,e,to,tl),S.lineTo(h+m,t),eh(c),S.fill()}else{let e=c?S.lineWidth:0;S.beginPath(),S.rect(h,r+e,m,-k-e),eh(c),S.fill()}}let A=a.peak[e],R=a.alpha[e];if(A>0&&R>0&&U&&!ei&&!o&&h>=y&&h<et){if(E?S.globalAlpha=R:c&&D>0?S.globalAlpha=1:n&&(S.globalAlpha=A),(I==tf||Q)&&ey(A),s){let e=ep(A);e>=eo&&S.fillRect(h,r-e,m,el)}else if(z){if(10!=O){let e=A*er;eb(h,e,m,!this._radialInvert||Z||e+v>=2?-2:2)}}else S.fillRect(h,r-A*er,m,2)}}if(G){if(S.globalAlpha=1,10==O){if(ey(),z&&!V){if(P){let e;for(;e=ew.pop();)S.lineTo(...eg(...e,-1))}S.closePath()}if(D>0&&S.stroke(),C>0){if(z){let e=V?es(ee>>1):0,t=V?es(ee):tl;S.moveTo(...eg(V?ee>>1:0,0)),S.arc(p,m,v,e,t,!V||!A)}else S.lineTo(et,r),S.lineTo(y,r);S.globalAlpha=C,S.fill(),S.globalAlpha=1}if((ei||z&&U)&&(ew=[],S.beginPath(),_.forEach((t,i)=>{let n=t.posX,a=t.peak[e],s=i?"lineTo":"moveTo";if(z&&n<0){let t=_[i+1];a=tq(n,a,t.posX,t.peak[e],0),n=0}a*=er,ei?(S[s](...z?eg(n,a):[n,r-a]),z&&P&&!V&&ew.push([n,a])):a>0&&eb(n,a,1,-2)}),ei)){let e;for(;e=ew.pop();)S.lineTo(...eg(...e,-1));S.lineWidth=1,S.stroke()}}S.restore(),V&&!z&&S.setTransform(1,0,0,1,0,0),(V||K)&&!e||ec(e)}}if((e=>{A.val=e,A.peak>0&&(A.hold--,A.hold<0&&(A.peak+=A.hold*$/H/x.height*this._pixelRatio)),e>=A.peak&&(A.peak=e,A.hold=Y)})(em/(ef<<eg-1)),G&&(!P||z||V||(S.setTransform(-1,0,0,1,x.width-y,0),S.drawImage(x,y,0,p,x.height,0,0,p,x.height),S.setTransform(1,0,0,1,0,0)),S.setLineDash([]),(()=>{this.showScaleX&&(z?(S.save(),S.translate(p,m),this._spinSpeed&&S.rotate(this._spinAngle+tc),S.drawImage(q,-q.width>>1,-q.width>>1),S.restore()):S.drawImage(W,0,x.height-W.height))})()),this.showFPS){let e=W.height;S.font=`bold ${e}px ${tv}`,S.fillStyle="#0f0",S.textAlign="right",S.fillText(Math.round(R),x.width-e,2*e)}this.onCanvasDraw&&(S.save(),S.fillStyle=S.strokeStyle=T[0],this.onCanvasDraw(this,{timestamp:e,canvasGradients:T}),S.restore())}_freqScaling(e){switch(this._frequencyScale){case"log":return Math.log2(e);case tI:return 26.81*e/(1960+e)-.53;case"mel":return Math.log2(1+e/700);case tS:return e}}_freqToBin(e,t="round"){let i=this._analyzer[0].frequencyBinCount-1,r=Math[t](e*this.fftSize/this.audioCtx.sampleRate);return r<i?r:i}_makeGrad(){if(!this._ready)return;let{canvas:e,_ctx:t,_radial:i,_reflexRatio:r}=this,{analyzerWidth:n,centerX:a,centerY:s,initialX:o,innerRadius:l,outerRadius:c}=this._aux,{isLumi:u}=this._flg,d=this._chLayout==tp,h=1-r,p=u?e.height:e.height*(1-!d*r)|0;for(let e of[0,1]){let m;let f=this._gradients[this._selectedGrads[e]],g=f.colorStops,b="h"==f.dir;if(m=i?t.createRadialGradient(a,s,c,a,s,l-(c-l)*d):t.createLinearGradient(...b?[o,0,o+n,0]:[0,0,0,p]),g){let e=d&&!this._splitGradient&&(!b||i);for(let t=0;t<1+e;t++){let n=g.length-1;g.forEach((a,s)=>{let o=a.pos;e&&(o/=2),!d||u||i||b||(o*=h,e||!(o>.5*h)||(o+=.5*r)),1==t&&(i||u?o=1-(a=g[n-s]).pos/2:(0==s&&o>0&&m.addColorStop(.5,a.color),o+=.5)),m.addColorStop(o,a.color),d&&s==n&&o<.5&&m.addColorStop(.5,a.color)})}}this._canvasGradients[e]=m}}_normalizedB(e){let t;let i=this._linearAmplitude,r=i?1/this._linearBoost:1,n=this.maxDecibels,a=this.minDecibels;if(i){let t,i,s;t=n,n=10**(t/20),i=a,a=10**(i/20),s=e,e=(10**(s/20))**r}return(t=(e-a)/(n-a)**r)<=0?0:t>=1?1:t}_setCanvas(e){if(!this._ready)return;let{canvas:t,_ctx:i}=this,r=this._scaleX.canvas,n=window.devicePixelRatio/(this._loRes+1),a=window.screen.width*n,s=window.screen.height*n;90==Math.abs(window.orientation)&&a<s&&([a,s]=[s,a]);let o=this.isFullscreen,l=o&&this._fsEl==t,c=l?a:(this._width||this._container.clientWidth||this._defaultWidth)*n|0,u=l?s:(this._height||this._container.clientHeight||this._defaultHeight)*n|0;this._pixelRatio=n,this._fsWidth=a,this._fsHeight=s,(e==tw||t.width!=c||t.height!=u)&&(t.width=c,t.height=u,this.overlay||(i.fillStyle="#000",i.fillRect(0,0,c,u)),i.lineJoin="bevel",r.width=c,r.height=Math.max(20*n,Math.min(c,u)/32|0),this._calcBars(),this._makeGrad(),void 0!==this._fsStatus&&this._fsStatus!==o&&(e=t_),this._fsStatus=o,this.onCanvasResize&&this.onCanvasResize(e,this))}_setGradient(e,t){if(!this._gradients.hasOwnProperty(e))throw new tU(tD,e);[0,1].includes(t)||(this._selectedGrads[1]=e,t=0),this._selectedGrads[t]=e,this._makeGrad()}_setProps(e,t){let i=["onCanvasDraw","onCanvasResize"],r=Object.keys(tC).filter(e=>"start"!=e).concat(i,["gradientLeft","gradientRight","stereo"]);for(let n of((t||void 0===e)&&(e={...tC,...e}),Object.keys(e)))i.includes(n)&&"function"!=typeof e[n]?this[n]=void 0:r.includes(n)&&(this[n]=e[n]);void 0!==e.start&&this.toggleAnalyzer(e.start)}}var tH=i(7445);let t$=({id:e,children:t})=>{let{attributes:i,listeners:r,setNodeRef:a,transform:s,transition:o}=function(e){var t,i;let{animateLayoutChanges:r=ti,attributes:a,disabled:s,data:o,getNewIndex:l=tt,id:c,strategy:u,resizeObserverConfig:d,transition:h=tr}=e,{items:p,containerId:m,activeIndex:g,disabled:b,disableTransforms:y,sortedRects:v,overIndex:w,useDragOverlay:_,strategy:x}=(0,f.useContext)(e9),T="boolean"==typeof s?{draggable:s,droppable:!1}:{draggable:null!=(t=null==s?void 0:s.draggable)?t:b.draggable,droppable:null!=(i=null==s?void 0:s.droppable)?i:b.droppable},k=p.indexOf(c),I=(0,f.useMemo)(()=>({sortable:{containerId:m,index:k,items:p},...o}),[m,o,k,p]),S=(0,f.useMemo)(()=>p.slice(p.indexOf(c)),[p,c]),{rect:A,node:C,isOver:M,setNodeRef:L}=function(e){let{data:t,disabled:i=!1,id:r,resizeObserverConfig:a}=e,s=P("Droppable"),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=(0,f.useContext)(eK),d=(0,f.useRef)({disabled:i}),h=(0,f.useRef)(!1),p=(0,f.useRef)(null),m=(0,f.useRef)(null),{disabled:g,updateMeasurementsFor:b,timeout:y}={...e8,...a},v=R(null!=b?b:r),w=eO({callback:(0,f.useCallback)(()=>{if(!h.current){h.current=!0;return}null!=m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),m.current=null},y)},[y]),disabled:g||!o}),[_,x]=D((0,f.useCallback)((e,t)=>{w&&(t&&(w.unobserve(t),h.current=!1),e&&w.observe(e))},[w])),T=R(t);return(0,f.useEffect)(()=>{w&&_.current&&(w.disconnect(),h.current=!1,w.observe(_.current))},[_,w]),(0,f.useEffect)(()=>(l({type:n.RegisterDroppable,element:{id:r,key:s,disabled:i,node:_,rect:p,data:T}}),()=>l({type:n.UnregisterDroppable,key:s,id:r})),[r]),(0,f.useEffect)(()=>{i!==d.current.disabled&&(l({type:n.SetDroppableDisabled,id:r,key:s,disabled:i}),d.current.disabled=i)},[r,s,i,l]),{active:o,rect:p,isOver:(null==c?void 0:c.id)===r,node:_,over:c,setNodeRef:x}}({id:c,data:I,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...d}}),{active:B,activatorEvent:O,activeNodeRect:N,attributes:z,setNodeRef:U,listeners:X,isDragging:W,over:q,setActivatorNodeRef:j,transform:H}=function(e){let{id:t,data:i,disabled:r=!1,attributes:n}=e,a=P("Draggable"),{activators:s,activatorEvent:o,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:d,over:h}=(0,f.useContext)(eK),{role:p=e3,roleDescription:m="draggable",tabIndex:g=0}=null!=n?n:{},b=(null==l?void 0:l.id)===t,y=(0,f.useContext)(b?e0:e2),[v,w]=D(),[_,x]=D(),T=(0,f.useMemo)(()=>s.reduce((e,i)=>{let{eventName:r,handler:n}=i;return e[r]=e=>{n(e,t)},e},{}),[s,t]),k=R(i);return E(()=>(d.set(t,{id:t,key:a,node:v,activatorNode:_,data:k}),()=>{let e=d.get(t);e&&e.key===a&&d.delete(t)}),[d,t]),{active:l,activatorEvent:o,activeNodeRect:c,attributes:(0,f.useMemo)(()=>({role:p,tabIndex:g,"aria-disabled":r,"aria-pressed":!!b&&p===e3||void 0,"aria-roledescription":m,"aria-describedby":u.draggable}),[r,p,g,b,m,u.draggable]),isDragging:b,listeners:r?void 0:T,node:v,over:h,setNodeRef:w,setActivatorNodeRef:x,transform:y}}({id:c,data:I,attributes:{...ts,...a},disabled:T.draggable}),$=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,f.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(L,U),Y=!!B,K=Y&&!y&&e4(g)&&e4(w),V=!_&&W,Z=V&&K?H:null,J=K?null!=Z?Z:(null!=u?u:x)({rects:v,activeNodeRect:N,activeIndex:g,overIndex:w,index:k}):null,Q=e4(g)&&e4(w)?l({id:c,items:p,activeIndex:g,overIndex:w}):k,ee=null==B?void 0:B.id,et=(0,f.useRef)({activeId:ee,items:p,newIndex:Q,containerId:m}),ei=p!==et.current.items,en=r({active:B,containerId:m,isDragging:W,isSorting:Y,id:c,index:k,items:p,newIndex:et.current.newIndex,previousItems:et.current.items,previousContainerId:et.current.containerId,transition:h,wasDragging:null!=et.current.activeId}),ea=function(e){let{disabled:t,index:i,node:r,rect:n}=e,[a,s]=(0,f.useState)(null),o=(0,f.useRef)(i);return E(()=>{if(!t&&i!==o.current&&r.current){let e=n.current;if(e){let t=er(r.current,{ignoreTransform:!0}),i={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(i.x||i.y)&&s(i)}}i!==o.current&&(o.current=i)},[t,i,r,n]),(0,f.useEffect)(()=>{a&&s(null)},[a]),a}({disabled:!en,index:k,node:C,rect:A});return(0,f.useEffect)(()=>{Y&&et.current.newIndex!==Q&&(et.current.newIndex=Q),m!==et.current.containerId&&(et.current.containerId=m),p!==et.current.items&&(et.current.items=p)},[Y,Q,m,p]),(0,f.useEffect)(()=>{if(ee===et.current.activeId)return;if(null!=ee&&null==et.current.activeId){et.current.activeId=ee;return}let e=setTimeout(()=>{et.current.activeId=ee},50);return()=>clearTimeout(e)},[ee]),{active:B,activeIndex:g,attributes:z,data:I,rect:A,index:k,newIndex:Q,items:p,isOver:M,isSorting:Y,isDragging:W,listeners:X,node:C,overIndex:w,over:q,setNodeRef:$,setActivatorNodeRef:j,setDroppableNodeRef:L,setDraggableNodeRef:U,transform:null!=ea?ea:J,transition:ea||ei&&et.current.newIndex===k?ta:(!V||F(O))&&h&&(Y||en)?G.Transition.toString({...h,property:tn}):void 0}}({id:e}),l={transform:G.Transform.toString(s),transition:o};return(0,m.jsx)("li",{ref:a,style:l,...i,...r,children:t})},tY=()=>{let[e,t]=(0,f.useState)([]),[i,r]=(0,f.useState)([]),[n,a]=(0,f.useState)(0),[s,o]=(0,f.useState)(null),l=(0,f.useRef)(null),[c,u]=(0,f.useState)(!1),[d,h]=(0,f.useState)(!1),p=(0,f.useRef)(null);(0,f.useEffect)(()=>{(async()=>{try{let e=(await (0,b.Ci)("Musique",{baseDir:b.DE.Home})).map((e,t)=>({id:t,name:e.name,path:`Musique/${e.name}`}));t(e),r(e)}catch(e){console.error("Error reading directory:",e)}})()},[]),(0,f.useEffect)(()=>{l.current&&e.length>0&&(async e=>{try{let t=await (0,b.TA)(e,{baseDir:b.DE.Home}),i=await (0,y.ix)(Buffer.from(t));o(i);let r=new Blob([new Uint8Array(t)],{type:"audio/mp4"}),n=URL.createObjectURL(r);l.current.src=n}catch(e){console.error("Erreur de lecture du fichier:",e)}})(e[n].path)},[n,e]),(0,f.useEffect)(()=>{!p.current&&l.current&&(p.current=new tj(document.getElementById("visualizer"),{source:l.current,alphaBars:!1,ansiBands:!1,barSpace:.1,bgAlpha:"0",channelLayout:"single",colorMode:"gradient",fadePeaks:!0,fftSize:256,fillAlpha:1,frequencyScale:"linear",gradient:"rainbow",gravity:3.8,ledBars:!0,linearAmplitude:!0,linearBoost:1.8,lineWidth:4,loRes:!1,lumiBars:!1,maxDecibels:-25,maxFPS:0,maxFreq:8e3,minDecibels:-85,minFreq:100,mirror:0,mode:0,noteLabels:!1,outlineBars:!1,overlay:!0,peakFadeTime:750,peakHoldTime:500,peakLine:!0,radial:!1,radialInvert:!1,radius:.3,reflexAlpha:"0.3",reflexBright:"0.9",reflexFit:!0,reflexRatio:.3,roundBars:!1,showBgColor:!0,showFPS:!1,showPeaks:!0,showScaleX:!1,showScaleY:!1,smoothing:.8,spinSpeed:0,splitGradient:!1,trueLeds:!1,useCanvas:!0,volume:1,weightingFilter:""}))},[l.current]);let g=()=>{let t=[...e];for(let e=t.length-1;e>0;e--){let i=Math.floor(Math.random()*(e+1));[t[e],t[i]]=[t[i],t[e]]}return t};return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:tH.container,children:[(0,m.jsxs)("div",{className:tH.container1,children:[s&&(0,m.jsx)("div",{className:tH.player,children:(0,m.jsxs)("div",{children:[s.common.picture?.[0]&&(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:tH.background,style:{background:`url(${URL.createObjectURL(new Blob([s.common.picture[0].data],{type:s.common.picture[0].format}))}) center/cover`}}),(0,m.jsx)("div",{className:tH.foreground,children:(0,m.jsx)("img",{src:URL.createObjectURL(new Blob([s.common.picture[0].data],{type:s.common.picture[0].format})),alt:"Cover"})})]}),(0,m.jsx)("h2",{children:s.common.title||e[n].name})]})}),(0,m.jsxs)("div",{className:tH.controls,children:[(0,m.jsx)("audio",{autoPlay:!0,ref:l,id:"audioPlayer",controls:!0,onEnded:()=>{a(t=>(t+1)%e.length)}}),(0,m.jsxs)("div",{className:tH.btn,children:[(0,m.jsx)("button",{onClick:()=>{a(t=>(t-1+e.length)%e.length)},children:(0,m.jsx)("img",{src:"/back.svg",alt:"back"})}),(0,m.jsx)("button",{onClick:()=>{a(t=>(t+1)%e.length)},children:(0,m.jsx)("img",{src:"/next.svg",alt:"next"})}),(0,m.jsx)("button",{onClick:()=>{h(e=>{let r=!e;return r?t(g()):t(i),r})},style:{backgroundColor:d?"#080808de":"#1e1e1e85"},children:(0,m.jsx)("img",{src:"/shuffle.svg",alt:"shuffle"})}),(0,m.jsx)("button",{onClick:()=>u(!c),children:(0,m.jsx)("img",{src:"/playlist.svg",alt:"playlist"})})]})]})]}),(0,m.jsx)("div",{className:tH.container2,children:(0,m.jsx)("div",{id:"visualizer",className:tH.visualizer})})]}),c&&(0,m.jsx)("div",{className:tH.playlist,children:(0,m.jsx)(e1,{onDragEnd:({active:i,over:n})=>{i.id!==n.id&&(t(e=>{let t=e.findIndex(e=>e.id===i.id),r=e.findIndex(e=>e.id===n.id);return e6(e,t,r)}),r(e))},children:(0,m.jsx)(te,{items:e,children:(0,m.jsx)("ul",{children:e.map((e,t)=>(0,m.jsx)(t$,{id:e.id,children:(0,m.jsx)("p",{style:{color:t===n?"gold":"white"},children:e.name})},e.id))})})})})]})}},7311:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var r=i(2149),n=i(2160),a=i(9717),s=i(2336);let o=()=>{let[e,t]=(0,n.useState)([]),[i,o]=(0,n.useState)(0),[l,c]=(0,n.useState)(null),u=(0,n.useRef)(null);return(0,n.useEffect)(()=>{(async()=>{try{let e=(await (0,a.Ci)("Musique",{baseDir:a.DE.Home})).map(e=>({name:e.name,path:`Musique/${e.name}`}));t(e)}catch(e){console.error("Error reading directory:",e)}})()},[]),(0,n.useEffect)(()=>{u.current&&e.length>0&&(async e=>{try{let t=await (0,a.TA)(e,{baseDir:a.DE.Home}),i=await (0,s.ix)(Buffer.from(t));c(i);let r=new Blob([new Uint8Array(t)],{type:"audio/mp4"}),n=URL.createObjectURL(r);u.current.src=n}catch(e){console.error("Erreur de lecture du fichier:",e)}})(e[i].path)},[i,e]),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"Lecteur de Musique"}),(0,r.jsx)("audio",{autoPlay:!0,ref:u,id:"audioPlayer",controls:!0,onEnded:()=>{o(t=>(t+1)%e.length)}}),l&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:l.common.title||e[i].name}),l.common.picture?.[0]&&(0,r.jsx)("img",{src:URL.createObjectURL(new Blob([l.common.picture[0].data],{type:l.common.picture[0].format})),alt:"Cover"})]}),(0,r.jsx)("button",{onClick:()=>{o(t=>(t-1+e.length)%e.length)},children:"Pr\xe9c\xe9dent"}),(0,r.jsx)("button",{onClick:()=>{o(t=>(t+1)%e.length)},children:"Suivant"}),(0,r.jsx)("ul",{children:[...e.slice(i+1),...e.slice(0,i)].map((t,n)=>(0,r.jsx)("li",{onClick:()=>o((i+n+1)%e.length),children:t.name},n))})]})}},7148:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});var r=i(949);function n({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{children:e})})}},3748:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>y});var r,n,a,s,o,l,c,u,d=i(949);i(2507),"function"==typeof SuppressedError&&SuppressedError;let h="__TAURI_TO_IPC_KEY__";new WeakMap,new WeakMap,new WeakMap;new WeakMap;class p{constructor(...e){this.type="Logical",1===e.length?"Logical"in e[0]?(this.width=e[0].Logical.width,this.height=e[0].Logical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toPhysical(e){return new m(this.width*e,this.height*e)}[h](){return{width:this.width,height:this.height}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class m{constructor(...e){this.type="Physical",1===e.length?"Physical"in e[0]?(this.width=e[0].Physical.width,this.height=e[0].Physical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toLogical(e){return new p(this.width/e,this.height/e)}[h](){return{width:this.width,height:this.height}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class f{constructor(...e){this.type="Logical",1===e.length?"Logical"in e[0]?(this.x=e[0].Logical.x,this.y=e[0].Logical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toPhysical(e){return new g(this.x*e,this.y*e)}[h](){return{x:this.x,y:this.y}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}class g{constructor(...e){this.type="Physical",1===e.length?"Physical"in e[0]?(this.x=e[0].Physical.x,this.y=e[0].Physical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toLogical(e){return new f(this.x/e,this.y/e)}[h](){return{x:this.x,y:this.y}}toJSON(){return this[SERIALIZE_TO_IPC_FN]()}}(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG_ENTER="tauri://drag-enter",e.DRAG_OVER="tauri://drag-over",e.DRAG_DROP="tauri://drag-drop",e.DRAG_LEAVE="tauri://drag-leave"})(s||(s={})),function(e){e[e.Critical=1]="Critical",e[e.Informational=2]="Informational"}(o||(o={})),function(e){e.None="none",e.Normal="normal",e.Indeterminate="indeterminate",e.Paused="paused",e.Error="error"}(l||(l={})),function(e){e.AppearanceBased="appearanceBased",e.Light="light",e.Dark="dark",e.MediumLight="mediumLight",e.UltraDark="ultraDark",e.Titlebar="titlebar",e.Selection="selection",e.Menu="menu",e.Popover="popover",e.Sidebar="sidebar",e.HeaderView="headerView",e.Sheet="sheet",e.WindowBackground="windowBackground",e.HudWindow="hudWindow",e.FullScreenUI="fullScreenUI",e.Tooltip="tooltip",e.ContentBackground="contentBackground",e.UnderWindowBackground="underWindowBackground",e.UnderPageBackground="underPageBackground",e.Mica="mica",e.Blur="blur",e.Acrylic="acrylic",e.Tabbed="tabbed",e.TabbedDark="tabbedDark",e.TabbedLight="tabbedLight"}(c||(c={})),function(e){e.FollowsWindowActiveState="followsWindowActiveState",e.Active="active",e.Inactive="inactive"}(u||(u={}));var b=i(3938);function y(){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(b.default,{})})}i(8251)},3938:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});let r=(0,i(1499).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/lilas/Bureau/Dev/LMP/src/components/draggable.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/lilas/Bureau/Dev/LMP/src/components/draggable.js","default")},8251:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let r=(0,i(1499).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/lilas/Bureau/Dev/LMP/src/components/playlist.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/lilas/Bureau/Dev/LMP/src/components/playlist.js","default")}};var t=require("../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[912],()=>i(8005));module.exports=r})();